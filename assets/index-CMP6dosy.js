const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SocialMediaLinks-C-sjNCAu.js","assets/twitter-DPcURAI0.js","assets/ArticleDetail-DastjaTn.js","assets/Loading-BbDrIVtU.js","assets/profile-img-B4brBjy0.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function N1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var mm={exports:{}},Ml={};var Hv;function O1(){if(Hv)return Ml;Hv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Ml.Fragment=e,Ml.jsx=n,Ml.jsxs=n,Ml}var Fv;function x1(){return Fv||(Fv=1,mm.exports=O1()),mm.exports}var G=x1(),pm={exports:{}},Ae={};var Gv;function M1(){if(Gv)return Ae;Gv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function V(x){return x===null||typeof x!="object"?null:(x=w&&x[w]||x["@@iterator"],typeof x=="function"?x:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,B={};function Z(x,W,ae){this.props=x,this.context=W,this.refs=B,this.updater=ae||H}Z.prototype.isReactComponent={},Z.prototype.setState=function(x,W){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,W,"setState")},Z.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function ie(){}ie.prototype=Z.prototype;function ee(x,W,ae){this.props=x,this.context=W,this.refs=B,this.updater=ae||H}var le=ee.prototype=new ie;le.constructor=ee,$(le,Z.prototype),le.isPureReactComponent=!0;var fe=Array.isArray;function ge(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function R(x,W,ae){var ce=ae.ref;return{$$typeof:r,type:x,key:W,ref:ce!==void 0?ce:null,props:ae}}function M(x,W){return R(x.type,W,x.props)}function N(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function L(x){var W={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ae){return W[ae]})}var I=/\/+/g;function rt(x,W){return typeof x=="object"&&x!==null&&x.key!=null?L(""+x.key):W.toString(36)}function Dt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(ge,ge):(x.status="pending",x.then(function(W){x.status==="pending"&&(x.status="fulfilled",x.value=W)},function(W){x.status==="pending"&&(x.status="rejected",x.reason=W)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function Y(x,W,ae,ce,Te){var Ce=typeof x;(Ce==="undefined"||Ce==="boolean")&&(x=null);var ke=!1;if(x===null)ke=!0;else switch(Ce){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(x.$$typeof){case r:case e:ke=!0;break;case E:return ke=x._init,Y(ke(x._payload),W,ae,ce,Te)}}if(ke)return Te=Te(x),ke=ce===""?"."+rt(x,0):ce,fe(Te)?(ae="",ke!=null&&(ae=ke.replace(I,"$&/")+"/"),Y(Te,W,ae,"",function(ms){return ms})):Te!=null&&(N(Te)&&(Te=M(Te,ae+(Te.key==null||x&&x.key===Te.key?"":(""+Te.key).replace(I,"$&/")+"/")+ke)),W.push(Te)),1;ke=0;var Nt=ce===""?".":ce+":";if(fe(x))for(var st=0;st<x.length;st++)ce=x[st],Ce=Nt+rt(ce,st),ke+=Y(ce,W,ae,Ce,Te);else if(st=V(x),typeof st=="function")for(x=st.call(x),st=0;!(ce=x.next()).done;)ce=ce.value,Ce=Nt+rt(ce,st++),ke+=Y(ce,W,ae,Ce,Te);else if(Ce==="object"){if(typeof x.then=="function")return Y(Dt(x),W,ae,ce,Te);throw W=String(x),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return ke}function se(x,W,ae){if(x==null)return x;var ce=[],Te=0;return Y(x,ce,"","",function(Ce){return W.call(ae,Ce,Te++)}),ce}function ye(x){if(x._status===-1){var W=x._result;W=W(),W.then(function(ae){(x._status===0||x._status===-1)&&(x._status=1,x._result=ae)},function(ae){(x._status===0||x._status===-1)&&(x._status=2,x._result=ae)}),x._status===-1&&(x._status=0,x._result=W)}if(x._status===1)return x._result.default;throw x._result}var ze=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Ge={map:se,forEach:function(x,W,ae){se(x,function(){W.apply(this,arguments)},ae)},count:function(x){var W=0;return se(x,function(){W++}),W},toArray:function(x){return se(x,function(W){return W})||[]},only:function(x){if(!N(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return Ae.Activity=T,Ae.Children=Ge,Ae.Component=Z,Ae.Fragment=n,Ae.Profiler=o,Ae.PureComponent=ee,Ae.StrictMode=s,Ae.Suspense=p,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(x){return C.H.useMemoCache(x)}},Ae.cache=function(x){return function(){return x.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(x,W,ae){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var ce=$({},x.props),Te=x.key;if(W!=null)for(Ce in W.key!==void 0&&(Te=""+W.key),W)!b.call(W,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&W.ref===void 0||(ce[Ce]=W[Ce]);var Ce=arguments.length-2;if(Ce===1)ce.children=ae;else if(1<Ce){for(var ke=Array(Ce),Nt=0;Nt<Ce;Nt++)ke[Nt]=arguments[Nt+2];ce.children=ke}return R(x.type,Te,ce)},Ae.createContext=function(x){return x={$$typeof:h,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Ae.createElement=function(x,W,ae){var ce,Te={},Ce=null;if(W!=null)for(ce in W.key!==void 0&&(Ce=""+W.key),W)b.call(W,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(Te[ce]=W[ce]);var ke=arguments.length-2;if(ke===1)Te.children=ae;else if(1<ke){for(var Nt=Array(ke),st=0;st<ke;st++)Nt[st]=arguments[st+2];Te.children=Nt}if(x&&x.defaultProps)for(ce in ke=x.defaultProps,ke)Te[ce]===void 0&&(Te[ce]=ke[ce]);return R(x,Ce,Te)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(x){return{$$typeof:m,render:x}},Ae.isValidElement=N,Ae.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:ye}},Ae.memo=function(x,W){return{$$typeof:g,type:x,compare:W===void 0?null:W}},Ae.startTransition=function(x){var W=C.T,ae={};C.T=ae;try{var ce=x(),Te=C.S;Te!==null&&Te(ae,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(ge,ze)}catch(Ce){ze(Ce)}finally{W!==null&&ae.types!==null&&(W.types=ae.types),C.T=W}},Ae.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ae.use=function(x){return C.H.use(x)},Ae.useActionState=function(x,W,ae){return C.H.useActionState(x,W,ae)},Ae.useCallback=function(x,W){return C.H.useCallback(x,W)},Ae.useContext=function(x){return C.H.useContext(x)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(x,W){return C.H.useDeferredValue(x,W)},Ae.useEffect=function(x,W){return C.H.useEffect(x,W)},Ae.useEffectEvent=function(x){return C.H.useEffectEvent(x)},Ae.useId=function(){return C.H.useId()},Ae.useImperativeHandle=function(x,W,ae){return C.H.useImperativeHandle(x,W,ae)},Ae.useInsertionEffect=function(x,W){return C.H.useInsertionEffect(x,W)},Ae.useLayoutEffect=function(x,W){return C.H.useLayoutEffect(x,W)},Ae.useMemo=function(x,W){return C.H.useMemo(x,W)},Ae.useOptimistic=function(x,W){return C.H.useOptimistic(x,W)},Ae.useReducer=function(x,W,ae){return C.H.useReducer(x,W,ae)},Ae.useRef=function(x){return C.H.useRef(x)},Ae.useState=function(x){return C.H.useState(x)},Ae.useSyncExternalStore=function(x,W,ae){return C.H.useSyncExternalStore(x,W,ae)},Ae.useTransition=function(){return C.H.useTransition()},Ae.version="19.2.0",Ae}var Qv;function Hh(){return Qv||(Qv=1,pm.exports=M1()),pm.exports}var U=Hh();const V1=N1(U);var Kv="popstate";function P1(r={}){function e(o,u){let{pathname:h="/",search:m="",hash:p=""}=sa(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),zm("",{pathname:h,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:Yl(u))}function s(o,u){bn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return k1(e,n,s,r)}function lt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function bn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function L1(){return Math.random().toString(36).substring(2,10)}function Yv(r,e){return{usr:r.state,key:r.key,idx:e}}function zm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?sa(e):e,state:n,key:e&&e.key||s||L1()}}function Yl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function sa(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function k1(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function T(){m="POP";let B=E(),Z=B==null?null:B-g;g=B,p&&p({action:m,location:$.location,delta:Z})}function w(B,Z){m="PUSH";let ie=zm($.location,B,Z);n&&n(ie,B),g=E()+1;let ee=Yv(ie,g),le=$.createHref(ie);try{h.pushState(ee,"",le)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;o.location.assign(le)}u&&p&&p({action:m,location:$.location,delta:1})}function V(B,Z){m="REPLACE";let ie=zm($.location,B,Z);n&&n(ie,B),g=E();let ee=Yv(ie,g),le=$.createHref(ie);h.replaceState(ee,"",le),u&&p&&p({action:m,location:$.location,delta:0})}function H(B){return U1(B)}let $={get action(){return m},get location(){return r(o,h)},listen(B){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Kv,T),p=B,()=>{o.removeEventListener(Kv,T),p=null}},createHref(B){return e(o,B)},createURL:H,encodeLocation(B){let Z=H(B);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:w,replace:V,go(B){return h.go(B)}};return $}function U1(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Yl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function t0(r,e,n="/"){return z1(r,e,n,!1)}function z1(r,e,n,s){let o=typeof e=="string"?sa(e):e,u=lr(o.pathname||"/",n);if(u==null)return null;let h=n0(r);j1(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=J1(u);m=X1(h[p],g,s)}return m}function n0(r,e=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let E={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;lt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=sr([s,E.relativePath]),w=n.concat(E);h.children&&h.children.length>0&&(lt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),n0(h.children,e,w,T,p)),!(h.path==null&&!h.index)&&e.push({path:T,score:K1(T,h.index),routesMeta:w})};return r.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of i0(h.path))u(h,m,!0,p)}),e}function i0(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=i0(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function j1(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Y1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var B1=/^:[\w-]+$/,q1=3,H1=2,F1=1,G1=10,Q1=-2,Xv=r=>r==="*";function K1(r,e){let n=r.split("/"),s=n.length;return n.some(Xv)&&(s+=Q1),e&&(s+=H1),n.filter(o=>!Xv(o)).reduce((o,u)=>o+(B1.test(u)?q1:u===""?F1:G1),s)}function Y1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function X1(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=_h({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),w=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=_h({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:sr([u,T.pathname]),pathnameBase:nw(sr([u,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(u=sr([u,T.pathnameBase]))}return h}function _h(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=$1(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},w)=>{if(E==="*"){let H=m[w]||"";h=u.slice(0,u.length-H.length).replace(/(.)\/+$/,"$1")}const V=m[w];return T&&!V?g[E]=void 0:g[E]=(V||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function $1(r,e=!1,n=!0){bn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function J1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function lr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var Z1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,W1=r=>Z1.test(r);function ew(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?sa(r):r,u;if(n)if(W1(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),bn(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=$v(n.substring(1),"/"):u=$v(n,e)}else u=e;return{pathname:u,search:iw(s),hash:rw(o)}}function $v(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function gm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function tw(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vp(r){let e=tw(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Ep(r,e,n,s=!1){let o;typeof r=="string"?o=sa(r):(o={...r},lt(!o.pathname||!o.pathname.includes("?"),gm("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),gm("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),gm("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}m=T>=0?e[T]:"/"}let p=ew(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var sr=r=>r.join("/").replace(/\/\/+/g,"/"),nw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),iw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,rw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,M4=(r,e=302)=>{let n=e;typeof n=="number"?n={status:n}:typeof n.status>"u"&&(n.status=302);let s=new Headers(n.headers);return s.set("Location",r),new Response(null,{...n,headers:s})};function sw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var r0=["POST","PUT","PATCH","DELETE"];new Set(r0);var aw=["GET",...r0];new Set(aw);var vo=U.createContext(null);vo.displayName="DataRouter";var Fh=U.createContext(null);Fh.displayName="DataRouterState";U.createContext(!1);var s0=U.createContext({isTransitioning:!1});s0.displayName="ViewTransition";var ow=U.createContext(new Map);ow.displayName="Fetchers";var lw=U.createContext(null);lw.displayName="Await";var ai=U.createContext(null);ai.displayName="Navigation";var lu=U.createContext(null);lu.displayName="Location";var Bn=U.createContext({outlet:null,matches:[],isDataRoute:!1});Bn.displayName="Route";var Tp=U.createContext(null);Tp.displayName="RouteError";function uw(r,{relative:e}={}){lt(Eo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=U.useContext(ai),{hash:o,pathname:u,search:h}=uu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:sr([n,u])),s.createHref({pathname:m,search:h,hash:o})}function Eo(){return U.useContext(lu)!=null}function mr(){return lt(Eo(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(lu).location}var a0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function o0(r){U.useContext(ai).static||U.useLayoutEffect(r)}function l0(){let{isDataRoute:r}=U.useContext(Bn);return r?ww():cw()}function cw(){lt(Eo(),"useNavigate() may be used only in the context of a <Router> component.");let r=U.useContext(vo),{basename:e,navigator:n}=U.useContext(ai),{matches:s}=U.useContext(Bn),{pathname:o}=mr(),u=JSON.stringify(vp(s)),h=U.useRef(!1);return o0(()=>{h.current=!0}),U.useCallback((p,g={})=>{if(bn(h.current,a0),!h.current)return;if(typeof p=="number"){n.go(p);return}let E=Ep(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:sr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}var hw=U.createContext(null);function fw(r){let e=U.useContext(Bn).outlet;return U.useMemo(()=>e&&U.createElement(hw.Provider,{value:r},e),[e,r])}function dw(){let{matches:r}=U.useContext(Bn),e=r[r.length-1];return e?e.params:{}}function uu(r,{relative:e}={}){let{matches:n}=U.useContext(Bn),{pathname:s}=mr(),o=JSON.stringify(vp(n));return U.useMemo(()=>Ep(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function mw(r,e){return u0(r,e)}function u0(r,e,n,s,o){lt(Eo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=U.useContext(ai),{matches:h}=U.useContext(Bn),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let ie=T&&T.path||"";c0(g,!T||ie.endsWith("*")||ie.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ie}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ie}"> to <Route path="${ie==="/"?"*":`${ie}/*`}">.`)}let w=mr(),V;if(e){let ie=typeof e=="string"?sa(e):e;lt(E==="/"||ie.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ie.pathname}" was given in the \`location\` prop.`),V=ie}else V=w;let H=V.pathname||"/",$=H;if(E!=="/"){let ie=E.replace(/^\//,"").split("/");$="/"+H.replace(/^\//,"").split("/").slice(ie.length).join("/")}let B=t0(r,{pathname:$});bn(T||B!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),bn(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Z=vw(B&&B.map(ie=>Object.assign({},ie,{params:Object.assign({},p,ie.params),pathname:sr([E,u.encodeLocation?u.encodeLocation(ie.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathname]),pathnameBase:ie.pathnameBase==="/"?E:sr([E,u.encodeLocation?u.encodeLocation(ie.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathnameBase])})),h,n,s,o);return e&&Z?U.createElement(lu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},Z):Z}function pw(){let r=bw(),e=sw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=U.createElement(U.Fragment,null,U.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:o},n):null,h)}var gw=U.createElement(pw,null),yw=class extends U.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?U.createElement(Bn.Provider,{value:this.props.routeContext},U.createElement(Tp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _w({routeContext:r,match:e,children:n}){let s=U.useContext(vo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Bn.Provider,{value:r},n)}function vw(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,h=n?.errors;if(h!=null){let E=u.findIndex(T=>T.route.id&&h?.[T.route.id]!==void 0);lt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:w,errors:V}=n,H=T.route.loader&&!w.hasOwnProperty(T.route.id)&&(!V||V[T.route.id]===void 0);if(T.route.lazy||H){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(E,T)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:T})}:void 0;return u.reduceRight((E,T,w)=>{let V,H=!1,$=null,B=null;n&&(V=h&&T.route.id?h[T.route.id]:void 0,$=T.route.errorElement||gw,m&&(p<0&&w===0?(c0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),H=!0,B=null):p===w&&(H=!0,B=T.route.hydrateFallbackElement||null)));let Z=e.concat(u.slice(0,w+1)),ie=()=>{let ee;return V?ee=$:H?ee=B:T.route.Component?ee=U.createElement(T.route.Component,null):T.route.element?ee=T.route.element:ee=E,U.createElement(_w,{match:T,routeContext:{outlet:E,matches:Z,isDataRoute:n!=null},children:ee})};return n&&(T.route.ErrorBoundary||T.route.errorElement||w===0)?U.createElement(yw,{location:n.location,revalidation:n.revalidation,component:$,error:V,children:ie(),routeContext:{outlet:null,matches:Z,isDataRoute:!0},onError:g}):ie()},null)}function Sp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ew(r){let e=U.useContext(vo);return lt(e,Sp(r)),e}function Tw(r){let e=U.useContext(Fh);return lt(e,Sp(r)),e}function Sw(r){let e=U.useContext(Bn);return lt(e,Sp(r)),e}function Ap(r){let e=Sw(r),n=e.matches[e.matches.length-1];return lt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Aw(){return Ap("useRouteId")}function bw(){let r=U.useContext(Tp),e=Tw("useRouteError"),n=Ap("useRouteError");return r!==void 0?r:e.errors?.[n]}function ww(){let{router:r}=Ew("useNavigate"),e=Ap("useNavigate"),n=U.useRef(!1);return o0(()=>{n.current=!0}),U.useCallback(async(o,u={})=>{bn(n.current,a0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Jv={};function c0(r,e,n){!e&&!Jv[r]&&(Jv[r]=!0,bn(!1,n))}U.memo(Rw);function Rw({routes:r,future:e,state:n,unstable_onError:s}){return u0(r,void 0,n,s,e)}function Cw({to:r,replace:e,state:n,relative:s}){lt(Eo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=U.useContext(ai);bn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=U.useContext(Bn),{pathname:h}=mr(),m=l0(),p=Ep(r,vp(u),h,s==="path"),g=JSON.stringify(p);return U.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function Iw(r){return fw(r.context)}function dn(r){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Dw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){lt(!Eo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=U.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=sa(n));let{pathname:p="/",search:g="",hash:E="",state:T=null,key:w="default"}=n,V=U.useMemo(()=>{let H=lr(p,h);return H==null?null:{location:{pathname:H,search:g,hash:E,state:T,key:w},navigationType:s}},[h,p,g,E,T,w,s]);return bn(V!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:U.createElement(ai.Provider,{value:m},U.createElement(lu.Provider,{children:e,value:V}))}function Nw({children:r,location:e}){return mw(jm(r),e)}function jm(r,e=[]){let n=[];return U.Children.forEach(r,(s,o)=>{if(!U.isValidElement(s))return;let u=[...e,o];if(s.type===U.Fragment){n.push.apply(n,jm(s.props.children,u));return}lt(s.type===dn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=jm(s.props.children,u)),n.push(h)}),n}var ah="get",oh="application/x-www-form-urlencoded";function Gh(r){return r!=null&&typeof r.tagName=="string"}function Ow(r){return Gh(r)&&r.tagName.toLowerCase()==="button"}function xw(r){return Gh(r)&&r.tagName.toLowerCase()==="form"}function Mw(r){return Gh(r)&&r.tagName.toLowerCase()==="input"}function Vw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Pw(r,e){return r.button===0&&(!e||e==="_self")&&!Vw(r)}var $c=null;function Lw(){if($c===null)try{new FormData(document.createElement("form"),0),$c=!1}catch{$c=!0}return $c}var kw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ym(r){return r!=null&&!kw.has(r)?(bn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oh}"`),null):r}function Uw(r,e){let n,s,o,u,h;if(xw(r)){let m=r.getAttribute("action");s=m?lr(m,e):null,n=r.getAttribute("method")||ah,o=ym(r.getAttribute("enctype"))||oh,u=new FormData(r)}else if(Ow(r)||Mw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?lr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||ah,o=ym(r.getAttribute("formenctype"))||ym(m.getAttribute("enctype"))||oh,u=new FormData(m,r),!Lw()){let{name:g,type:E,value:T}=r;if(E==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,T)}}else{if(Gh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ah,s=null,o=oh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function zw(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&lr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function jw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Bw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function qw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await jw(u,n);return h.links?h.links():[]}return[]}));return Qw(s.flat(1).filter(Bw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Zv(r,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function Hw(r,e,{includeHydrateFallback:n}={}){return Fw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Fw(r){return[...new Set(r)]}function Gw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Qw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(Gw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function h0(){let r=U.useContext(vo);return bp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Kw(){let r=U.useContext(Fh);return bp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var wp=U.createContext(void 0);wp.displayName="FrameworkContext";function f0(){let r=U.useContext(wp);return bp(r,"You must render this element inside a <HydratedRouter> element"),r}function Yw(r,e){let n=U.useContext(wp),[s,o]=U.useState(!1),[u,h]=U.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,w=U.useRef(null);U.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let $=Z=>{Z.forEach(ie=>{h(ie.isIntersecting)})},B=new IntersectionObserver($,{threshold:.5});return w.current&&B.observe(w.current),()=>{B.disconnect()}}},[r]),U.useEffect(()=>{if(s){let $=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout($)}}},[s]);let V=()=>{o(!0)},H=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:Vl(m,V),onBlur:Vl(p,H),onMouseEnter:Vl(g,V),onMouseLeave:Vl(E,H),onTouchStart:Vl(T,V)}]:[!1,w,{}]}function Vl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Xw({page:r,...e}){let{router:n}=h0(),s=U.useMemo(()=>t0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?U.createElement(Jw,{page:r,matches:s,...e}):null}function $w(r){let{manifest:e,routeModules:n}=f0(),[s,o]=U.useState([]);return U.useEffect(()=>{let u=!1;return qw(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function Jw({page:r,matches:e,...n}){let s=mr(),{manifest:o,routeModules:u}=f0(),{basename:h}=h0(),{loaderData:m,matches:p}=Kw(),g=U.useMemo(()=>Zv(r,e,p,o,s,"data"),[r,e,p,o,s]),E=U.useMemo(()=>Zv(r,e,p,o,s,"assets"),[r,e,p,o,s]),T=U.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let H=new Set,$=!1;if(e.forEach(Z=>{let ie=o.routes[Z.route.id];!ie||!ie.hasLoader||(!g.some(ee=>ee.route.id===Z.route.id)&&Z.route.id in m&&u[Z.route.id]?.shouldRevalidate||ie.hasClientLoader?$=!0:H.add(Z.route.id))}),H.size===0)return[];let B=zw(r,h,"data");return $&&H.size>0&&B.searchParams.set("_routes",e.filter(Z=>H.has(Z.route.id)).map(Z=>Z.route.id).join(",")),[B.pathname+B.search]},[h,m,s,o,g,e,r,u]),w=U.useMemo(()=>Hw(E,o),[E,o]),V=$w(E);return U.createElement(U.Fragment,null,T.map(H=>U.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...n})),w.map(H=>U.createElement("link",{key:H,rel:"modulepreload",href:H,...n})),V.map(({key:H,link:$})=>U.createElement("link",{key:H,nonce:n.nonce,...$})))}function Zw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var d0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{d0&&(window.__reactRouterVersion="7.9.6")}catch{}function Ww({basename:r,children:e,window:n}){let s=U.useRef();s.current==null&&(s.current=P1({window:n,v5Compat:!0}));let o=s.current,[u,h]=U.useState({action:o.action,location:o.location}),m=U.useCallback(p=>{U.startTransition(()=>h(p))},[h]);return U.useLayoutEffect(()=>o.listen(m),[o,m]),U.createElement(Dw,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var m0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,es=U.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:E,viewTransition:T,...w},V){let{basename:H}=U.useContext(ai),$=typeof g=="string"&&m0.test(g),B,Z=!1;if(typeof g=="string"&&$&&(B=g,d0))try{let R=new URL(window.location.href),M=g.startsWith("//")?new URL(R.protocol+g):new URL(g),N=lr(M.pathname,H);M.origin===R.origin&&N!=null?g=N+M.search+M.hash:Z=!0}catch{bn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ie=uw(g,{relative:o}),[ee,le,fe]=Yw(s,w),ge=iR(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T});function C(R){e&&e(R),R.defaultPrevented||ge(R)}let b=U.createElement("a",{...w,...fe,href:B||ie,onClick:Z||u?e:C,ref:Zw(V,le),target:p,"data-discover":!$&&n==="render"?"true":void 0});return ee&&!$?U.createElement(U.Fragment,null,b,U.createElement(Xw,{page:ie})):b});es.displayName="Link";var eR=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},E){let T=uu(h,{relative:g.relative}),w=mr(),V=U.useContext(Fh),{navigator:H,basename:$}=U.useContext(ai),B=V!=null&&lR(T)&&m===!0,Z=H.encodeLocation?H.encodeLocation(T).pathname:T.pathname,ie=w.pathname,ee=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(ie=ie.toLowerCase(),ee=ee?ee.toLowerCase():null,Z=Z.toLowerCase()),ee&&$&&(ee=lr(ee,$)||ee);const le=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let fe=ie===Z||!o&&ie.startsWith(Z)&&ie.charAt(le)==="/",ge=ee!=null&&(ee===Z||!o&&ee.startsWith(Z)&&ee.charAt(Z.length)==="/"),C={isActive:fe,isPending:ge,isTransitioning:B},b=fe?e:void 0,R;typeof s=="function"?R=s(C):R=[s,fe?"active":null,ge?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(C):u;return U.createElement(es,{...g,"aria-current":b,className:R,ref:E,style:M,to:h,viewTransition:m},typeof p=="function"?p(C):p)});eR.displayName="NavLink";var tR=U.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=ah,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,...w},V)=>{let H=aR(),$=oR(m,{relative:g}),B=h.toLowerCase()==="get"?"get":"post",Z=typeof m=="string"&&m0.test(m),ie=ee=>{if(p&&p(ee),ee.defaultPrevented)return;ee.preventDefault();let le=ee.nativeEvent.submitter,fe=le?.getAttribute("formmethod")||h;H(le||ee.currentTarget,{fetcherKey:e,method:fe,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T})};return U.createElement("form",{ref:V,method:B,action:$,onSubmit:s?p:ie,...w,"data-discover":!Z&&r==="render"?"true":void 0})});tR.displayName="Form";function nR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function p0(r){let e=U.useContext(vo);return lt(e,nR(r)),e}function iR(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=l0(),p=mr(),g=uu(r,{relative:u});return U.useCallback(E=>{if(Pw(E,e)){E.preventDefault();let T=n!==void 0?n:Yl(p)===Yl(g);m(r,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,n,s,e,r,o,u,h])}var rR=0,sR=()=>`__${String(++rR)}__`;function aR(){let{router:r}=p0("useSubmit"),{basename:e}=U.useContext(ai),n=Aw();return U.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=Uw(s,e);if(o.navigate===!1){let E=o.fetcherKey||sR();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function oR(r,{relative:e}={}){let{basename:n}=U.useContext(ai),s=U.useContext(Bn);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...uu(r||".",{relative:e})},h=mr();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:sr([n,u.pathname])),Yl(u)}function lR(r,{relative:e}={}){let n=U.useContext(s0);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=p0("useViewTransitionState"),o=uu(r,{relative:e});if(!n.isTransitioning)return!1;let u=lr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=lr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return _h(o.pathname,h)!=null||_h(o.pathname,u)!=null}var _m={exports:{}},Xt={};var Wv;function uR(){if(Wv)return Xt;Wv=1;var r=Hh();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Xt.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},Xt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Xt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Xt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,V=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:V}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:V,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Xt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Xt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Xt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Xt.requestFormReset=function(p){s.d.r(p)},Xt.unstable_batchedUpdates=function(p,g){return p(g)},Xt.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},Xt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Xt.version="19.2.0",Xt}var eE;function cR(){if(eE)return _m.exports;eE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),_m.exports=uR(),_m.exports}var vm={exports:{}},Pl={},Em={exports:{}},Tm={};var tE;function hR(){return tE||(tE=1,(function(r){function e(Y,se){var ye=Y.length;Y.push(se);e:for(;0<ye;){var ze=ye-1>>>1,Ge=Y[ze];if(0<o(Ge,se))Y[ze]=se,Y[ye]=Ge,ye=ze;else break e}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var se=Y[0],ye=Y.pop();if(ye!==se){Y[0]=ye;e:for(var ze=0,Ge=Y.length,x=Ge>>>1;ze<x;){var W=2*(ze+1)-1,ae=Y[W],ce=W+1,Te=Y[ce];if(0>o(ae,ye))ce<Ge&&0>o(Te,ae)?(Y[ze]=Te,Y[ce]=ye,ze=ce):(Y[ze]=ae,Y[W]=ye,ze=W);else if(ce<Ge&&0>o(Te,ye))Y[ze]=Te,Y[ce]=ye,ze=ce;else break e}}return se}function o(Y,se){var ye=Y.sortIndex-se.sortIndex;return ye!==0?ye:Y.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,T=null,w=3,V=!1,H=!1,$=!1,B=!1,Z=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function le(Y){for(var se=n(g);se!==null;){if(se.callback===null)s(g);else if(se.startTime<=Y)s(g),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(g)}}function fe(Y){if($=!1,le(Y),!H)if(n(p)!==null)H=!0,ge||(ge=!0,L());else{var se=n(g);se!==null&&Dt(fe,se.startTime-Y)}}var ge=!1,C=-1,b=5,R=-1;function M(){return B?!0:!(r.unstable_now()-R<b)}function N(){if(B=!1,ge){var Y=r.unstable_now();R=Y;var se=!0;try{e:{H=!1,$&&($=!1,ie(C),C=-1),V=!0;var ye=w;try{t:{for(le(Y),T=n(p);T!==null&&!(T.expirationTime>Y&&M());){var ze=T.callback;if(typeof ze=="function"){T.callback=null,w=T.priorityLevel;var Ge=ze(T.expirationTime<=Y);if(Y=r.unstable_now(),typeof Ge=="function"){T.callback=Ge,le(Y),se=!0;break t}T===n(p)&&s(p),le(Y)}else s(p);T=n(p)}if(T!==null)se=!0;else{var x=n(g);x!==null&&Dt(fe,x.startTime-Y),se=!1}}break e}finally{T=null,w=ye,V=!1}se=void 0}}finally{se?L():ge=!1}}}var L;if(typeof ee=="function")L=function(){ee(N)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,rt=I.port2;I.port1.onmessage=N,L=function(){rt.postMessage(null)}}else L=function(){Z(N,0)};function Dt(Y,se){C=Z(function(){Y(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(Y){switch(w){case 1:case 2:case 3:var se=3;break;default:se=w}var ye=w;w=se;try{return Y()}finally{w=ye}},r.unstable_requestPaint=function(){B=!0},r.unstable_runWithPriority=function(Y,se){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ye=w;w=Y;try{return se()}finally{w=ye}},r.unstable_scheduleCallback=function(Y,se,ye){var ze=r.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?ze+ye:ze):ye=ze,Y){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=ye+Ge,Y={id:E++,callback:se,priorityLevel:Y,startTime:ye,expirationTime:Ge,sortIndex:-1},ye>ze?(Y.sortIndex=ye,e(g,Y),n(p)===null&&Y===n(g)&&($?(ie(C),C=-1):$=!0,Dt(fe,ye-ze))):(Y.sortIndex=Ge,e(p,Y),H||V||(H=!0,ge||(ge=!0,L()))),Y},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(Y){var se=w;return function(){var ye=w;w=se;try{return Y.apply(this,arguments)}finally{w=ye}}}})(Tm)),Tm}var nE;function fR(){return nE||(nE=1,Em.exports=hR()),Em.exports}var iE;function dR(){if(iE)return Pl;iE=1;var r=fR(),e=Hh(),n=cR();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===l)return p(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,S=f.child;S;){if(S===a){_=!0,a=f,l=d;break}if(S===l){_=!0,l=f,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=f;break}if(S===l){_=!0,l=d,a=f;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case Z:return"Profiler";case B:return"StrictMode";case fe:return"Suspense";case ge:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case ee:return t.displayName||"Context";case ie:return(t._context.displayName||"Context")+".Consumer";case le:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return i=t.displayName||null,i!==null?i:rt(t.type)||"Memo";case b:i=t._payload,t=t._init;try{return rt(t(i))}catch{}}return null}var Dt=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},ze=[],Ge=-1;function x(t){return{current:t}}function W(t){0>Ge||(t.current=ze[Ge],ze[Ge]=null,Ge--)}function ae(t,i){Ge++,ze[Ge]=t.current,t.current=i}var ce=x(null),Te=x(null),Ce=x(null),ke=x(null);function Nt(t,i){switch(ae(Ce,i),ae(Te,t),ae(ce,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?fv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=fv(i),t=dv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(ce),ae(ce,t)}function st(){W(ce),W(Te),W(Ce)}function ms(t){t.memoizedState!==null&&ae(ke,t);var i=ce.current,a=dv(i,t.type);i!==a&&(ae(Te,t),ae(ce,a))}function ha(t){Te.current===t&&(W(ce),W(Te)),ke.current===t&&(W(ke),Dl._currentValue=ye)}var fa,da;function oi(t){if(fa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);fa=i&&i[1]||"",da=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fa+t+da}var Do=!1;function ps(t,i){if(!t||Do)return"";Do=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(Q){var q=Q}Reflect.construct(t,[],J)}else{try{J.call()}catch(Q){q=Q}t.call(J.prototype)}}else{try{throw Error()}catch(Q){q=Q}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(Q){if(Q&&q&&typeof Q.stack=="string")return[Q.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var D=_.split(`
`),j=S.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<j.length&&!j[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===j.length)for(l=D.length-1,f=j.length-1;1<=l&&0<=f&&D[l]!==j[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==j[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==j[f]){var K=`
`+D[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=f);break}}}finally{Do=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?oi(a):""}function No(t,i){switch(t.tag){case 26:case 27:case 5:return oi(t.type);case 16:return oi("Lazy");case 13:return t.child!==i&&i!==null?oi("Suspense Fallback"):oi("Suspense");case 19:return oi("SuspenseList");case 0:case 15:return ps(t.type,!1);case 11:return ps(t.type.render,!1);case 1:return ps(t.type,!0);case 31:return oi("Activity");default:return""}}function Oo(t){try{var i="",a=null;do i+=No(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var yt=Object.prototype.hasOwnProperty,Ot=r.unstable_scheduleCallback,gr=r.unstable_cancelCallback,gf=r.unstable_shouldYield,Tu=r.unstable_requestPaint,en=r.unstable_now,gs=r.unstable_getCurrentPriorityLevel,xo=r.unstable_ImmediatePriority,Mo=r.unstable_UserBlockingPriority,yr=r.unstable_NormalPriority,yf=r.unstable_LowPriority,Su=r.unstable_IdlePriority,Au=r.log,bu=r.unstable_setDisableYieldValue,qn=null,zt=null;function Rn(t){if(typeof Au=="function"&&bu(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(qn,t)}catch{}}var ft=Math.clz32?Math.clz32:Ru,wu=Math.log,ma=Math.LN2;function Ru(t){return t>>>=0,t===0?32:31-(wu(t)/ma|0)|0}var li=256,ys=262144,_t=4194304;function ui(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ci(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=ui(l):(_&=S,_!==0?f=ui(_):a||(a=S&~t,a!==0&&(f=ui(a))))):(S=l&~d,S!==0?f=ui(S):_!==0?f=ui(_):a||(a=l&~t,a!==0&&(f=ui(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function Hn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function _f(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cu(){var t=_t;return _t<<=1,(_t&62914560)===0&&(_t=4194304),t}function hi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function _s(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function vf(t,i,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,D=t.expirationTimes,j=t.hiddenUpdates;for(a=_&~a;0<a;){var K=31-ft(a),J=1<<K;S[K]=0,D[K]=-1;var q=j[K];if(q!==null)for(j[K]=null,K=0;K<q.length;K++){var Q=q[K];Q!==null&&(Q.lane&=-536870913)}a&=~J}l!==0&&vs(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function vs(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-ft(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Vo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-ft(a),f=1<<l;f&i|t[l]&i&&(t[l]|=i),a&=~f}}function Po(t,i){var a=i&-i;return a=(a&42)!==0?1:Es(a),(a&(t.suspendedLanes|i))!==0?0:a}function Es(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ki(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Iu(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:Lv(t.type))}function Fn(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var Gn=Math.random().toString(36).slice(2),vt="__reactFiber$"+Gn,Pt="__reactProps$"+Gn,fi="__reactContainer$"+Gn,pa="__reactEvents$"+Gn,Ef="__reactListeners$"+Gn,Du="__reactHandles$"+Gn,Nu="__reactResources$"+Gn,di="__reactMarker$"+Gn;function ga(t){delete t[vt],delete t[Pt],delete t[pa],delete t[Ef],delete t[Du]}function mi(t){var i=t[vt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[fi]||a[vt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Ev(t);t!==null;){if(a=t[vt])return a;t=Ev(t)}return i}t=a,a=t.parentNode}return null}function Cn(t){if(t=t[vt]||t[fi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function pn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function pi(t){var i=t[Nu];return i||(i=t[Nu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Et(t){t[di]=!0}var Lo=new Set,ko={};function gi(t,i){yi(t,i),yi(t+"Capture",i)}function yi(t,i){for(ko[t]=i,t=0;t<i.length;t++)Lo.add(i[t])}var Uo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},jo={};function Ou(t){return yt.call(jo,t)?!0:yt.call(zo,t)?!1:Uo.test(t)?jo[t]=!0:(zo[t]=!0,!1)}function ya(t,i,a){if(Ou(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function gn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Tt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _r(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Bo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Qe(t){if(!t._valueTracker){var i=_r(t)?"checked":"value";t._valueTracker=Bo(t,i,""+t[i])}}function Ts(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=_r(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function _i(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ss=/[\n"\\]/g;function an(t){return t.replace(Ss,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function _a(t,i,a,l,f,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Lt(i)):t.value!==""+Lt(i)&&(t.value=""+Lt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?qo(t,_,Lt(i)):a!=null?qo(t,_,Lt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Lt(S):t.removeAttribute("name")}function xu(t,i,a,l,f,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Qe(t);return}a=a!=null?""+Lt(a):"",i=i!=null?""+Lt(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Qe(t)}function qo(t,i,a){i==="number"&&_i(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function vr(t,i,a,l){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Lt(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Mu(t,i,a){if(i!=null&&(i=""+Lt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Lt(a):""}function Er(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Dt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Lt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Qe(t)}function on(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Vu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ho(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Vu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Fo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&Ho(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&Ho(t,d,i[d])}function va(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ea(t){return Tr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Qn(){}var Go=null;function In(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sr=null,vi=null;function As(t){var i=Cn(t);if(i&&(t=i.stateNode)){var a=t[Pt]||null;e:switch(t=i.stateNode,i.type){case"input":if(_a(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var f=l[Pt]||null;if(!f)throw Error(s(90));_a(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Ts(l)}break e;case"textarea":Mu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&vr(t,!!a.multiple,i,!1)}}}var Ta=!1;function Ar(t,i,a){if(Ta)return t(i,a);Ta=!0;try{var l=t(i);return l}finally{if(Ta=!1,(Sr!==null||vi!==null)&&(Ic(),Sr&&(i=Sr,t=vi,vi=Sr=null,As(i),t)))for(i=0;i<t.length;i++)As(t[i])}}function Kn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Pt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bs=!1;if(Dn)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){bs=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{bs=!1}var Ei=null,Qo=null,ws=null;function Ko(){if(ws)return ws;var t,i=Qo,a=i.length,l,f="value"in Ei?Ei.value:Ei.textContent,d=f.length;for(t=0;t<a&&i[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===f[d-l];l++);return ws=f.slice(t,1<l?1-l:void 0)}function Rs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ui(){return!0}function Yn(){return!1}function jt(t){function i(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ui:Yn,this.isPropagationStopped=Yn,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),i}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ti=jt(zi),br=T({},zi,{view:0,detail:0}),Yo=jt(br),wr,Sa,Si,Aa=T({},br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Si&&(Si&&t.type==="mousemove"?(wr=t.screenX-Si.screenX,Sa=t.screenY-Si.screenY):Sa=wr=0,Si=t),wr)},movementY:function(t){return"movementY"in t?t.movementY:Sa}}),Xo=jt(Aa),Cs=T({},Aa,{dataTransfer:0}),Lu=jt(Cs),ku=T({},br,{relatedTarget:0}),Is=jt(ku),$o=T({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),Uu=jt($o),ba=T({},zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zu=jt(ba),ju=T({},zi,{data:0}),Ai=jt(ju),Bu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Hu[t])?!!i[t]:!1}function Rr(){return Fu}var tn=T({},br,{key:function(t){if(t.key){var i=Bu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Rs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rr,charCode:function(t){return t.type==="keypress"?Rs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Gu=jt(tn),Qu=T({},Aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ji=jt(Qu),c=T({},br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rr}),y=jt(c),v=T({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=jt(v),k=T({},Aa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F=jt(k),re=T({},zi,{newState:0,oldState:0}),we=jt(re),dt=[9,13,27,32],qe=Dn&&"CompositionEvent"in window,at=null;Dn&&"documentMode"in document&&(at=document.documentMode);var Nn=Dn&&"TextEvent"in window&&!at,bi=Dn&&(!qe||at&&8<at&&11>=at),Xn=" ",$n=!1;function Ds(t,i){switch(t){case"keyup":return dt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ra=!1;function eb(t,i){switch(t){case"compositionend":return wa(i);case"keypress":return i.which!==32?null:($n=!0,Xn);case"textInput":return t=i.data,t===Xn&&$n?null:t;default:return null}}function tb(t,i){if(Ra)return t==="compositionend"||!qe&&Ds(t,i)?(t=Ko(),ws=Qo=Ei=null,Ra=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return bi&&i.locale!=="ko"?null:i.data;default:return null}}var nb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ag(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!nb[t.type]:i==="textarea"}function bg(t,i,a,l){Sr?vi?vi.push(l):vi=[l]:Sr=l,i=Pc(i,"onChange"),0<i.length&&(a=new Ti("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Jo=null,Zo=null;function ib(t){av(t,0)}function Ku(t){var i=pn(t);if(Ts(i))return t}function wg(t,i){if(t==="change")return i}var Rg=!1;if(Dn){var Tf;if(Dn){var Sf="oninput"in document;if(!Sf){var Cg=document.createElement("div");Cg.setAttribute("oninput","return;"),Sf=typeof Cg.oninput=="function"}Tf=Sf}else Tf=!1;Rg=Tf&&(!document.documentMode||9<document.documentMode)}function Ig(){Jo&&(Jo.detachEvent("onpropertychange",Dg),Zo=Jo=null)}function Dg(t){if(t.propertyName==="value"&&Ku(Zo)){var i=[];bg(i,Zo,t,In(t)),Ar(ib,i)}}function rb(t,i,a){t==="focusin"?(Ig(),Jo=i,Zo=a,Jo.attachEvent("onpropertychange",Dg)):t==="focusout"&&Ig()}function sb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ku(Zo)}function ab(t,i){if(t==="click")return Ku(i)}function ob(t,i){if(t==="input"||t==="change")return Ku(i)}function lb(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var yn=typeof Object.is=="function"?Object.is:lb;function Wo(t,i){if(yn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!yt.call(i,f)||!yn(t[f],i[f]))return!1}return!0}function Ng(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Og(t,i){var a=Ng(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ng(a)}}function xg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?xg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Mg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=_i(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=_i(t.document)}return i}function Af(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var ub=Dn&&"documentMode"in document&&11>=document.documentMode,Ca=null,bf=null,el=null,wf=!1;function Vg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;wf||Ca==null||Ca!==_i(l)||(l=Ca,"selectionStart"in l&&Af(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),el&&Wo(el,l)||(el=l,l=Pc(bf,"onSelect"),0<l.length&&(i=new Ti("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ca)))}function Ns(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ia={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionrun:Ns("Transition","TransitionRun"),transitionstart:Ns("Transition","TransitionStart"),transitioncancel:Ns("Transition","TransitionCancel"),transitionend:Ns("Transition","TransitionEnd")},Rf={},Pg={};Dn&&(Pg=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function Os(t){if(Rf[t])return Rf[t];if(!Ia[t])return t;var i=Ia[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Pg)return Rf[t]=i[a];return t}var Lg=Os("animationend"),kg=Os("animationiteration"),Ug=Os("animationstart"),cb=Os("transitionrun"),hb=Os("transitionstart"),fb=Os("transitioncancel"),zg=Os("transitionend"),jg=new Map,Cf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cf.push("scrollEnd");function Jn(t,i){jg.set(t,i),gi(i,[t])}var Yu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},On=[],Da=0,If=0;function Xu(){for(var t=Da,i=If=Da=0;i<t;){var a=On[i];On[i++]=null;var l=On[i];On[i++]=null;var f=On[i];On[i++]=null;var d=On[i];if(On[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&Bg(a,f,d)}}function $u(t,i,a,l){On[Da++]=t,On[Da++]=i,On[Da++]=a,On[Da++]=l,If|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Df(t,i,a,l){return $u(t,i,a,l),Ju(t)}function xs(t,i){return $u(t,null,null,i),Ju(t)}function Bg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-ft(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function Ju(t){if(50<Sl)throw Sl=0,Ud=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Na={};function db(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,i,a,l){return new db(t,i,a,l)}function Nf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Bi(t,i){var a=t.alternate;return a===null?(a=_n(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function qg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Zu(t,i,a,l,f,d){var _=0;if(l=t,typeof t=="function")Nf(t)&&(_=1);else if(typeof t=="string")_=_1(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=_n(31,a,i,f),t.elementType=R,t.lanes=d,t;case $:return Ms(a.children,f,d,i);case B:_=8,f|=24;break;case Z:return t=_n(12,a,i,f|2),t.elementType=Z,t.lanes=d,t;case fe:return t=_n(13,a,i,f),t.elementType=fe,t.lanes=d,t;case ge:return t=_n(19,a,i,f),t.elementType=ge,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ee:_=10;break e;case ie:_=9;break e;case le:_=11;break e;case C:_=14;break e;case b:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=_n(_,a,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function Ms(t,i,a,l){return t=_n(7,t,l,i),t.lanes=a,t}function Of(t,i,a){return t=_n(6,t,null,i),t.lanes=a,t}function Hg(t){var i=_n(18,null,null,0);return i.stateNode=t,i}function xf(t,i,a){return i=_n(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Fg=new WeakMap;function xn(t,i){if(typeof t=="object"&&t!==null){var a=Fg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Oo(i)},Fg.set(t,i),i)}return{value:t,source:i,stack:Oo(i)}}var Oa=[],xa=0,Wu=null,tl=0,Mn=[],Vn=0,Cr=null,wi=1,Ri="";function qi(t,i){Oa[xa++]=tl,Oa[xa++]=Wu,Wu=t,tl=i}function Gg(t,i,a){Mn[Vn++]=wi,Mn[Vn++]=Ri,Mn[Vn++]=Cr,Cr=t;var l=wi;t=Ri;var f=32-ft(l)-1;l&=~(1<<f),a+=1;var d=32-ft(i)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,wi=1<<32-ft(i)+f|a<<f|l,Ri=d+t}else wi=1<<d|a<<f|l,Ri=t}function Mf(t){t.return!==null&&(qi(t,1),Gg(t,1,0))}function Vf(t){for(;t===Wu;)Wu=Oa[--xa],Oa[xa]=null,tl=Oa[--xa],Oa[xa]=null;for(;t===Cr;)Cr=Mn[--Vn],Mn[Vn]=null,Ri=Mn[--Vn],Mn[Vn]=null,wi=Mn[--Vn],Mn[Vn]=null}function Qg(t,i){Mn[Vn++]=wi,Mn[Vn++]=Ri,Mn[Vn++]=Cr,wi=i.id,Ri=i.overflow,Cr=t}var Bt=null,tt=null,Le=!1,Ir=null,Pn=!1,Pf=Error(s(519));function Dr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw nl(xn(i,t)),Pf}function Kg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[vt]=t,i[Pt]=l,a){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(a=0;a<bl.length;a++)Ne(bl[a],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":Ne("invalid",i),xu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ne("invalid",i);break;case"textarea":Ne("invalid",i),Er(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||cv(i.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",i),Ne("toggle",i)),l.onScroll!=null&&Ne("scroll",i),l.onScrollEnd!=null&&Ne("scrollend",i),l.onClick!=null&&(i.onclick=Qn),i=!0):i=!1,i||Dr(t,!0)}function Yg(t){for(Bt=t.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:Bt=Bt.return}}function Ma(t){if(t!==Bt)return!1;if(!Le)return Yg(t),Le=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Wd(t.type,t.memoizedProps)),a=!a),a&&tt&&Dr(t),Yg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=vv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=vv(t)}else i===27?(i=tt,Hr(t.type)?(t=rm,rm=null,tt=t):tt=i):tt=Bt?kn(t.stateNode.nextSibling):null;return!0}function Vs(){tt=Bt=null,Le=!1}function Lf(){var t=Ir;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),Ir=null),t}function nl(t){Ir===null?Ir=[t]:Ir.push(t)}var kf=x(null),Ps=null,Hi=null;function Nr(t,i,a){ae(kf,i._currentValue),i._currentValue=a}function Fi(t){t._currentValue=kf.current,W(kf)}function Uf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function zf(t,i,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=f;for(var D=0;D<i.length;D++)if(S.context===i[D]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Uf(d.return,a,t),l||(_=null);break e}d=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Uf(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Va(t,i,a,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=f.type;yn(f.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(f===ke.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Dl):t=[Dl])}f=f.return}t!==null&&zf(i,t,a,l),i.flags|=262144}function ec(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ls(t){Ps=t,Hi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qt(t){return Xg(Ps,t)}function tc(t,i){return Ps===null&&Ls(t),Xg(t,i)}function Xg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Hi===null){if(t===null)throw Error(s(308));Hi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Hi=Hi.next=i;return a}var mb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},pb=r.unstable_scheduleCallback,gb=r.unstable_NormalPriority,St={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jf(){return{controller:new mb,data:new Map,refCount:0}}function il(t){t.refCount--,t.refCount===0&&pb(gb,function(){t.controller.abort()})}var rl=null,Bf=0,Pa=0,La=null;function yb(t,i){if(rl===null){var a=rl=[];Bf=0,Pa=Fd(),La={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Bf++,i.then($g,$g),i}function $g(){if(--Bf===0&&rl!==null){La!==null&&(La.status="fulfilled");var t=rl;rl=null,Pa=0,La=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function _b(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Jg=Y.S;Y.S=function(t,i){V_=en(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&yb(t,i),Jg!==null&&Jg(t,i)};var ks=x(null);function qf(){var t=ks.current;return t!==null?t:We.pooledCache}function nc(t,i){i===null?ae(ks,ks.current):ae(ks,i.pool)}function Zg(){var t=qf();return t===null?null:{parent:St._currentValue,pool:t}}var ka=Error(s(460)),Hf=Error(s(474)),ic=Error(s(542)),rc={then:function(){}};function Wg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ey(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Qn,Qn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ny(t),t;default:if(typeof i.status=="string")i.then(Qn,Qn);else{if(t=We,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ny(t),t}throw zs=i,ka}}function Us(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(zs=a,ka):a}}var zs=null;function ty(){if(zs===null)throw Error(s(459));var t=zs;return zs=null,t}function ny(t){if(t===ka||t===ic)throw Error(s(483))}var Ua=null,sl=0;function sc(t){var i=sl;return sl+=1,Ua===null&&(Ua=[]),ey(Ua,t,i)}function al(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ac(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function iy(t){function i(P,O){if(t){var z=P.deletions;z===null?(P.deletions=[O],P.flags|=16):z.push(O)}}function a(P,O){if(!t)return null;for(;O!==null;)i(P,O),O=O.sibling;return null}function l(P){for(var O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function f(P,O){return P=Bi(P,O),P.index=0,P.sibling=null,P}function d(P,O,z){return P.index=z,t?(z=P.alternate,z!==null?(z=z.index,z<O?(P.flags|=67108866,O):z):(P.flags|=67108866,O)):(P.flags|=1048576,O)}function _(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function S(P,O,z,X){return O===null||O.tag!==6?(O=Of(z,P.mode,X),O.return=P,O):(O=f(O,z),O.return=P,O)}function D(P,O,z,X){var me=z.type;return me===$?K(P,O,z.props.children,X,z.key):O!==null&&(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===b&&Us(me)===O.type)?(O=f(O,z.props),al(O,z),O.return=P,O):(O=Zu(z.type,z.key,z.props,null,P.mode,X),al(O,z),O.return=P,O)}function j(P,O,z,X){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=xf(z,P.mode,X),O.return=P,O):(O=f(O,z.children||[]),O.return=P,O)}function K(P,O,z,X,me){return O===null||O.tag!==7?(O=Ms(z,P.mode,X,me),O.return=P,O):(O=f(O,z),O.return=P,O)}function J(P,O,z){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Of(""+O,P.mode,z),O.return=P,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case V:return z=Zu(O.type,O.key,O.props,null,P.mode,z),al(z,O),z.return=P,z;case H:return O=xf(O,P.mode,z),O.return=P,O;case b:return O=Us(O),J(P,O,z)}if(Dt(O)||L(O))return O=Ms(O,P.mode,z,null),O.return=P,O;if(typeof O.then=="function")return J(P,sc(O),z);if(O.$$typeof===ee)return J(P,tc(P,O),z);ac(P,O)}return null}function q(P,O,z,X){var me=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return me!==null?null:S(P,O,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case V:return z.key===me?D(P,O,z,X):null;case H:return z.key===me?j(P,O,z,X):null;case b:return z=Us(z),q(P,O,z,X)}if(Dt(z)||L(z))return me!==null?null:K(P,O,z,X,null);if(typeof z.then=="function")return q(P,O,sc(z),X);if(z.$$typeof===ee)return q(P,O,tc(P,z),X);ac(P,z)}return null}function Q(P,O,z,X,me){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return P=P.get(z)||null,S(O,P,""+X,me);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case V:return P=P.get(X.key===null?z:X.key)||null,D(O,P,X,me);case H:return P=P.get(X.key===null?z:X.key)||null,j(O,P,X,me);case b:return X=Us(X),Q(P,O,z,X,me)}if(Dt(X)||L(X))return P=P.get(z)||null,K(O,P,X,me,null);if(typeof X.then=="function")return Q(P,O,z,sc(X),me);if(X.$$typeof===ee)return Q(P,O,z,tc(O,X),me);ac(O,X)}return null}function he(P,O,z,X){for(var me=null,je=null,de=O,Ie=O=0,xe=null;de!==null&&Ie<z.length;Ie++){de.index>Ie?(xe=de,de=null):xe=de.sibling;var Be=q(P,de,z[Ie],X);if(Be===null){de===null&&(de=xe);break}t&&de&&Be.alternate===null&&i(P,de),O=d(Be,O,Ie),je===null?me=Be:je.sibling=Be,je=Be,de=xe}if(Ie===z.length)return a(P,de),Le&&qi(P,Ie),me;if(de===null){for(;Ie<z.length;Ie++)de=J(P,z[Ie],X),de!==null&&(O=d(de,O,Ie),je===null?me=de:je.sibling=de,je=de);return Le&&qi(P,Ie),me}for(de=l(de);Ie<z.length;Ie++)xe=Q(de,P,Ie,z[Ie],X),xe!==null&&(t&&xe.alternate!==null&&de.delete(xe.key===null?Ie:xe.key),O=d(xe,O,Ie),je===null?me=xe:je.sibling=xe,je=xe);return t&&de.forEach(function(Yr){return i(P,Yr)}),Le&&qi(P,Ie),me}function _e(P,O,z,X){if(z==null)throw Error(s(151));for(var me=null,je=null,de=O,Ie=O=0,xe=null,Be=z.next();de!==null&&!Be.done;Ie++,Be=z.next()){de.index>Ie?(xe=de,de=null):xe=de.sibling;var Yr=q(P,de,Be.value,X);if(Yr===null){de===null&&(de=xe);break}t&&de&&Yr.alternate===null&&i(P,de),O=d(Yr,O,Ie),je===null?me=Yr:je.sibling=Yr,je=Yr,de=xe}if(Be.done)return a(P,de),Le&&qi(P,Ie),me;if(de===null){for(;!Be.done;Ie++,Be=z.next())Be=J(P,Be.value,X),Be!==null&&(O=d(Be,O,Ie),je===null?me=Be:je.sibling=Be,je=Be);return Le&&qi(P,Ie),me}for(de=l(de);!Be.done;Ie++,Be=z.next())Be=Q(de,P,Ie,Be.value,X),Be!==null&&(t&&Be.alternate!==null&&de.delete(Be.key===null?Ie:Be.key),O=d(Be,O,Ie),je===null?me=Be:je.sibling=Be,je=Be);return t&&de.forEach(function(D1){return i(P,D1)}),Le&&qi(P,Ie),me}function Ze(P,O,z,X){if(typeof z=="object"&&z!==null&&z.type===$&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case V:e:{for(var me=z.key;O!==null;){if(O.key===me){if(me=z.type,me===$){if(O.tag===7){a(P,O.sibling),X=f(O,z.props.children),X.return=P,P=X;break e}}else if(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===b&&Us(me)===O.type){a(P,O.sibling),X=f(O,z.props),al(X,z),X.return=P,P=X;break e}a(P,O);break}else i(P,O);O=O.sibling}z.type===$?(X=Ms(z.props.children,P.mode,X,z.key),X.return=P,P=X):(X=Zu(z.type,z.key,z.props,null,P.mode,X),al(X,z),X.return=P,P=X)}return _(P);case H:e:{for(me=z.key;O!==null;){if(O.key===me)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){a(P,O.sibling),X=f(O,z.children||[]),X.return=P,P=X;break e}else{a(P,O);break}else i(P,O);O=O.sibling}X=xf(z,P.mode,X),X.return=P,P=X}return _(P);case b:return z=Us(z),Ze(P,O,z,X)}if(Dt(z))return he(P,O,z,X);if(L(z)){if(me=L(z),typeof me!="function")throw Error(s(150));return z=me.call(z),_e(P,O,z,X)}if(typeof z.then=="function")return Ze(P,O,sc(z),X);if(z.$$typeof===ee)return Ze(P,O,tc(P,z),X);ac(P,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,O!==null&&O.tag===6?(a(P,O.sibling),X=f(O,z),X.return=P,P=X):(a(P,O),X=Of(z,P.mode,X),X.return=P,P=X),_(P)):a(P,O)}return function(P,O,z,X){try{sl=0;var me=Ze(P,O,z,X);return Ua=null,me}catch(de){if(de===ka||de===ic)throw de;var je=_n(29,de,null,P.mode);return je.lanes=X,je.return=P,je}finally{}}}var js=iy(!0),ry=iy(!1),Or=!1;function Ff(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function xr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Mr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=Ju(t),Bg(t,null,a),i}return $u(t,l,i,a),Ju(t)}function ol(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Vo(t,a)}}function Qf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Kf=!1;function ll(){if(Kf){var t=La;if(t!==null)throw t}}function ul(t,i,a,l){Kf=!1;var f=t.updateQueue;Or=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var D=S,j=D.next;D.next=null,_===null?d=j:_.next=j,_=D;var K=t.alternate;K!==null&&(K=K.updateQueue,S=K.lastBaseUpdate,S!==_&&(S===null?K.firstBaseUpdate=j:S.next=j,K.lastBaseUpdate=D))}if(d!==null){var J=f.baseState;_=0,K=j=D=null,S=d;do{var q=S.lane&-536870913,Q=q!==S.lane;if(Q?(Oe&q)===q:(l&q)===q){q!==0&&q===Pa&&(Kf=!0),K!==null&&(K=K.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var he=t,_e=S;q=i;var Ze=a;switch(_e.tag){case 1:if(he=_e.payload,typeof he=="function"){J=he.call(Ze,J,q);break e}J=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=_e.payload,q=typeof he=="function"?he.call(Ze,J,q):he,q==null)break e;J=T({},J,q);break e;case 2:Or=!0}}q=S.callback,q!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[q]:Q.push(q))}else Q={lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},K===null?(j=K=Q,D=J):K=K.next=Q,_|=q;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);K===null&&(D=J),f.baseState=D,f.firstBaseUpdate=j,f.lastBaseUpdate=K,d===null&&(f.shared.lanes=0),Ur|=_,t.lanes=_,t.memoizedState=J}}function sy(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function ay(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)sy(a[t],i)}var za=x(null),oc=x(0);function oy(t,i){t=Wi,ae(oc,t),ae(za,i),Wi=t|i.baseLanes}function Yf(){ae(oc,Wi),ae(za,za.current)}function Xf(){Wi=oc.current,W(za),W(oc)}var vn=x(null),Ln=null;function Vr(t){var i=t.alternate;ae(mt,mt.current&1),ae(vn,t),Ln===null&&(i===null||za.current!==null||i.memoizedState!==null)&&(Ln=t)}function $f(t){ae(mt,mt.current),ae(vn,t),Ln===null&&(Ln=t)}function ly(t){t.tag===22?(ae(mt,mt.current),ae(vn,t),Ln===null&&(Ln=t)):Pr()}function Pr(){ae(mt,mt.current),ae(vn,vn.current)}function En(t){W(vn),Ln===t&&(Ln=null),W(mt)}var mt=x(0);function lc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||nm(a)||im(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Gi=0,Re=null,$e=null,At=null,uc=!1,ja=!1,Bs=!1,cc=0,cl=0,Ba=null,vb=0;function ct(){throw Error(s(321))}function Jf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!yn(t[a],i[a]))return!1;return!0}function Zf(t,i,a,l,f,d){return Gi=d,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=t===null||t.memoizedState===null?Gy:dd,Bs=!1,d=a(l,f),Bs=!1,ja&&(d=cy(i,a,l,f)),uy(t),d}function uy(t){Y.H=dl;var i=$e!==null&&$e.next!==null;if(Gi=0,At=$e=Re=null,uc=!1,cl=0,Ba=null,i)throw Error(s(300));t===null||bt||(t=t.dependencies,t!==null&&ec(t)&&(bt=!0))}function cy(t,i,a,l){Re=t;var f=0;do{if(ja&&(Ba=null),cl=0,ja=!1,25<=f)throw Error(s(301));if(f+=1,At=$e=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=Qy,d=i(a,l)}while(ja);return d}function Eb(){var t=Y.H,i=t.useState()[0];return i=typeof i.then=="function"?hl(i):i,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(Re.flags|=1024),i}function Wf(){var t=cc!==0;return cc=0,t}function ed(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function td(t){if(uc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}uc=!1}Gi=0,At=$e=Re=null,ja=!1,cl=cc=0,Ba=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Re.memoizedState=At=t:At=At.next=t,At}function pt(){if($e===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var i=At===null?Re.memoizedState:At.next;if(i!==null)At=i,$e=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},At===null?Re.memoizedState=At=t:At=At.next=t}return At}function hc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(t){var i=cl;return cl+=1,Ba===null&&(Ba=[]),t=ey(Ba,t,i),i=Re,(At===null?i.memoizedState:At.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?Gy:dd),t}function fc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hl(t);if(t.$$typeof===ee)return qt(t)}throw Error(s(438,String(t)))}function nd(t){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=hc(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function Qi(t,i){return typeof i=="function"?i(t):i}function dc(t){var i=pt();return id(i,$e,t)}function id(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var S=_=null,D=null,j=i,K=!1;do{var J=j.lane&-536870913;if(J!==j.lane?(Oe&J)===J:(Gi&J)===J){var q=j.revertLane;if(q===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),J===Pa&&(K=!0);else if((Gi&q)===q){j=j.next,q===Pa&&(K=!0);continue}else J={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},D===null?(S=D=J,_=d):D=D.next=J,Re.lanes|=q,Ur|=q;J=j.action,Bs&&a(d,J),d=j.hasEagerState?j.eagerState:a(d,J)}else q={lane:J,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},D===null?(S=D=q,_=d):D=D.next=q,Re.lanes|=J,Ur|=J;j=j.next}while(j!==null&&j!==i);if(D===null?_=d:D.next=S,!yn(d,t.memoizedState)&&(bt=!0,K&&(a=La,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=D,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function rd(t){var i=pt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);yn(d,i.memoizedState)||(bt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function hy(t,i,a){var l=Re,f=pt(),d=Le;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!yn(($e||f).memoizedState,a);if(_&&(f.memoizedState=a,bt=!0),f=f.queue,od(my.bind(null,l,f,t),[t]),f.getSnapshot!==i||_||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,qa(9,{destroy:void 0},dy.bind(null,l,f,a,i),null),We===null)throw Error(s(349));d||(Gi&127)!==0||fy(l,i,a)}return a}function fy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=hc(),Re.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function dy(t,i,a,l){i.value=a,i.getSnapshot=l,py(i)&&gy(t)}function my(t,i,a){return a(function(){py(i)&&gy(t)})}function py(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!yn(t,a)}catch{return!0}}function gy(t){var i=xs(t,2);i!==null&&fn(i,t,2)}function sd(t){var i=nn();if(typeof t=="function"){var a=t;if(t=a(),Bs){Rn(!0);try{a()}finally{Rn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:t},i}function yy(t,i,a,l){return t.baseState=a,id(t,$e,typeof l=="function"?l:Qi)}function Tb(t,i,a,l,f){if(gc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,_y(i,d)):(d.next=a.next,i.pending=a.next=d)}}function _y(t,i){var a=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=Y.T,_={};Y.T=_;try{var S=a(f,l),D=Y.S;D!==null&&D(_,S),vy(t,i,S)}catch(j){ad(t,i,j)}finally{d!==null&&_.types!==null&&(d.types=_.types),Y.T=d}}else try{d=a(f,l),vy(t,i,d)}catch(j){ad(t,i,j)}}function vy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ey(t,i,l)},function(l){return ad(t,i,l)}):Ey(t,i,a)}function Ey(t,i,a){i.status="fulfilled",i.value=a,Ty(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,_y(t,a)))}function ad(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Ty(i),i=i.next;while(i!==l)}t.action=null}function Ty(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Sy(t,i){return i}function Ay(t,i){if(Le){var a=We.formState;if(a!==null){e:{var l=Re;if(Le){if(tt){t:{for(var f=tt,d=Pn;f.nodeType!==8;){if(!d){f=null;break t}if(f=kn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){tt=kn(f.nextSibling),l=f.data==="F!";break e}}Dr(l)}l=!1}l&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sy,lastRenderedState:i},a.queue=l,a=qy.bind(null,Re,l),l.dispatch=a,l=sd(!1),d=fd.bind(null,Re,!1,l.queue),l=nn(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,a=Tb.bind(null,Re,f,d,a),f.dispatch=a,l.memoizedState=t,[i,a,!1]}function by(t){var i=pt();return wy(i,$e,t)}function wy(t,i,a){if(i=id(t,i,Sy)[0],t=dc(Qi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=hl(i)}catch(_){throw _===ka?ic:_}else l=i;i=pt();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Re.flags|=2048,qa(9,{destroy:void 0},Sb.bind(null,f,a),null)),[l,d,t]}function Sb(t,i){t.action=i}function Ry(t){var i=pt(),a=$e;if(a!==null)return wy(i,a,t);pt(),i=i.memoizedState,a=pt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function qa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Re.updateQueue,i===null&&(i=hc(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Cy(){return pt().memoizedState}function mc(t,i,a,l){var f=nn();Re.flags|=t,f.memoizedState=qa(1|i,{destroy:void 0},a,l===void 0?null:l)}function pc(t,i,a,l){var f=pt();l=l===void 0?null:l;var d=f.memoizedState.inst;$e!==null&&l!==null&&Jf(l,$e.memoizedState.deps)?f.memoizedState=qa(i,d,a,l):(Re.flags|=t,f.memoizedState=qa(1|i,d,a,l))}function Iy(t,i){mc(8390656,8,t,i)}function od(t,i){pc(2048,8,t,i)}function Ab(t){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=hc(),Re.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Dy(t){var i=pt().memoizedState;return Ab({ref:i,nextImpl:t}),function(){if((He&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Ny(t,i){return pc(4,2,t,i)}function Oy(t,i){return pc(4,4,t,i)}function xy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function My(t,i,a){a=a!=null?a.concat([t]):null,pc(4,4,xy.bind(null,i,t),a)}function ld(){}function Vy(t,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Jf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Py(t,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Jf(i,l[1]))return l[0];if(l=t(),Bs){Rn(!0);try{t()}finally{Rn(!1)}}return a.memoizedState=[l,i],l}function ud(t,i,a){return a===void 0||(Gi&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=L_(),Re.lanes|=t,Ur|=t,a)}function Ly(t,i,a,l){return yn(a,i)?a:za.current!==null?(t=ud(t,a,l),yn(t,i)||(bt=!0),t):(Gi&42)===0||(Gi&1073741824)!==0&&(Oe&261930)===0?(bt=!0,t.memoizedState=a):(t=L_(),Re.lanes|=t,Ur|=t,i)}function ky(t,i,a,l,f){var d=se.p;se.p=d!==0&&8>d?d:8;var _=Y.T,S={};Y.T=S,fd(t,!1,i,a);try{var D=f(),j=Y.S;if(j!==null&&j(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var K=_b(D,l);fl(t,i,K,An(t))}else fl(t,i,l,An(t))}catch(J){fl(t,i,{then:function(){},status:"rejected",reason:J},An())}finally{se.p=d,_!==null&&S.types!==null&&(_.types=S.types),Y.T=_}}function bb(){}function cd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var f=Uy(t).queue;ky(t,f,i,ye,a===null?bb:function(){return zy(t),a(l)})}function Uy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:ye},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function zy(t){var i=Uy(t);i.next===null&&(i=t.alternate.memoizedState),fl(t,i.next.queue,{},An())}function hd(){return qt(Dl)}function jy(){return pt().memoizedState}function By(){return pt().memoizedState}function wb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=An();t=xr(a);var l=Mr(i,t,a);l!==null&&(fn(l,i,a),ol(l,i,a)),i={cache:jf()},t.payload=i;return}i=i.return}}function Rb(t,i,a){var l=An();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},gc(t)?Hy(i,a):(a=Df(t,i,a,l),a!==null&&(fn(a,t,l),Fy(a,i,l)))}function qy(t,i,a){var l=An();fl(t,i,a,l)}function fl(t,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(gc(t))Hy(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(f.hasEagerState=!0,f.eagerState=S,yn(S,_))return $u(t,i,f,0),We===null&&Xu(),!1}catch{}finally{}if(a=Df(t,i,f,l),a!==null)return fn(a,t,l),Fy(a,i,l),!0}return!1}function fd(t,i,a,l){if(l={lane:2,revertLane:Fd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},gc(t)){if(i)throw Error(s(479))}else i=Df(t,a,l,2),i!==null&&fn(i,t,2)}function gc(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function Hy(t,i){ja=uc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Fy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Vo(t,a)}}var dl={readContext:qt,use:fc,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};dl.useEffectEvent=ct;var Gy={readContext:qt,use:fc,useCallback:function(t,i){return nn().memoizedState=[t,i===void 0?null:i],t},useContext:qt,useEffect:Iy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,mc(4194308,4,xy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return mc(4194308,4,t,i)},useInsertionEffect:function(t,i){mc(4,2,t,i)},useMemo:function(t,i){var a=nn();i=i===void 0?null:i;var l=t();if(Bs){Rn(!0);try{t()}finally{Rn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=nn();if(a!==void 0){var f=a(i);if(Bs){Rn(!0);try{a(i)}finally{Rn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=Rb.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var i=nn();return t={current:t},i.memoizedState=t},useState:function(t){t=sd(t);var i=t.queue,a=qy.bind(null,Re,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:ld,useDeferredValue:function(t,i){var a=nn();return ud(a,t,i)},useTransition:function(){var t=sd(!1);return t=ky.bind(null,Re,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Re,f=nn();if(Le){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),We===null)throw Error(s(349));(Oe&127)!==0||fy(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,Iy(my.bind(null,l,d,t),[t]),l.flags|=2048,qa(9,{destroy:void 0},dy.bind(null,l,d,a,i),null),a},useId:function(){var t=nn(),i=We.identifierPrefix;if(Le){var a=Ri,l=wi;a=(l&~(1<<32-ft(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=cc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=vb++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:hd,useFormState:Ay,useActionState:Ay,useOptimistic:function(t){var i=nn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=fd.bind(null,Re,!0,a),a.dispatch=i,[t,i]},useMemoCache:nd,useCacheRefresh:function(){return nn().memoizedState=wb.bind(null,Re)},useEffectEvent:function(t){var i=nn(),a={impl:t};return i.memoizedState=a,function(){if((He&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},dd={readContext:qt,use:fc,useCallback:Vy,useContext:qt,useEffect:od,useImperativeHandle:My,useInsertionEffect:Ny,useLayoutEffect:Oy,useMemo:Py,useReducer:dc,useRef:Cy,useState:function(){return dc(Qi)},useDebugValue:ld,useDeferredValue:function(t,i){var a=pt();return Ly(a,$e.memoizedState,t,i)},useTransition:function(){var t=dc(Qi)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:hl(t),i]},useSyncExternalStore:hy,useId:jy,useHostTransitionStatus:hd,useFormState:by,useActionState:by,useOptimistic:function(t,i){var a=pt();return yy(a,$e,t,i)},useMemoCache:nd,useCacheRefresh:By};dd.useEffectEvent=Dy;var Qy={readContext:qt,use:fc,useCallback:Vy,useContext:qt,useEffect:od,useImperativeHandle:My,useInsertionEffect:Ny,useLayoutEffect:Oy,useMemo:Py,useReducer:rd,useRef:Cy,useState:function(){return rd(Qi)},useDebugValue:ld,useDeferredValue:function(t,i){var a=pt();return $e===null?ud(a,t,i):Ly(a,$e.memoizedState,t,i)},useTransition:function(){var t=rd(Qi)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:hl(t),i]},useSyncExternalStore:hy,useId:jy,useHostTransitionStatus:hd,useFormState:Ry,useActionState:Ry,useOptimistic:function(t,i){var a=pt();return $e!==null?yy(a,$e,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:nd,useCacheRefresh:By};Qy.useEffectEvent=Dy;function md(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var pd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=An(),f=xr(l);f.payload=i,a!=null&&(f.callback=a),i=Mr(t,f,l),i!==null&&(fn(i,t,l),ol(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=An(),f=xr(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Mr(t,f,l),i!==null&&(fn(i,t,l),ol(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=An(),l=xr(a);l.tag=2,i!=null&&(l.callback=i),i=Mr(t,l,a),i!==null&&(fn(i,t,a),ol(i,t,a))}};function Ky(t,i,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Wo(a,l)||!Wo(f,d):!0}function Yy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&pd.enqueueReplaceState(i,i.state,null)}function qs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function Xy(t){Yu(t)}function $y(t){console.error(t)}function Jy(t){Yu(t)}function yc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Zy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function gd(t,i,a){return a=xr(a),a.tag=3,a.payload={element:null},a.callback=function(){yc(t,i)},a}function Wy(t){return t=xr(t),t.tag=3,t}function e_(t,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){Zy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Zy(i,a,l),typeof f!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function Cb(t,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Va(i,a,f,!0),a=vn.current,a!==null){switch(a.tag){case 31:case 13:return Ln===null?Dc():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===rc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Bd(t,l,f)),!1;case 22:return a.flags|=65536,l===rc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Bd(t,l,f)),!1}throw Error(s(435,a.tag))}return Bd(t,l,f),Dc(),!1}if(Le)return i=vn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Pf&&(t=Error(s(422),{cause:l}),nl(xn(t,a)))):(l!==Pf&&(i=Error(s(423),{cause:l}),nl(xn(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=xn(l,a),f=gd(t.stateNode,l,f),Qf(t,f),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=xn(d,a),Tl===null?Tl=[d]:Tl.push(d),ht!==4&&(ht=2),i===null)return!0;l=xn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=gd(a.stateNode,l,t),Qf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(zr===null||!zr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Wy(f),e_(f,t,a,l),Qf(a,f),!1}a=a.return}while(a!==null);return!1}var yd=Error(s(461)),bt=!1;function Ht(t,i,a,l){i.child=t===null?ry(i,null,a,l):js(i,t.child,a,l)}function t_(t,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Ls(i),l=Zf(t,i,a,_,d,f),S=Wf(),t!==null&&!bt?(ed(t,i,f),Ki(t,i,f)):(Le&&S&&Mf(i),i.flags|=1,Ht(t,i,l,f),i.child)}function n_(t,i,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Nf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,i_(t,i,d,l,f)):(t=Zu(a.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!wd(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Wo,a(_,l)&&t.ref===i.ref)return Ki(t,i,f)}return i.flags|=1,t=Bi(d,l),t.ref=i.ref,t.return=i,i.child=t}function i_(t,i,a,l,f){if(t!==null){var d=t.memoizedProps;if(Wo(d,l)&&t.ref===i.ref)if(bt=!1,i.pendingProps=l=d,wd(t,f))(t.flags&131072)!==0&&(bt=!0);else return i.lanes=t.lanes,Ki(t,i,f)}return _d(t,i,a,l,f)}function r_(t,i,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return s_(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&nc(i,d!==null?d.cachePool:null),d!==null?oy(i,d):Yf(),ly(i);else return l=i.lanes=536870912,s_(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(nc(i,d.cachePool),oy(i,d),Pr(),i.memoizedState=null):(t!==null&&nc(i,null),Yf(),Pr());return Ht(t,i,f,a),i.child}function ml(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function s_(t,i,a,l,f){var d=qf();return d=d===null?null:{parent:St._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&nc(i,null),Yf(),ly(i),t!==null&&Va(t,i,l,!0),i.childLanes=f,null}function _c(t,i){return i=Ec({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function a_(t,i,a){return js(i,t.child,null,a),t=_c(i,i.pendingProps),t.flags|=2,En(i),i.memoizedState=null,t}function Ib(t,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Le){if(l.mode==="hidden")return t=_c(i,l),i.lanes=536870912,ml(null,t);if($f(i),(t=tt)?(t=_v(t,Pn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Cr!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},a=Hg(t),a.return=i,i.child=a,Bt=i,tt=null)):t=null,t===null)throw Dr(i);return i.lanes=536870912,null}return _c(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if($f(i),f)if(i.flags&256)i.flags&=-257,i=a_(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(bt||Va(t,i,a,!1),f=(a&t.childLanes)!==0,bt||f){if(l=We,l!==null&&(_=Po(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,xs(t,_),fn(l,t,_),yd;Dc(),i=a_(t,i,a)}else t=d.treeContext,tt=kn(_.nextSibling),Bt=i,Le=!0,Ir=null,Pn=!1,t!==null&&Qg(i,t),i=_c(i,l),i.flags|=4096;return i}return t=Bi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function vc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function _d(t,i,a,l,f){return Ls(i),a=Zf(t,i,a,l,void 0,f),l=Wf(),t!==null&&!bt?(ed(t,i,f),Ki(t,i,f)):(Le&&l&&Mf(i),i.flags|=1,Ht(t,i,a,f),i.child)}function o_(t,i,a,l,f,d){return Ls(i),i.updateQueue=null,a=cy(i,l,a,f),uy(t),l=Wf(),t!==null&&!bt?(ed(t,i,d),Ki(t,i,d)):(Le&&l&&Mf(i),i.flags|=1,Ht(t,i,a,d),i.child)}function l_(t,i,a,l,f){if(Ls(i),i.stateNode===null){var d=Na,_=a.contextType;typeof _=="object"&&_!==null&&(d=qt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=pd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Ff(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?qt(_):Na,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(md(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&pd.enqueueReplaceState(d,d.state,null),ul(i,l,d,f),ll(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,D=qs(a,S);d.props=D;var j=d.context,K=a.contextType;_=Na,typeof K=="object"&&K!==null&&(_=qt(K));var J=a.getDerivedStateFromProps;K=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||j!==_)&&Yy(i,d,l,_),Or=!1;var q=i.memoizedState;d.state=q,ul(i,l,d,f),ll(),j=i.memoizedState,S||q!==j||Or?(typeof J=="function"&&(md(i,a,J,l),j=i.memoizedState),(D=Or||Ky(i,a,D,l,q,j,_))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Gf(t,i),_=i.memoizedProps,K=qs(a,_),d.props=K,J=i.pendingProps,q=d.context,j=a.contextType,D=Na,typeof j=="object"&&j!==null&&(D=qt(j)),S=a.getDerivedStateFromProps,(j=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==J||q!==D)&&Yy(i,d,l,D),Or=!1,q=i.memoizedState,d.state=q,ul(i,l,d,f),ll();var Q=i.memoizedState;_!==J||q!==Q||Or||t!==null&&t.dependencies!==null&&ec(t.dependencies)?(typeof S=="function"&&(md(i,a,S,l),Q=i.memoizedState),(K=Or||Ky(i,a,K,l,q,Q,D)||t!==null&&t.dependencies!==null&&ec(t.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=D,l=K):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,vc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=js(i,t.child,null,f),i.child=js(i,null,a,f)):Ht(t,i,a,f),i.memoizedState=d.state,t=i.child):t=Ki(t,i,f),t}function u_(t,i,a,l){return Vs(),i.flags|=256,Ht(t,i,a,l),i.child}var vd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ed(t){return{baseLanes:t,cachePool:Zg()}}function Td(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Sn),t}function c_(t,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(mt.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Le){if(f?Vr(i):Pr(),(t=tt)?(t=_v(t,Pn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Cr!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},a=Hg(t),a.return=i,i.child=a,Bt=i,tt=null)):t=null,t===null)throw Dr(i);return im(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(Pr(),f=i.mode,S=Ec({mode:"hidden",children:S},f),l=Ms(l,f,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=Ed(a),l.childLanes=Td(t,_,a),i.memoizedState=vd,ml(null,l)):(Vr(i),Sd(i,S))}var D=t.memoizedState;if(D!==null&&(S=D.dehydrated,S!==null)){if(d)i.flags&256?(Vr(i),i.flags&=-257,i=Ad(t,i,a)):i.memoizedState!==null?(Pr(),i.child=t.child,i.flags|=128,i=null):(Pr(),S=l.fallback,f=i.mode,l=Ec({mode:"visible",children:l.children},f),S=Ms(S,f,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,js(i,t.child,null,a),l=i.child,l.memoizedState=Ed(a),l.childLanes=Td(t,_,a),i.memoizedState=vd,i=ml(null,l));else if(Vr(i),im(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var j=_.dgst;_=j,l=Error(s(419)),l.stack="",l.digest=_,nl({value:l,source:null,stack:null}),i=Ad(t,i,a)}else if(bt||Va(t,i,a,!1),_=(a&t.childLanes)!==0,bt||_){if(_=We,_!==null&&(l=Po(_,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,xs(t,l),fn(_,t,l),yd;nm(S)||Dc(),i=Ad(t,i,a)}else nm(S)?(i.flags|=192,i.child=t.child,i=null):(t=D.treeContext,tt=kn(S.nextSibling),Bt=i,Le=!0,Ir=null,Pn=!1,t!==null&&Qg(i,t),i=Sd(i,l.children),i.flags|=4096);return i}return f?(Pr(),S=l.fallback,f=i.mode,D=t.child,j=D.sibling,l=Bi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,j!==null?S=Bi(j,S):(S=Ms(S,f,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,ml(null,l),l=i.child,S=t.child.memoizedState,S===null?S=Ed(a):(f=S.cachePool,f!==null?(D=St._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=Zg(),S={baseLanes:S.baseLanes|a,cachePool:f}),l.memoizedState=S,l.childLanes=Td(t,_,a),i.memoizedState=vd,ml(t.child,l)):(Vr(i),a=t.child,t=a.sibling,a=Bi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Sd(t,i){return i=Ec({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Ec(t,i){return t=_n(22,t,null,i),t.lanes=0,t}function Ad(t,i,a){return js(i,t.child,null,a),t=Sd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function h_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Uf(t.return,i,a)}function bd(t,i,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function f_(t,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=mt.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,ae(mt,_),Ht(t,i,l,a),l=Le?tl:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&h_(t,a,i);else if(t.tag===19)h_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&lc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),bd(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&lc(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}bd(i,!0,a,null,d,l);break;case"together":bd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Ki(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Ur|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Va(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Bi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Bi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function wd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ec(t)))}function Db(t,i,a){switch(i.tag){case 3:Nt(i,i.stateNode.containerInfo),Nr(i,St,t.memoizedState.cache),Vs();break;case 27:case 5:ms(i);break;case 4:Nt(i,i.stateNode.containerInfo);break;case 10:Nr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,$f(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Vr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?c_(t,i,a):(Vr(i),t=Ki(t,i,a),t!==null?t.sibling:null);Vr(i);break;case 19:var f=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Va(t,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return f_(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ae(mt,mt.current),l)break;return null;case 22:return i.lanes=0,r_(t,i,a,i.pendingProps);case 24:Nr(i,St,t.memoizedState.cache)}return Ki(t,i,a)}function d_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)bt=!0;else{if(!wd(t,a)&&(i.flags&128)===0)return bt=!1,Db(t,i,a);bt=(t.flags&131072)!==0}else bt=!1,Le&&(i.flags&1048576)!==0&&Gg(i,tl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Us(i.elementType),i.type=t,typeof t=="function")Nf(t)?(l=qs(t,l),i.tag=1,i=l_(null,i,t,l,a)):(i.tag=0,i=_d(null,i,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===le){i.tag=11,i=t_(null,i,t,l,a);break e}else if(f===C){i.tag=14,i=n_(null,i,t,l,a);break e}}throw i=rt(t)||t,Error(s(306,i,""))}}return i;case 0:return _d(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=qs(l,i.pendingProps),l_(t,i,l,f,a);case 3:e:{if(Nt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,Gf(t,i),ul(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Nr(i,St,l),l!==d.cache&&zf(i,[St],a,!0),ll(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=u_(t,i,l,a);break e}else if(l!==f){f=xn(Error(s(424)),i),nl(f),i=u_(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(tt=kn(t.firstChild),Bt=i,Le=!0,Ir=null,Pn=!0,a=ry(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Vs(),l===f){i=Ki(t,i,a);break e}Ht(t,i,l,a)}i=i.child}return i;case 26:return vc(t,i),t===null?(a=bv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Le||(a=i.type,t=i.pendingProps,l=Lc(Ce.current).createElement(a),l[vt]=i,l[Pt]=t,Ft(l,a,t),Et(l),i.stateNode=l):i.memoizedState=bv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ms(i),t===null&&Le&&(l=i.stateNode=Tv(i.type,i.pendingProps,Ce.current),Bt=i,Pn=!0,f=tt,Hr(i.type)?(rm=f,tt=kn(l.firstChild)):tt=f),Ht(t,i,i.pendingProps.children,a),vc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Le&&((f=l=tt)&&(l=s1(l,i.type,i.pendingProps,Pn),l!==null?(i.stateNode=l,Bt=i,tt=kn(l.firstChild),Pn=!1,f=!0):f=!1),f||Dr(i)),ms(i),f=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Wd(f,d)?l=null:_!==null&&Wd(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=Zf(t,i,Eb,null,null,a),Dl._currentValue=f),vc(t,i),Ht(t,i,l,a),i.child;case 6:return t===null&&Le&&((t=a=tt)&&(a=a1(a,i.pendingProps,Pn),a!==null?(i.stateNode=a,Bt=i,tt=null,t=!0):t=!1),t||Dr(i)),null;case 13:return c_(t,i,a);case 4:return Nt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=js(i,null,l,a):Ht(t,i,l,a),i.child;case 11:return t_(t,i,i.type,i.pendingProps,a);case 7:return Ht(t,i,i.pendingProps,a),i.child;case 8:return Ht(t,i,i.pendingProps.children,a),i.child;case 12:return Ht(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Nr(i,i.type,l.value),Ht(t,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Ls(i),f=qt(f),l=l(f),i.flags|=1,Ht(t,i,l,a),i.child;case 14:return n_(t,i,i.type,i.pendingProps,a);case 15:return i_(t,i,i.type,i.pendingProps,a);case 19:return f_(t,i,a);case 31:return Ib(t,i,a);case 22:return r_(t,i,a,i.pendingProps);case 24:return Ls(i),l=qt(St),t===null?(f=qf(),f===null&&(f=We,d=jf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},Ff(i),Nr(i,St,f)):((t.lanes&a)!==0&&(Gf(t,i),ul(i,null,null,a),ll()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Nr(i,St,l)):(l=d.cache,Nr(i,St,l),l!==f.cache&&zf(i,[St],a,!0))),Ht(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Yi(t){t.flags|=4}function Rd(t,i,a,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(j_())t.flags|=8192;else throw zs=rc,Hf}else t.flags&=-16777217}function m_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Dv(i))if(j_())t.flags|=8192;else throw zs=rc,Hf}function Tc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Cu():536870912,t.lanes|=i,Qa|=i)}function pl(t,i){if(!Le)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function nt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function Nb(t,i,a){var l=i.pendingProps;switch(Vf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(i),null;case 1:return nt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Fi(St),st(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ma(i)?Yi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Lf())),nt(i),null;case 26:var f=i.type,d=i.memoizedState;return t===null?(Yi(i),d!==null?(nt(i),m_(i,d)):(nt(i),Rd(i,f,null,l,a))):d?d!==t.memoizedState?(Yi(i),nt(i),m_(i,d)):(nt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Yi(i),nt(i),Rd(i,f,t,l,a)),null;case 27:if(ha(i),a=Ce.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Yi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}t=ce.current,Ma(i)?Kg(i):(t=Tv(f,l,a),i.stateNode=t,Yi(i))}return nt(i),null;case 5:if(ha(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Yi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}if(d=ce.current,Ma(i))Kg(i);else{var _=Lc(Ce.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[vt]=i,d[Pt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Ft(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Yi(i)}}return nt(i),Rd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Yi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ce.current,Ma(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,f=Bt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[vt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||cv(t.nodeValue,a)),t||Dr(i,!0)}else t=Lc(t).createTextNode(l),t[vt]=i,i.stateNode=t}return nt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ma(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[vt]=i}else Vs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),t=!1}else a=Lf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(En(i),i):(En(i),null);if((i.flags&128)!==0)throw Error(s(558))}return nt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Ma(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[vt]=i}else Vs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),f=!1}else f=Lf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(En(i),i):(En(i),null)}return En(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Tc(i,i.updateQueue),nt(i),null);case 4:return st(),t===null&&Yd(i.stateNode.containerInfo),nt(i),null;case 10:return Fi(i.type),nt(i),null;case 19:if(W(mt),l=i.memoizedState,l===null)return nt(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)pl(l,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=lc(t),d!==null){for(i.flags|=128,pl(l,!1),t=d.updateQueue,i.updateQueue=t,Tc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)qg(a,t),a=a.sibling;return ae(mt,mt.current&1|2),Le&&qi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&en()>Rc&&(i.flags|=128,f=!0,pl(l,!1),i.lanes=4194304)}else{if(!f)if(t=lc(d),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,Tc(i,t),pl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Le)return nt(i),null}else 2*en()-l.renderingStartTime>Rc&&a!==536870912&&(i.flags|=128,f=!0,pl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=en(),t.sibling=null,a=mt.current,ae(mt,f?a&1|2:a&1),Le&&qi(i,l.treeForkCount),t):(nt(i),null);case 22:case 23:return En(i),Xf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(nt(i),i.subtreeFlags&6&&(i.flags|=8192)):nt(i),a=i.updateQueue,a!==null&&Tc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&W(ks),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Fi(St),nt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Ob(t,i){switch(Vf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Fi(St),st(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ha(i),null;case 31:if(i.memoizedState!==null){if(En(i),i.alternate===null)throw Error(s(340));Vs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(En(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Vs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return W(mt),null;case 4:return st(),null;case 10:return Fi(i.type),null;case 22:case 23:return En(i),Xf(),t!==null&&W(ks),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Fi(St),null;case 25:return null;default:return null}}function p_(t,i){switch(Vf(i),i.tag){case 3:Fi(St),st();break;case 26:case 27:case 5:ha(i);break;case 4:st();break;case 31:i.memoizedState!==null&&En(i);break;case 13:En(i);break;case 19:W(mt);break;case 10:Fi(i.type);break;case 22:case 23:En(i),Xf(),t!==null&&W(ks);break;case 24:Fi(St)}}function gl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(S){Ye(i,i.return,S)}}function Lr(t,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=i;var D=a,j=S;try{j()}catch(K){Ye(f,D,K)}}}l=l.next}while(l!==d)}}catch(K){Ye(i,i.return,K)}}function g_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{ay(i,a)}catch(l){Ye(t,t.return,l)}}}function y_(t,i,a){a.props=qs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(t,i,l)}}function yl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Ye(t,i,f)}}function Ci(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Ye(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ye(t,i,f)}else a.current=null}function __(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Ye(t,t.return,f)}}function Cd(t,i,a){try{var l=t.stateNode;Wb(l,t.type,a,i),l[Pt]=i}catch(f){Ye(t,t.return,f)}}function v_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Hr(t.type)||t.tag===4}function Id(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||v_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Hr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Qn));else if(l!==4&&(l===27&&Hr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Dd(t,i,a),t=t.sibling;t!==null;)Dd(t,i,a),t=t.sibling}function Sc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Hr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Sc(t,i,a),t=t.sibling;t!==null;)Sc(t,i,a),t=t.sibling}function E_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Ft(i,l,a),i[vt]=t,i[Pt]=a}catch(d){Ye(t,t.return,d)}}var Xi=!1,wt=!1,Nd=!1,T_=typeof WeakSet=="function"?WeakSet:Set,kt=null;function xb(t,i){if(t=t.containerInfo,Jd=Hc,t=Mg(t),Af(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,D=-1,j=0,K=0,J=t,q=null;t:for(;;){for(var Q;J!==a||f!==0&&J.nodeType!==3||(S=_+f),J!==d||l!==0&&J.nodeType!==3||(D=_+l),J.nodeType===3&&(_+=J.nodeValue.length),(Q=J.firstChild)!==null;)q=J,J=Q;for(;;){if(J===t)break t;if(q===a&&++j===f&&(S=_),q===d&&++K===l&&(D=_),(Q=J.nextSibling)!==null)break;J=q,q=J.parentNode}J=Q}a=S===-1||D===-1?null:{start:S,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Zd={focusedElem:t,selectionRange:a},Hc=!1,kt=i;kt!==null;)if(i=kt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,kt=t;else for(;kt!==null;){switch(i=kt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var he=qs(a.type,f);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Ye(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)tm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":tm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,kt=t;break}kt=i.return}}function S_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ji(t,a),l&4&&gl(5,a);break;case 1:if(Ji(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Ye(a,a.return,_)}else{var f=qs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ye(a,a.return,_)}}l&64&&g_(a),l&512&&yl(a,a.return);break;case 3:if(Ji(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{ay(t,i)}catch(_){Ye(a,a.return,_)}}break;case 27:i===null&&l&4&&E_(a);case 26:case 5:Ji(t,a),i===null&&l&4&&__(a),l&512&&yl(a,a.return);break;case 12:Ji(t,a);break;case 31:Ji(t,a),l&4&&w_(t,a);break;case 13:Ji(t,a),l&4&&R_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Bb.bind(null,a),o1(t,a))));break;case 22:if(l=a.memoizedState!==null||Xi,!l){i=i!==null&&i.memoizedState!==null||wt,f=Xi;var d=wt;Xi=l,(wt=i)&&!d?Zi(t,a,(a.subtreeFlags&8772)!==0):Ji(t,a),Xi=f,wt=d}break;case 30:break;default:Ji(t,a)}}function A_(t){var i=t.alternate;i!==null&&(t.alternate=null,A_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ga(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,ln=!1;function $i(t,i,a){for(a=a.child;a!==null;)b_(t,i,a),a=a.sibling}function b_(t,i,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 26:wt||Ci(a,i),$i(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:wt||Ci(a,i);var l=ot,f=ln;Hr(a.type)&&(ot=a.stateNode,ln=!1),$i(t,i,a),Rl(a.stateNode),ot=l,ln=f;break;case 5:wt||Ci(a,i);case 6:if(l=ot,f=ln,ot=null,$i(t,i,a),ot=l,ln=f,ot!==null)if(ln)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(d){Ye(a,i,d)}else try{ot.removeChild(a.stateNode)}catch(d){Ye(a,i,d)}break;case 18:ot!==null&&(ln?(t=ot,gv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),eo(t)):gv(ot,a.stateNode));break;case 4:l=ot,f=ln,ot=a.stateNode.containerInfo,ln=!0,$i(t,i,a),ot=l,ln=f;break;case 0:case 11:case 14:case 15:Lr(2,a,i),wt||Lr(4,a,i),$i(t,i,a);break;case 1:wt||(Ci(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&y_(a,i,l)),$i(t,i,a);break;case 21:$i(t,i,a);break;case 22:wt=(l=wt)||a.memoizedState!==null,$i(t,i,a),wt=l;break;default:$i(t,i,a)}}function w_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{eo(t)}catch(a){Ye(i,i.return,a)}}}function R_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{eo(t)}catch(a){Ye(i,i.return,a)}}function Mb(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new T_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new T_),i;default:throw Error(s(435,t.tag))}}function Ac(t,i){var a=Mb(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=qb.bind(null,t,l);l.then(f,f)}})}function un(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Hr(S.type)){ot=S.stateNode,ln=!1;break e}break;case 5:ot=S.stateNode,ln=!1;break e;case 3:case 4:ot=S.stateNode.containerInfo,ln=!0;break e}S=S.return}if(ot===null)throw Error(s(160));b_(d,_,f),ot=null,ln=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)C_(i,t),i=i.sibling}var Zn=null;function C_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(i,t),cn(t),l&4&&(Lr(3,t,t.return),gl(3,t),Lr(5,t,t.return));break;case 1:un(i,t),cn(t),l&512&&(wt||a===null||Ci(a,a.return)),l&64&&Xi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Zn;if(un(i,t),cn(t),l&512&&(wt||a===null||Ci(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[di]||d[vt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Ft(d,l,a),d[vt]=t,Et(d),l=d;break e;case"link":var _=Cv("link","href",f).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=f.createElement(l),Ft(d,l,a),f.head.appendChild(d);break;case"meta":if(_=Cv("meta","content",f).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=f.createElement(l),Ft(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[vt]=t,Et(d),l=d}t.stateNode=l}else Iv(f,t.type,t.stateNode);else t.stateNode=Rv(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Iv(f,t.type,t.stateNode):Rv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Cd(t,t.memoizedProps,a.memoizedProps)}break;case 27:un(i,t),cn(t),l&512&&(wt||a===null||Ci(a,a.return)),a!==null&&l&4&&Cd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(un(i,t),cn(t),l&512&&(wt||a===null||Ci(a,a.return)),t.flags&32){f=t.stateNode;try{on(f,"")}catch(he){Ye(t,t.return,he)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Cd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Nd=!0);break;case 6:if(un(i,t),cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){Ye(t,t.return,he)}}break;case 3:if(zc=null,f=Zn,Zn=kc(i.containerInfo),un(i,t),Zn=f,cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{eo(i.containerInfo)}catch(he){Ye(t,t.return,he)}Nd&&(Nd=!1,I_(t));break;case 4:l=Zn,Zn=kc(t.stateNode.containerInfo),un(i,t),cn(t),Zn=l;break;case 12:un(i,t),cn(t);break;case 31:un(i,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ac(t,l)));break;case 13:un(i,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(wc=en()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ac(t,l)));break;case 22:f=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,j=Xi,K=wt;if(Xi=j||f,wt=K||D,un(i,t),wt=K,Xi=j,cn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||D||Xi||wt||Hs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(d=D.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=D.stateNode;var J=D.memoizedProps.style,q=J!=null&&J.hasOwnProperty("display")?J.display:null;S.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(he){Ye(D,D.return,he)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(he){Ye(D,D.return,he)}}}else if(i.tag===18){if(a===null){D=i;try{var Q=D.stateNode;f?yv(Q,!0):yv(D.stateNode,!1)}catch(he){Ye(D,D.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ac(t,a))));break;case 19:un(i,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ac(t,l)));break;case 30:break;case 21:break;default:un(i,t),cn(t)}}function cn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(v_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Id(t);Sc(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(on(_,""),a.flags&=-33);var S=Id(t);Sc(t,S,_);break;case 3:case 4:var D=a.stateNode.containerInfo,j=Id(t);Dd(t,j,D);break;default:throw Error(s(161))}}catch(K){Ye(t,t.return,K)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function I_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;I_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Ji(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)S_(t,i.alternate,i),i=i.sibling}function Hs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Lr(4,i,i.return),Hs(i);break;case 1:Ci(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&y_(i,i.return,a),Hs(i);break;case 27:Rl(i.stateNode);case 26:case 5:Ci(i,i.return),Hs(i);break;case 22:i.memoizedState===null&&Hs(i);break;case 30:Hs(i);break;default:Hs(i)}t=t.sibling}}function Zi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Zi(f,d,a),gl(4,d);break;case 1:if(Zi(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(j){Ye(l,l.return,j)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)sy(D[f],S)}catch(j){Ye(l,l.return,j)}}a&&_&64&&g_(d),yl(d,d.return);break;case 27:E_(d);case 26:case 5:Zi(f,d,a),a&&l===null&&_&4&&__(d),yl(d,d.return);break;case 12:Zi(f,d,a);break;case 31:Zi(f,d,a),a&&_&4&&w_(f,d);break;case 13:Zi(f,d,a),a&&_&4&&R_(f,d);break;case 22:d.memoizedState===null&&Zi(f,d,a),yl(d,d.return);break;case 30:break;default:Zi(f,d,a)}i=i.sibling}}function Od(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&il(a))}function xd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&il(t))}function Wn(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)D_(t,i,a,l),i=i.sibling}function D_(t,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Wn(t,i,a,l),f&2048&&gl(9,i);break;case 1:Wn(t,i,a,l);break;case 3:Wn(t,i,a,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&il(t)));break;case 12:if(f&2048){Wn(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Ye(i,i.return,D)}}else Wn(t,i,a,l);break;case 31:Wn(t,i,a,l);break;case 13:Wn(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Wn(t,i,a,l):_l(t,i):d._visibility&2?Wn(t,i,a,l):(d._visibility|=2,Ha(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Od(_,i);break;case 24:Wn(t,i,a,l),f&2048&&xd(i.alternate,i);break;default:Wn(t,i,a,l)}}function Ha(t,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,S=a,D=l,j=_.flags;switch(_.tag){case 0:case 11:case 15:Ha(d,_,S,D,f),gl(8,_);break;case 23:break;case 22:var K=_.stateNode;_.memoizedState!==null?K._visibility&2?Ha(d,_,S,D,f):_l(d,_):(K._visibility|=2,Ha(d,_,S,D,f)),f&&j&2048&&Od(_.alternate,_);break;case 24:Ha(d,_,S,D,f),f&&j&2048&&xd(_.alternate,_);break;default:Ha(d,_,S,D,f)}i=i.sibling}}function _l(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,f=l.flags;switch(l.tag){case 22:_l(a,l),f&2048&&Od(l.alternate,l);break;case 24:_l(a,l),f&2048&&xd(l.alternate,l);break;default:_l(a,l)}i=i.sibling}}var vl=8192;function Fa(t,i,a){if(t.subtreeFlags&vl)for(t=t.child;t!==null;)N_(t,i,a),t=t.sibling}function N_(t,i,a){switch(t.tag){case 26:Fa(t,i,a),t.flags&vl&&t.memoizedState!==null&&v1(a,Zn,t.memoizedState,t.memoizedProps);break;case 5:Fa(t,i,a);break;case 3:case 4:var l=Zn;Zn=kc(t.stateNode.containerInfo),Fa(t,i,a),Zn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=vl,vl=16777216,Fa(t,i,a),vl=l):Fa(t,i,a));break;default:Fa(t,i,a)}}function O_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function El(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];kt=l,M_(l,t)}O_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)x_(t),t=t.sibling}function x_(t){switch(t.tag){case 0:case 11:case 15:El(t),t.flags&2048&&Lr(9,t,t.return);break;case 3:El(t);break;case 12:El(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,bc(t)):El(t);break;default:El(t)}}function bc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];kt=l,M_(l,t)}O_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Lr(8,i,i.return),bc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,bc(i));break;default:bc(i)}t=t.sibling}}function M_(t,i){for(;kt!==null;){var a=kt;switch(a.tag){case 0:case 11:case 15:Lr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:il(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,kt=l;else e:for(a=t;kt!==null;){l=kt;var f=l.sibling,d=l.return;if(A_(l),l===a){kt=null;break e}if(f!==null){f.return=d,kt=f;break e}kt=d}}}var Vb={getCacheForType:function(t){var i=qt(St),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return qt(St).controller.signal}},Pb=typeof WeakMap=="function"?WeakMap:Map,He=0,We=null,De=null,Oe=0,Ke=0,Tn=null,kr=!1,Ga=!1,Md=!1,Wi=0,ht=0,Ur=0,Fs=0,Vd=0,Sn=0,Qa=0,Tl=null,hn=null,Pd=!1,wc=0,V_=0,Rc=1/0,Cc=null,zr=null,xt=0,jr=null,Ka=null,er=0,Ld=0,kd=null,P_=null,Sl=0,Ud=null;function An(){return(He&2)!==0&&Oe!==0?Oe&-Oe:Y.T!==null?Fd():Iu()}function L_(){if(Sn===0)if((Oe&536870912)===0||Le){var t=ys;ys<<=1,(ys&3932160)===0&&(ys=262144),Sn=t}else Sn=536870912;return t=vn.current,t!==null&&(t.flags|=32),Sn}function fn(t,i,a){(t===We&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Ya(t,0),Br(t,Oe,Sn,!1)),_s(t,a),((He&2)===0||t!==We)&&(t===We&&((He&2)===0&&(Fs|=a),ht===4&&Br(t,Oe,Sn,!1)),Ii(t))}function k_(t,i,a){if((He&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Hn(t,i),f=l?Ub(t,i):jd(t,i,!0),d=l;do{if(f===0){Ga&&!l&&Br(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!Lb(a)){f=jd(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=t;f=Tl;var D=S.current.memoizedState.isDehydrated;if(D&&(Ya(S,_).flags|=256),_=jd(S,_,!1),_!==2){if(Md&&!D){S.errorRecoveryDisabledLanes|=d,Fs|=d,f=4;break e}d=hn,hn=f,d!==null&&(hn===null?hn=d:hn.push.apply(hn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){Ya(t,0),Br(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Br(l,i,Sn,!kr);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=wc+300-en(),10<f)){if(Br(l,i,Sn,!kr),ci(l,0,!0)!==0)break e;er=i,l.timeoutHandle=mv(U_.bind(null,l,a,hn,Cc,Pd,i,Sn,Fs,Qa,kr,d,"Throttled",-0,0),f);break e}U_(l,a,hn,Cc,Pd,i,Sn,Fs,Qa,kr,d,null,-0,0)}}break}while(!0);Ii(t)}function U_(t,i,a,l,f,d,_,S,D,j,K,J,q,Q){if(t.timeoutHandle=-1,J=i.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},N_(i,d,J);var he=(d&62914560)===d?wc-en():(d&4194048)===d?V_-en():0;if(he=E1(J,he),he!==null){er=d,t.cancelPendingCommit=he(Q_.bind(null,t,i,d,a,l,f,_,S,D,K,J,null,q,Q)),Br(t,d,_,!j);return}}Q_(t,i,d,a,l,f,_,S,D)}function Lb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!yn(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Br(t,i,a,l){i&=~Vd,i&=~Fs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-ft(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&vs(t,a,i)}function Ic(){return(He&6)===0?(Al(0),!1):!0}function zd(){if(De!==null){if(Ke===0)var t=De.return;else t=De,Hi=Ps=null,td(t),Ua=null,sl=0,t=De;for(;t!==null;)p_(t.alternate,t),t=t.return;De=null}}function Ya(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,n1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),er=0,zd(),We=t,De=a=Bi(t.current,null),Oe=i,Ke=0,Tn=null,kr=!1,Ga=Hn(t,i),Md=!1,Qa=Sn=Vd=Fs=Ur=ht=0,hn=Tl=null,Pd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-ft(l),d=1<<f;i|=t[f],l&=~d}return Wi=i,Xu(),a}function z_(t,i){Re=null,Y.H=dl,i===ka||i===ic?(i=ty(),Ke=3):i===Hf?(i=ty(),Ke=4):Ke=i===yd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Tn=i,De===null&&(ht=1,yc(t,xn(i,t.current)))}function j_(){var t=vn.current;return t===null?!0:(Oe&4194048)===Oe?Ln===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===Ln:!1}function B_(){var t=Y.H;return Y.H=dl,t===null?dl:t}function q_(){var t=Y.A;return Y.A=Vb,t}function Dc(){ht=4,kr||(Oe&4194048)!==Oe&&vn.current!==null||(Ga=!0),(Ur&134217727)===0&&(Fs&134217727)===0||We===null||Br(We,Oe,Sn,!1)}function jd(t,i,a){var l=He;He|=2;var f=B_(),d=q_();(We!==t||Oe!==i)&&(Cc=null,Ya(t,i)),i=!1;var _=ht;e:do try{if(Ke!==0&&De!==null){var S=De,D=Tn;switch(Ke){case 8:zd(),_=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(i=!0);var j=Ke;if(Ke=0,Tn=null,Xa(t,S,D,j),a&&Ga){_=0;break e}break;default:j=Ke,Ke=0,Tn=null,Xa(t,S,D,j)}}kb(),_=ht;break}catch(K){z_(t,K)}while(!0);return i&&t.shellSuspendCounter++,Hi=Ps=null,He=l,Y.H=f,Y.A=d,De===null&&(We=null,Oe=0,Xu()),_}function kb(){for(;De!==null;)H_(De)}function Ub(t,i){var a=He;He|=2;var l=B_(),f=q_();We!==t||Oe!==i?(Cc=null,Rc=en()+500,Ya(t,i)):Ga=Hn(t,i);e:do try{if(Ke!==0&&De!==null){i=De;var d=Tn;t:switch(Ke){case 1:Ke=0,Tn=null,Xa(t,i,d,1);break;case 2:case 9:if(Wg(d)){Ke=0,Tn=null,F_(i);break}i=function(){Ke!==2&&Ke!==9||We!==t||(Ke=7),Ii(t)},d.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Wg(d)?(Ke=0,Tn=null,F_(i)):(Ke=0,Tn=null,Xa(t,i,d,7));break;case 5:var _=null;switch(De.tag){case 26:_=De.memoizedState;case 5:case 27:var S=De;if(_?Dv(_):S.stateNode.complete){Ke=0,Tn=null;var D=S.sibling;if(D!==null)De=D;else{var j=S.return;j!==null?(De=j,Nc(j)):De=null}break t}}Ke=0,Tn=null,Xa(t,i,d,5);break;case 6:Ke=0,Tn=null,Xa(t,i,d,6);break;case 8:zd(),ht=6;break e;default:throw Error(s(462))}}zb();break}catch(K){z_(t,K)}while(!0);return Hi=Ps=null,Y.H=l,Y.A=f,He=a,De!==null?0:(We=null,Oe=0,Xu(),ht)}function zb(){for(;De!==null&&!gf();)H_(De)}function H_(t){var i=d_(t.alternate,t,Wi);t.memoizedProps=t.pendingProps,i===null?Nc(t):De=i}function F_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=o_(a,i,i.pendingProps,i.type,void 0,Oe);break;case 11:i=o_(a,i,i.pendingProps,i.type.render,i.ref,Oe);break;case 5:td(i);default:p_(a,i),i=De=qg(i,Wi),i=d_(a,i,Wi)}t.memoizedProps=t.pendingProps,i===null?Nc(t):De=i}function Xa(t,i,a,l){Hi=Ps=null,td(i),Ua=null,sl=0;var f=i.return;try{if(Cb(t,f,i,a,Oe)){ht=1,yc(t,xn(a,t.current)),De=null;return}}catch(d){if(f!==null)throw De=f,d;ht=1,yc(t,xn(a,t.current)),De=null;return}i.flags&32768?(Le||l===1?t=!0:Ga||(Oe&536870912)!==0?t=!1:(kr=t=!0,(l===2||l===9||l===3||l===6)&&(l=vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),G_(i,t)):Nc(i)}function Nc(t){var i=t;do{if((i.flags&32768)!==0){G_(i,kr);return}t=i.return;var a=Nb(i.alternate,i,Wi);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);ht===0&&(ht=5)}function G_(t,i){do{var a=Ob(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ht=6,De=null}function Q_(t,i,a,l,f,d,_,S,D){t.cancelPendingCommit=null;do Oc();while(xt!==0);if((He&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=If,vf(t,a,d,_,S,D),t===We&&(De=We=null,Oe=0),Ka=i,jr=t,er=a,Ld=d,kd=f,P_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Hb(yr,function(){return J_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,f=se.p,se.p=2,_=He,He|=4;try{xb(t,i,a)}finally{He=_,se.p=f,Y.T=l}}xt=1,K_(),Y_(),X_()}}function K_(){if(xt===1){xt=0;var t=jr,i=Ka,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=se.p;se.p=2;var f=He;He|=4;try{C_(i,t);var d=Zd,_=Mg(t.containerInfo),S=d.focusedElem,D=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&xg(S.ownerDocument.documentElement,S)){if(D!==null&&Af(S)){var j=D.start,K=D.end;if(K===void 0&&(K=j),"selectionStart"in S)S.selectionStart=j,S.selectionEnd=Math.min(K,S.value.length);else{var J=S.ownerDocument||document,q=J&&J.defaultView||window;if(q.getSelection){var Q=q.getSelection(),he=S.textContent.length,_e=Math.min(D.start,he),Ze=D.end===void 0?_e:Math.min(D.end,he);!Q.extend&&_e>Ze&&(_=Ze,Ze=_e,_e=_);var P=Og(S,_e),O=Og(S,Ze);if(P&&O&&(Q.rangeCount!==1||Q.anchorNode!==P.node||Q.anchorOffset!==P.offset||Q.focusNode!==O.node||Q.focusOffset!==O.offset)){var z=J.createRange();z.setStart(P.node,P.offset),Q.removeAllRanges(),_e>Ze?(Q.addRange(z),Q.extend(O.node,O.offset)):(z.setEnd(O.node,O.offset),Q.addRange(z))}}}}for(J=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&J.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<J.length;S++){var X=J[S];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Hc=!!Jd,Zd=Jd=null}finally{He=f,se.p=l,Y.T=a}}t.current=i,xt=2}}function Y_(){if(xt===2){xt=0;var t=jr,i=Ka,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=se.p;se.p=2;var f=He;He|=4;try{S_(t,i.alternate,i)}finally{He=f,se.p=l,Y.T=a}}xt=3}}function X_(){if(xt===4||xt===3){xt=0,Tu();var t=jr,i=Ka,a=er,l=P_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?xt=5:(xt=0,Ka=jr=null,$_(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(zr=null),ki(a),i=i.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(qn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Y.T,f=se.p,se.p=2,Y.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{Y.T=i,se.p=f}}(er&3)!==0&&Oc(),Ii(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===Ud?Sl++:(Sl=0,Ud=t):Sl=0,Al(0)}}function $_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,il(i)))}function Oc(){return K_(),Y_(),X_(),J_()}function J_(){if(xt!==5)return!1;var t=jr,i=Ld;Ld=0;var a=ki(er),l=Y.T,f=se.p;try{se.p=32>a?32:a,Y.T=null,a=kd,kd=null;var d=jr,_=er;if(xt=0,Ka=jr=null,er=0,(He&6)!==0)throw Error(s(331));var S=He;if(He|=4,x_(d.current),D_(d,d.current,_,a),He=S,Al(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(qn,d)}catch{}return!0}finally{se.p=f,Y.T=l,$_(t,i)}}function Z_(t,i,a){i=xn(a,i),i=gd(t.stateNode,i,2),t=Mr(t,i,2),t!==null&&(_s(t,2),Ii(t))}function Ye(t,i,a){if(t.tag===3)Z_(t,t,a);else for(;i!==null;){if(i.tag===3){Z_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(zr===null||!zr.has(l))){t=xn(a,t),a=Wy(2),l=Mr(i,a,2),l!==null&&(e_(a,l,i,t),_s(l,2),Ii(l));break}}i=i.return}}function Bd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Pb;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Md=!0,f.add(a),t=jb.bind(null,t,i,a),i.then(t,t))}function jb(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,We===t&&(Oe&a)===a&&(ht===4||ht===3&&(Oe&62914560)===Oe&&300>en()-wc?(He&2)===0&&Ya(t,0):Vd|=a,Qa===Oe&&(Qa=0)),Ii(t)}function W_(t,i){i===0&&(i=Cu()),t=xs(t,i),t!==null&&(_s(t,i),Ii(t))}function Bb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),W_(t,a)}function qb(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),W_(t,a)}function Hb(t,i){return Ot(t,i)}var xc=null,$a=null,qd=!1,Mc=!1,Hd=!1,qr=0;function Ii(t){t!==$a&&t.next===null&&($a===null?xc=$a=t:$a=$a.next=t),Mc=!0,qd||(qd=!0,Gb())}function Al(t,i){if(!Hd&&Mc){Hd=!0;do for(var a=!1,l=xc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-ft(42|t)+1)-1,d&=f&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,iv(l,d))}else d=Oe,d=ci(l,l===We?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Hn(l,d)||(a=!0,iv(l,d));l=l.next}while(a);Hd=!1}}function Fb(){ev()}function ev(){Mc=qd=!1;var t=0;qr!==0&&t1()&&(t=qr);for(var i=en(),a=null,l=xc;l!==null;){var f=l.next,d=tv(l,i);d===0?(l.next=null,a===null?xc=f:a.next=f,f===null&&($a=a)):(a=l,(t!==0||(d&3)!==0)&&(Mc=!0)),l=f}xt!==0&&xt!==5||Al(t),qr!==0&&(qr=0)}function tv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-ft(d),S=1<<_,D=f[_];D===-1?((S&a)===0||(S&l)!==0)&&(f[_]=_f(S,i)):D<=i&&(t.expiredLanes|=S),d&=~S}if(i=We,a=Oe,a=ci(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&gr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Hn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&gr(l),ki(a)){case 2:case 8:a=Mo;break;case 32:a=yr;break;case 268435456:a=Su;break;default:a=yr}return l=nv.bind(null,t),a=Ot(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&gr(l),t.callbackPriority=2,t.callbackNode=null,2}function nv(t,i){if(xt!==0&&xt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Oc()&&t.callbackNode!==a)return null;var l=Oe;return l=ci(t,t===We?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(k_(t,l,i),tv(t,en()),t.callbackNode!=null&&t.callbackNode===a?nv.bind(null,t):null)}function iv(t,i){if(Oc())return null;k_(t,i,!0)}function Gb(){i1(function(){(He&6)!==0?Ot(xo,Fb):ev()})}function Fd(){if(qr===0){var t=Pa;t===0&&(t=li,li<<=1,(li&261888)===0&&(li=256)),qr=t}return qr}function rv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ea(""+t)}function sv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Qb(t,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=rv((f[Pt]||null).action),_=l.submitter;_&&(i=(i=_[Pt]||null)?rv(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new Ti("action","action",null,l,f);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(qr!==0){var D=_?sv(f,_):new FormData(f);cd(a,{pending:!0,data:D,method:f.method,action:d},null,D)}}else typeof d=="function"&&(S.preventDefault(),D=_?sv(f,_):new FormData(f),cd(a,{pending:!0,data:D,method:f.method,action:d},d,D))},currentTarget:f}]})}}for(var Gd=0;Gd<Cf.length;Gd++){var Qd=Cf[Gd],Kb=Qd.toLowerCase(),Yb=Qd[0].toUpperCase()+Qd.slice(1);Jn(Kb,"on"+Yb)}Jn(Lg,"onAnimationEnd"),Jn(kg,"onAnimationIteration"),Jn(Ug,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(cb,"onTransitionRun"),Jn(hb,"onTransitionStart"),Jn(fb,"onTransitionCancel"),Jn(zg,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bl));function av(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],D=S.instance,j=S.currentTarget;if(S=S.listener,D!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=j;try{d(f)}catch(K){Yu(K)}f.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(S=l[_],D=S.instance,j=S.currentTarget,S=S.listener,D!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=j;try{d(f)}catch(K){Yu(K)}f.currentTarget=null,d=D}}}}function Ne(t,i){var a=i[pa];a===void 0&&(a=i[pa]=new Set);var l=t+"__bubble";a.has(l)||(ov(i,t,2,!1),a.add(l))}function Kd(t,i,a){var l=0;i&&(l|=4),ov(a,t,l,i)}var Vc="_reactListening"+Math.random().toString(36).slice(2);function Yd(t){if(!t[Vc]){t[Vc]=!0,Lo.forEach(function(a){a!=="selectionchange"&&(Xb.has(a)||Kd(a,!1,t),Kd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Vc]||(i[Vc]=!0,Kd("selectionchange",!1,i))}}function ov(t,i,a,l){switch(Lv(i)){case 2:var f=A1;break;case 8:f=b1;break;default:f=um}a=f.bind(null,i,a,t),f=void 0,!bs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function Xd(t,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===f)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;S!==null;){if(_=mi(S),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue e}S=S.parentNode}}l=l.return}Ar(function(){var j=d,K=In(a),J=[];e:{var q=jg.get(t);if(q!==void 0){var Q=Ti,he=t;switch(t){case"keypress":if(Rs(a)===0)break e;case"keydown":case"keyup":Q=Gu;break;case"focusin":he="focus",Q=Is;break;case"focusout":he="blur",Q=Is;break;case"beforeblur":case"afterblur":Q=Is;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Lu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case Lg:case kg:case Ug:Q=Uu;break;case zg:Q=A;break;case"scroll":case"scrollend":Q=Yo;break;case"wheel":Q=F;break;case"copy":case"cut":case"paste":Q=zu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=ji;break;case"toggle":case"beforetoggle":Q=we}var _e=(i&4)!==0,Ze=!_e&&(t==="scroll"||t==="scrollend"),P=_e?q!==null?q+"Capture":null:q;_e=[];for(var O=j,z;O!==null;){var X=O;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||P===null||(X=Kn(O,P),X!=null&&_e.push(wl(O,X,z))),Ze)break;O=O.return}0<_e.length&&(q=new Q(q,he,null,a,K),J.push({event:q,listeners:_e}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",q&&a!==Go&&(he=a.relatedTarget||a.fromElement)&&(mi(he)||he[fi]))break e;if((Q||q)&&(q=K.window===K?K:(q=K.ownerDocument)?q.defaultView||q.parentWindow:window,Q?(he=a.relatedTarget||a.toElement,Q=j,he=he?mi(he):null,he!==null&&(Ze=u(he),_e=he.tag,he!==Ze||_e!==5&&_e!==27&&_e!==6)&&(he=null)):(Q=null,he=j),Q!==he)){if(_e=Xo,X="onMouseLeave",P="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(_e=ji,X="onPointerLeave",P="onPointerEnter",O="pointer"),Ze=Q==null?q:pn(Q),z=he==null?q:pn(he),q=new _e(X,O+"leave",Q,a,K),q.target=Ze,q.relatedTarget=z,X=null,mi(K)===j&&(_e=new _e(P,O+"enter",he,a,K),_e.target=z,_e.relatedTarget=Ze,X=_e),Ze=X,Q&&he)t:{for(_e=$b,P=Q,O=he,z=0,X=P;X;X=_e(X))z++;X=0;for(var me=O;me;me=_e(me))X++;for(;0<z-X;)P=_e(P),z--;for(;0<X-z;)O=_e(O),X--;for(;z--;){if(P===O||O!==null&&P===O.alternate){_e=P;break t}P=_e(P),O=_e(O)}_e=null}else _e=null;Q!==null&&lv(J,q,Q,_e,!1),he!==null&&Ze!==null&&lv(J,Ze,he,_e,!0)}}e:{if(q=j?pn(j):window,Q=q.nodeName&&q.nodeName.toLowerCase(),Q==="select"||Q==="input"&&q.type==="file")var je=wg;else if(Ag(q))if(Rg)je=ob;else{je=sb;var de=rb}else Q=q.nodeName,!Q||Q.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?j&&va(j.elementType)&&(je=wg):je=ab;if(je&&(je=je(t,j))){bg(J,je,a,K);break e}de&&de(t,q,j),t==="focusout"&&j&&q.type==="number"&&j.memoizedProps.value!=null&&qo(q,"number",q.value)}switch(de=j?pn(j):window,t){case"focusin":(Ag(de)||de.contentEditable==="true")&&(Ca=de,bf=j,el=null);break;case"focusout":el=bf=Ca=null;break;case"mousedown":wf=!0;break;case"contextmenu":case"mouseup":case"dragend":wf=!1,Vg(J,a,K);break;case"selectionchange":if(ub)break;case"keydown":case"keyup":Vg(J,a,K)}var Ie;if(qe)e:{switch(t){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Ra?Ds(t,a)&&(xe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(xe="onCompositionStart");xe&&(bi&&a.locale!=="ko"&&(Ra||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Ra&&(Ie=Ko()):(Ei=K,Qo="value"in Ei?Ei.value:Ei.textContent,Ra=!0)),de=Pc(j,xe),0<de.length&&(xe=new Ai(xe,t,null,a,K),J.push({event:xe,listeners:de}),Ie?xe.data=Ie:(Ie=wa(a),Ie!==null&&(xe.data=Ie)))),(Ie=Nn?eb(t,a):tb(t,a))&&(xe=Pc(j,"onBeforeInput"),0<xe.length&&(de=new Ai("onBeforeInput","beforeinput",null,a,K),J.push({event:de,listeners:xe}),de.data=Ie)),Qb(J,t,j,a,K)}av(J,i)})}function wl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Pc(t,i){for(var a=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Kn(t,a),f!=null&&l.unshift(wl(t,f,d)),f=Kn(t,i),f!=null&&l.push(wl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function $b(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function lv(t,i,a,l,f){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,D=S.alternate,j=S.stateNode;if(S=S.tag,D!==null&&D===l)break;S!==5&&S!==26&&S!==27||j===null||(D=j,f?(j=Kn(a,d),j!=null&&_.unshift(wl(a,j,D))):f||(j=Kn(a,d),j!=null&&_.push(wl(a,j,D)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var Jb=/\r\n?/g,Zb=/\u0000|\uFFFD/g;function uv(t){return(typeof t=="string"?t:""+t).replace(Jb,`
`).replace(Zb,"")}function cv(t,i){return i=uv(i),uv(t)===i}function Je(t,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||on(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&on(t,""+l);break;case"className":gn(t,"class",l);break;case"tabIndex":gn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(t,a,l);break;case"style":Fo(t,l,d);break;case"data":if(i!=="object"){gn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ea(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",f.name,f,null),Je(t,i,"formEncType",f.formEncType,f,null),Je(t,i,"formMethod",f.formMethod,f,null),Je(t,i,"formTarget",f.formTarget,f,null)):(Je(t,i,"encType",f.encType,f,null),Je(t,i,"method",f.method,f,null),Je(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ea(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Qn);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ea(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),ya(t,"popover",l);break;case"xlinkActuate":Tt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Tt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Tt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Tt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Tt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Tt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ya(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Pu.get(a)||a,ya(t,a,l))}}function $d(t,i,a,l,f,d){switch(a){case"style":Fo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?on(t,l):(typeof l=="number"||typeof l=="bigint")&&on(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ko.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=t[Pt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ya(t,a,l)}}}function Ft(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,d,_,a,null)}}f&&Je(t,i,"srcSet",a.srcSet,a,null),l&&Je(t,i,"src",a.src,a,null);return;case"input":Ne("invalid",t);var S=d=_=f=null,D=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":f=K;break;case"type":_=K;break;case"checked":D=K;break;case"defaultChecked":j=K;break;case"value":d=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:Je(t,i,l,K,a,null)}}xu(t,d,S,D,j,_,f,!1);return;case"select":Ne("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:Je(t,i,f,S,a,null)}i=d,a=_,t.multiple=!!l,i!=null?vr(t,!!l,i,!1):a!=null&&vr(t,!!l,a,!0);return;case"textarea":Ne("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Je(t,i,_,S,a,null)}Er(t,l,f,d);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(t,i,D,l,a,null)}return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<bl.length;l++)Ne(bl[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,j,l,a,null)}return;default:if(va(i)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&$d(t,i,K,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Je(t,i,S,l,a,null))}function Wb(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,S=null,D=null,j=null,K=null;for(Q in a){var J=a[Q];if(a.hasOwnProperty(Q)&&J!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":D=J;default:l.hasOwnProperty(Q)||Je(t,i,Q,null,l,J)}}for(var q in l){var Q=l[q];if(J=a[q],l.hasOwnProperty(q)&&(Q!=null||J!=null))switch(q){case"type":d=Q;break;case"name":f=Q;break;case"checked":j=Q;break;case"defaultChecked":K=Q;break;case"value":_=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==J&&Je(t,i,q,Q,l,J)}}_a(t,_,S,D,j,K,d,f);return;case"select":Q=_=S=q=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":Q=D;default:l.hasOwnProperty(d)||Je(t,i,d,null,l,D)}for(f in l)if(d=l[f],D=a[f],l.hasOwnProperty(f)&&(d!=null||D!=null))switch(f){case"value":q=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==D&&Je(t,i,f,d,l,D)}i=S,a=_,l=Q,q!=null?vr(t,!!a,q,!1):!!l!=!!a&&(i!=null?vr(t,!!a,i,!0):vr(t,!!a,a?[]:"",!1));return;case"textarea":Q=q=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Je(t,i,S,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":q=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Je(t,i,_,f,l,d)}Mu(t,q,Q);return;case"option":for(var he in a)if(q=a[he],a.hasOwnProperty(he)&&q!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:Je(t,i,he,null,l,q)}for(D in l)if(q=l[D],Q=a[D],l.hasOwnProperty(D)&&q!==Q&&(q!=null||Q!=null))switch(D){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Je(t,i,D,q,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)q=a[_e],a.hasOwnProperty(_e)&&q!=null&&!l.hasOwnProperty(_e)&&Je(t,i,_e,null,l,q);for(j in l)if(q=l[j],Q=a[j],l.hasOwnProperty(j)&&q!==Q&&(q!=null||Q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:Je(t,i,j,q,l,Q)}return;default:if(va(i)){for(var Ze in a)q=a[Ze],a.hasOwnProperty(Ze)&&q!==void 0&&!l.hasOwnProperty(Ze)&&$d(t,i,Ze,void 0,l,q);for(K in l)q=l[K],Q=a[K],!l.hasOwnProperty(K)||q===Q||q===void 0&&Q===void 0||$d(t,i,K,q,l,Q);return}}for(var P in a)q=a[P],a.hasOwnProperty(P)&&q!=null&&!l.hasOwnProperty(P)&&Je(t,i,P,null,l,q);for(J in l)q=l[J],Q=a[J],!l.hasOwnProperty(J)||q===Q||q==null&&Q==null||Je(t,i,J,q,l,Q)}function hv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function e1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,S=f.duration;if(d&&S&&hv(_)){for(_=0,S=f.responseEnd,l+=1;l<a.length;l++){var D=a[l],j=D.startTime;if(j>S)break;var K=D.transferSize,J=D.initiatorType;K&&hv(J)&&(D=D.responseEnd,_+=K*(D<S?1:(S-j)/(D-j)))}if(--l,i+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Jd=null,Zd=null;function Lc(t){return t.nodeType===9?t:t.ownerDocument}function fv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Wd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var em=null;function t1(){var t=window.event;return t&&t.type==="popstate"?t===em?!1:(em=t,!0):(em=null,!1)}var mv=typeof setTimeout=="function"?setTimeout:void 0,n1=typeof clearTimeout=="function"?clearTimeout:void 0,pv=typeof Promise=="function"?Promise:void 0,i1=typeof queueMicrotask=="function"?queueMicrotask:typeof pv<"u"?function(t){return pv.resolve(null).then(t).catch(r1)}:mv;function r1(t){setTimeout(function(){throw t})}function Hr(t){return t==="head"}function gv(t,i){var a=i,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),eo(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Rl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Rl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[di]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Rl(t.ownerDocument.body);a=f}while(a);eo(i)}function yv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function tm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":tm(a),ga(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function s1(t,i,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[di])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=kn(t.nextSibling),t===null)break}return null}function a1(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=kn(t.nextSibling),t===null))return null;return t}function _v(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=kn(t.nextSibling),t===null))return null;return t}function nm(t){return t.data==="$?"||t.data==="$~"}function im(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function o1(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function kn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var rm=null;function vv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return kn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Ev(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Tv(t,i,a){switch(i=Lc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Rl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ga(t)}var Un=new Map,Sv=new Set;function kc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var tr=se.d;se.d={f:l1,r:u1,D:c1,C:h1,L:f1,m:d1,X:p1,S:m1,M:g1};function l1(){var t=tr.f(),i=Ic();return t||i}function u1(t){var i=Cn(t);i!==null&&i.tag===5&&i.type==="form"?zy(i):tr.r(t)}var Ja=typeof document>"u"?null:document;function Av(t,i,a){var l=Ja;if(l&&typeof i=="string"&&i){var f=an(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Sv.has(f)||(Sv.add(f),t={rel:t,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Ft(i,"link",t),Et(i),l.head.appendChild(i)))}}function c1(t){tr.D(t),Av("dns-prefetch",t,null)}function h1(t,i){tr.C(t,i),Av("preconnect",t,i)}function f1(t,i,a){tr.L(t,i,a);var l=Ja;if(l&&t&&i){var f='link[rel="preload"][as="'+an(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+an(a.imageSizes)+'"]')):f+='[href="'+an(t)+'"]';var d=f;switch(i){case"style":d=Za(t);break;case"script":d=Wa(t)}Un.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Un.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(Cl(d))||i==="script"&&l.querySelector(Il(d))||(i=l.createElement("link"),Ft(i,"link",t),Et(i),l.head.appendChild(i)))}}function d1(t,i){tr.m(t,i);var a=Ja;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+an(l)+'"][href="'+an(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Wa(t)}if(!Un.has(d)&&(t=T({rel:"modulepreload",href:t},i),Un.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(d)))return}l=a.createElement("link"),Ft(l,"link",t),Et(l),a.head.appendChild(l)}}}function m1(t,i,a){tr.S(t,i,a);var l=Ja;if(l&&t){var f=pi(l).hoistableStyles,d=Za(t);i=i||"default";var _=f.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Cl(d)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Un.get(d))&&sm(t,a);var D=_=l.createElement("link");Et(D),Ft(D,"link",t),D._p=new Promise(function(j,K){D.onload=j,D.onerror=K}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Uc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(d,_)}}}function p1(t,i){tr.X(t,i);var a=Ja;if(a&&t){var l=pi(a).hoistableScripts,f=Wa(t),d=l.get(f);d||(d=a.querySelector(Il(f)),d||(t=T({src:t,async:!0},i),(i=Un.get(f))&&am(t,i),d=a.createElement("script"),Et(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function g1(t,i){tr.M(t,i);var a=Ja;if(a&&t){var l=pi(a).hoistableScripts,f=Wa(t),d=l.get(f);d||(d=a.querySelector(Il(f)),d||(t=T({src:t,async:!0,type:"module"},i),(i=Un.get(f))&&am(t,i),d=a.createElement("script"),Et(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function bv(t,i,a,l){var f=(f=Ce.current)?kc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Za(a.href),a=pi(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Za(a.href);var d=pi(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(Cl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Un.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(t,a),d||y1(f,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Wa(a),a=pi(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Za(t){return'href="'+an(t)+'"'}function Cl(t){return'link[rel="stylesheet"]['+t+"]"}function wv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function y1(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ft(i,"link",a),Et(i),t.head.appendChild(i))}function Wa(t){return'[src="'+an(t)+'"]'}function Il(t){return"script[async]"+t}function Rv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+an(a.href)+'"]');if(l)return i.instance=l,Et(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Et(l),Ft(l,"style",f),Uc(l,a.precedence,t),i.instance=l;case"stylesheet":f=Za(a.href);var d=t.querySelector(Cl(f));if(d)return i.state.loading|=4,i.instance=d,Et(d),d;l=wv(a),(f=Un.get(f))&&sm(l,f),d=(t.ownerDocument||t).createElement("link"),Et(d);var _=d;return _._p=new Promise(function(S,D){_.onload=S,_.onerror=D}),Ft(d,"link",l),i.state.loading|=4,Uc(d,a.precedence,t),i.instance=d;case"script":return d=Wa(a.src),(f=t.querySelector(Il(d)))?(i.instance=f,Et(f),f):(l=a,(f=Un.get(d))&&(l=T({},a),am(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Et(f),Ft(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Uc(l,a.precedence,t));return i.instance}function Uc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function sm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function am(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var zc=null;function Cv(t,i,a){if(zc===null){var l=new Map,f=zc=new Map;f.set(a,l)}else f=zc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[di]||d[vt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function Iv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function _1(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Dv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function v1(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Za(l.href),d=i.querySelector(Cl(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=jc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Et(d);return}d=i.ownerDocument||i,l=wv(l),(f=Un.get(f))&&sm(l,f),d=d.createElement("link"),Et(d);var _=d;_._p=new Promise(function(S,D){_.onload=S,_.onerror=D}),Ft(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=jc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var om=0;function E1(t,i){return t.stylesheets&&t.count===0&&qc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&qc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&om===0&&(om=62500*e1());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&qc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>om?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function jc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)qc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Bc=null;function qc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Bc=new Map,i.forEach(T1,t),Bc=null,jc.call(t))}function T1(t,i){if(!(i.state.loading&4)){var a=Bc.get(t);if(a)var l=a.get(null);else{a=new Map,Bc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=jc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Dl={$$typeof:ee,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function S1(t,i,a,l,f,d,_,S,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Nv(t,i,a,l,f,d,_,S,D,j,K,J){return t=new S1(t,i,a,_,D,j,K,J,S),i=1,d===!0&&(i|=24),d=_n(3,null,null,i),t.current=d,d.stateNode=t,i=jf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Ff(d),t}function Ov(t){return t?(t=Na,t):Na}function xv(t,i,a,l,f,d){f=Ov(f),l.context===null?l.context=f:l.pendingContext=f,l=xr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Mr(t,l,i),a!==null&&(fn(a,t,i),ol(a,t,i))}function Mv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function lm(t,i){Mv(t,i),(t=t.alternate)&&Mv(t,i)}function Vv(t){if(t.tag===13||t.tag===31){var i=xs(t,67108864);i!==null&&fn(i,t,67108864),lm(t,67108864)}}function Pv(t){if(t.tag===13||t.tag===31){var i=An();i=Es(i);var a=xs(t,i);a!==null&&fn(a,t,i),lm(t,i)}}var Hc=!0;function A1(t,i,a,l){var f=Y.T;Y.T=null;var d=se.p;try{se.p=2,um(t,i,a,l)}finally{se.p=d,Y.T=f}}function b1(t,i,a,l){var f=Y.T;Y.T=null;var d=se.p;try{se.p=8,um(t,i,a,l)}finally{se.p=d,Y.T=f}}function um(t,i,a,l){if(Hc){var f=cm(l);if(f===null)Xd(t,i,l,Fc,a),kv(t,l);else if(R1(f,t,i,a,l))l.stopPropagation();else if(kv(t,l),i&4&&-1<w1.indexOf(t)){for(;f!==null;){var d=Cn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ui(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var D=1<<31-ft(_);S.entanglements[1]|=D,_&=~D}Ii(d),(He&6)===0&&(Rc=en()+500,Al(0))}}break;case 31:case 13:S=xs(d,2),S!==null&&fn(S,d,2),Ic(),lm(d,2)}if(d=cm(l),d===null&&Xd(t,i,l,Fc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Xd(t,i,l,null,a)}}function cm(t){return t=In(t),hm(t)}var Fc=null;function hm(t){if(Fc=null,t=mi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Fc=t,null}function Lv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gs()){case xo:return 2;case Mo:return 8;case yr:case yf:return 32;case Su:return 268435456;default:return 32}default:return 32}}var fm=!1,Fr=null,Gr=null,Qr=null,Nl=new Map,Ol=new Map,Kr=[],w1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kv(t,i){switch(t){case"focusin":case"focusout":Fr=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":Nl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(i.pointerId)}}function xl(t,i,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=Cn(i),i!==null&&Vv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function R1(t,i,a,l,f){switch(i){case"focusin":return Fr=xl(Fr,t,i,a,l,f),!0;case"dragenter":return Gr=xl(Gr,t,i,a,l,f),!0;case"mouseover":return Qr=xl(Qr,t,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return Nl.set(d,xl(Nl.get(d)||null,t,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Ol.set(d,xl(Ol.get(d)||null,t,i,a,l,f)),!0}return!1}function Uv(t){var i=mi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,Fn(t.priority,function(){Pv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Fn(t.priority,function(){Pv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=cm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Go=l,a.target.dispatchEvent(l),Go=null}else return i=Cn(a),i!==null&&Vv(i),t.blockedOn=a,!1;i.shift()}return!0}function zv(t,i,a){Gc(t)&&a.delete(i)}function C1(){fm=!1,Fr!==null&&Gc(Fr)&&(Fr=null),Gr!==null&&Gc(Gr)&&(Gr=null),Qr!==null&&Gc(Qr)&&(Qr=null),Nl.forEach(zv),Ol.forEach(zv)}function Qc(t,i){t.blockedOn===i&&(t.blockedOn=null,fm||(fm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,C1)))}var Kc=null;function jv(t){Kc!==t&&(Kc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Kc===t&&(Kc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(hm(l||a)===null)continue;break}var d=Cn(a);d!==null&&(t.splice(i,3),i-=3,cd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function eo(t){function i(D){return Qc(D,t)}Fr!==null&&Qc(Fr,t),Gr!==null&&Qc(Gr,t),Qr!==null&&Qc(Qr,t),Nl.forEach(i),Ol.forEach(i);for(var a=0;a<Kr.length;a++){var l=Kr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Kr.length&&(a=Kr[0],a.blockedOn===null);)Uv(a),a.blockedOn===null&&Kr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Pt]||null;if(typeof d=="function")_||jv(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Pt]||null)S=_.formAction;else if(hm(f)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),jv(a)}}}function Bv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function dm(t){this._internalRoot=t}Yc.prototype.render=dm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=An();xv(a,l,t,i,null,null)},Yc.prototype.unmount=dm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;xv(t.current,2,null,t,null,null),Ic(),i[fi]=null}};function Yc(t){this._internalRoot=t}Yc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Iu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Kr.length&&i!==0&&i<Kr[a].priority;a++);Kr.splice(a,0,t),a===0&&Uv(t)}};var qv=e.version;if(qv!=="19.2.0")throw Error(s(527,qv,"19.2.0"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var I1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xc.isDisabled&&Xc.supportsFiber)try{qn=Xc.inject(I1),zt=Xc}catch{}}return Pl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",f=Xy,d=$y,_=Jy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Nv(t,1,!1,null,null,a,l,null,f,d,_,Bv),t[fi]=i.current,Yd(t),new dm(i)},Pl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=Xy,_=$y,S=Jy,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),i=Nv(t,1,!0,i,a??null,l,f,D,d,_,S,Bv),i.context=Ov(null),a=i.current,l=An(),l=Es(l),f=xr(l),f.callback=null,Mr(a,f,l),a=l,i.current.lanes=a,_s(i,a),Ii(i),t[fi]=i.current,Yd(t),new Yc(i)},Pl.version="19.2.0",Pl}var rE;function mR(){if(rE)return vm.exports;rE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),vm.exports=dR(),vm.exports}var pR=mR();const gR="modulepreload",yR=function(r){return"/ruche-journal/"+r},sE={},sn=function(e,n,s){let o=Promise.resolve();if(n&&n.length>0){let p=function(g){return Promise.all(g.map(E=>Promise.resolve(E).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=h?.nonce||h?.getAttribute("nonce");o=p(n.map(g=>{if(g=yR(g),g in sE)return;sE[g]=!0;const E=g.endsWith(".css"),T=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${T}`))return;const w=document.createElement("link");if(w.rel=E?"stylesheet":gR,E||(w.as="script"),w.crossOrigin="",w.href=g,m&&w.setAttribute("nonce",m),document.head.appendChild(w),E)return new Promise((V,H)=>{w.addEventListener("load",V),w.addEventListener("error",()=>H(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(h){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=h,window.dispatchEvent(m),!m.defaultPrevented)throw h}return o.then(h=>{for(const m of h||[])m.status==="rejected"&&u(m.reason);return e().catch(u)})};const _R=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vR=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),aE=r=>{const e=vR(r);return e.charAt(0).toUpperCase()+e.slice(1)},g0=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),ER=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var TR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const SR=U.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...m},p)=>U.createElement("svg",{ref:p,...TR,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:g0("lucide",o),...!u&&!ER(m)&&{"aria-hidden":"true"},...m},[...h.map(([g,E])=>U.createElement(g,E)),...Array.isArray(u)?u:[u]]));const ds=(r,e)=>{const n=U.forwardRef(({className:s,...o},u)=>U.createElement(SR,{ref:u,iconNode:e,className:g0(`lucide-${_R(aE(r))}`,`lucide-${r}`,s),...o}));return n.displayName=aE(r),n};const AR=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],oE=ds("clock",AR);const bR=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],wR=ds("log-in",bR);const RR=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],CR=ds("log-out",RR);const IR=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],DR=ds("menu",IR);const NR=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],OR=ds("search",NR);const xR=[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]],MR=ds("triangle",xR);const VR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],PR=ds("user",VR);const LR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],kR=ds("x",LR),lE=[{name:"Technology",slug:"technology"},{name:"Business",slug:"business"},{name:"Science",slug:"science"},{name:"Culture",slug:"culture"},{name:"Politics",slug:"politics"},{name:"Sports",slug:"sports"}],UR="/ruche-journal/logo.png",zR=U.lazy(()=>sn(()=>Promise.resolve().then(()=>y4),[]));function jR(){const[r,e]=U.useState(!1),[n,s]=U.useState(!1),o=U.useRef(null);return U.useEffect(()=>{const u=h=>{o.current&&!o.current.contains(h.target)&&s(!1)};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]),U.useEffect(()=>{const u=()=>{e(window.scrollY>20)};return window.addEventListener("scroll",u),()=>window.removeEventListener("scroll",u)},[]),G.jsxs("header",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${r?"bg-white shadow-md":"bg-white/95 backdrop-blur-sm"}`,children:[G.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-2",children:G.jsxs("div",{className:"flex items-center justify-between h-16",children:[G.jsx(es,{to:"/",className:"text-2xl font-bold text-gray-900 hover:text-gray-700 transition-colors",children:G.jsx("img",{src:UR,alt:"La ruche Journal",width:120})}),G.jsx("nav",{className:"hidden md:flex items-center space-x-8",children:lE.map(u=>G.jsxs(es,{to:`/category/${u.slug}`,className:"text-gray-700 hover:text-gray-900 font-medium transition-colors relative group",children:[u.name,G.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-gray-900 transition-all duration-300 group-hover:w-full"})]},u.slug))}),G.jsxs("div",{className:"flex items-center space-x-4",children:[G.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 transition-colors cursor-pointer","aria-label":"Search",children:G.jsx(OR,{className:"w-5 h-5 text-gray-700"})}),G.jsx(zR,{}),G.jsx("button",{className:"md:hidden p-2 rounded-full hover:bg-gray-100 transition-colors",onClick:()=>s(!n),"aria-label":"Menu",children:n?G.jsx(kR,{className:"w-6 h-6 text-gray-700"}):G.jsx(DR,{className:"w-6 h-6 text-gray-700"})})]})]})}),G.jsx("div",{ref:o,className:`md:hidden border-t border-gray-200 bg-white overflow-hidden transition-[max-height] duration-300 ease-in-out ${n?"max-h-[500px]":"max-h-0"}`,children:G.jsx("nav",{className:"px-4 py-4 space-y-2",children:lE.map(u=>G.jsx(es,{to:`/category/${u.slug}`,className:"block py-2 text-gray-700 hover:text-gray-900 font-medium transition-colors",onClick:()=>s(!1),children:u.name},u.slug))})})]})}const BR="/ruche-journal/logo-white-transparent.png",qR=U.lazy(()=>sn(()=>import("./SocialMediaLinks-C-sjNCAu.js"),__vite__mapDeps([0,1])));function HR(){const r=new Date().getFullYear(),e={"Ã€ propos":[{name:"Notre histoire",href:"#"},{name:"Ã‰quipe",href:"#"},{name:"Contact",href:"/contact"}],LÃ©gal:[{name:"Politique de ConfidentialitÃ©",href:"/privacy-policy"},{name:"Termes de Service",href:"/terms-of-service"},{name:"Politique de Cookies",href:"/cookies-policy"}],CatÃ©gories:[{name:"Technology",href:"/category/technology"},{name:"Business",href:"/category/business"},{name:"Science",href:"/category/science"},{name:"Culture",href:"/category/culture"}]};return G.jsxs(G.Fragment,{children:[G.jsx("section",{className:"py-16 bg-gradient-to-br from-gray-900 to-gray-800 text-white",children:G.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[G.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Abonnez-vous Ã  notre newsletter"}),G.jsx("p",{className:"text-xl text-gray-300 mb-8",children:"Recevez les derniÃ¨res actualitÃ©s directement dans votre boÃ®te mail."}),G.jsxs("form",{className:"flex flex-col sm:flex-row gap-4 max-w-md mx-auto",children:[G.jsx("input",{type:"email",placeholder:"Enter your email",className:"bg-white flex-1 px-6 py-3 rounded-lg text-gray-900 focus:outline-none ring-2 ring-white focus:bg-gray-300 transition-all"}),G.jsx("button",{type:"submit",className:"px-8 py-3 bg-white text-gray-900 rounded-lg font-semibold hover:bg-gray-300 transition-colors hover:cursor-pointer",children:"S'abonner"})]})]})}),G.jsx("footer",{className:"bg-gray-900 text-gray-300",children:G.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[G.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[G.jsxs("div",{children:[G.jsx("img",{src:BR,alt:"La ruche Journal",width:120,className:"mb-4"}),G.jsx("p",{className:"text-sm mb-4",children:G.jsx("small",{children:"Restez en contact avec nous sur les rÃ©seaux sociaux"})}),G.jsx(qR,{})]}),Object.entries(e).map(([n,s])=>G.jsxs("div",{children:[G.jsx("h4",{className:"text-white font-semibold mb-4",children:n}),G.jsx("ul",{className:"space-y-2",children:s.map(o=>G.jsx("li",{children:G.jsx(es,{to:o.href,className:"text-sm hover:text-white transition-colors",children:o.name})},o.name))})]},n))]}),G.jsx("div",{className:"border-t border-gray-800 pt-8 text-center text-sm",children:G.jsxs("p",{children:["Â© ",r," ",G.jsx("b",{children:"La Ruche Journal"}),". Tous droits rÃ©servÃ©s."]})})]})})]})}function FR(){return G.jsxs("div",{className:"min-h-screen flex flex-col",children:[G.jsx(jR,{}),G.jsx("main",{className:"flex-1 pt-22",children:G.jsx(Iw,{})}),G.jsx(HR,{})]})}const GR=U.lazy(()=>sn(()=>import("./profile-img-B4brBjy0.js"),[]));function QR({article:r,featured:e=!1}){const n=s=>new Date(s).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"});return e?G.jsxs(es,{to:`/article/${r.slug}`,className:"group relative block overflow-hidden rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-1",children:[G.jsxs("div",{className:"aspect-[16/9] overflow-hidden",children:[G.jsx("img",{src:r.cover_image_url,alt:r.title,className:"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700"}),G.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"})]}),G.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-8 text-white",children:[r.category&&G.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-semibold mb-3 backdrop-blur-sm",style:{backgroundColor:`${r.category.color}20`,color:r.category.color},children:r.category.name}),G.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-3 leading-tight group-hover:text-gray-200 transition-colors",children:r.title}),G.jsx("p",{className:"text-gray-200 text-lg mb-4 line-clamp-2",children:r.excerpt}),G.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[r.author&&G.jsxs("div",{className:"flex items-center space-x-2",children:[G.jsx(PR,{className:"w-4 h-4"}),G.jsx("span",{children:r.author.name})]}),G.jsxs("div",{className:"flex items-center space-x-2",children:[G.jsx(oE,{className:"w-4 h-4"}),G.jsx("span",{children:n(r.published_at)})]})]})]})]}):G.jsxs(es,{to:`/article/${r.slug}`,className:"group block bg-white rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:[G.jsx("div",{className:"aspect-[16/9] overflow-hidden",children:G.jsx("img",{src:r.cover_image_url,alt:r.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500"})}),G.jsxs("div",{className:"p-6 flex flex-col h-64",children:[r.category&&G.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-semibold mb-3 w-fit backdrop-blur-sm    hover:shadow-lg transition-all cursor-pointer",style:{backgroundColor:`${r.category.color}15`,color:r.category.color},children:r.category.name}),G.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 line-clamp-2 group-hover:text-gray-700 transition-colors",children:r.title}),G.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:r.excerpt}),G.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mt-auto",children:[r.author&&G.jsxs("div",{className:"flex items-center space-x-2",children:[G.jsx(GR,{src:r.author.avatar_url,alt:r.author.name,className:"w-6 h-6 rounded-full"}),G.jsx("span",{children:r.author.name})]}),G.jsxs("div",{className:"flex items-center space-x-1",children:[G.jsx(oE,{className:"w-4 h-4"}),G.jsx("span",{children:n(r.published_at)})]})]})]})]})}const V4=Object.freeze(Object.defineProperty({__proto__:null,default:QR},Symbol.toStringTag,{value:"Module"}));function KR(){const{pathname:r}=mr();return U.useEffect(()=>{window.scrollTo(0,0)},[r]),null}const YR=()=>{};var uE={};const y0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},XR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},_0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,V=g&63;p||(V=64,h||(w=64)),s.push(n[E],n[T],n[w],n[V])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(y0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):XR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new $R;const w=u<<2|m>>4;if(s.push(w),g!==64){const V=m<<4&240|g>>2;if(s.push(V),T!==64){const H=g<<6&192|T;s.push(H)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class $R extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JR=function(r){const e=y0(r);return _0.encodeByteArray(e,!0)},vh=function(r){return JR(r).replace(/\./g,"")},v0=function(r){try{return _0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ZR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const WR=()=>ZR().__FIREBASE_DEFAULTS__,eC=()=>{if(typeof process>"u"||typeof uE>"u")return;const r=uE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},tC=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&v0(r[1]);return e&&JSON.parse(e)},Qh=()=>{try{return YR()||WR()||eC()||tC()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},E0=r=>Qh()?.emulatorHosts?.[r],nC=r=>{const e=E0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},T0=()=>Qh()?.config,S0=r=>Qh()?.[`_${r}`];class iC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function To(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function A0(r){return(await fetch(r,{credentials:"include"})).ok}function rC(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[vh(JSON.stringify(n)),vh(JSON.stringify(h)),""].join(".")}const Bl={};function sC(){const r={prod:[],emulator:[]};for(const e of Object.keys(Bl))Bl[e]?r.emulator.push(e):r.prod.push(e);return r}function aC(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let cE=!1;function b0(r,e){if(typeof window>"u"||typeof document>"u"||!To(window.location.host)||Bl[r]===e||Bl[r]||cE)return;Bl[r]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=sC().prod.length>0;function h(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,V){w.setAttribute("width","24"),w.setAttribute("id",V),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{cE=!0,h()},w}function E(w,V){w.setAttribute("id",V),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=aC(s),V=n("text"),H=document.getElementById(V)||document.createElement("span"),$=n("learnmore"),B=document.getElementById($)||document.createElement("a"),Z=n("preprendIcon"),ie=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ee=w.element;m(ee),E(B,$);const le=g();p(ie,Z),ee.append(ie,H,B,le),document.body.appendChild(ee)}u?(H.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function lC(){const r=Qh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cC(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function hC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fC(){const r=Wt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function dC(){return!lC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mC(){try{return typeof indexedDB=="object"}catch{return!1}}function pC(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const gC="FirebaseError";class pr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=gC,Object.setPrototypeOf(this,pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?yC(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new pr(o,m,s)}}function yC(r,e){return r.replace(_C,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const _C=/\{\$([^}]+)}/g;function vC(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Zs(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(hE(u)&&hE(h)){if(!Zs(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function hE(r){return r!==null&&typeof r=="object"}function hu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function EC(r,e){const n=new TC(r,e);return n.subscribe.bind(n)}class TC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");SC(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Sm),o.error===void 0&&(o.error=Sm),o.complete===void 0&&(o.complete=Sm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SC(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Sm(){}function rn(r){return r&&r._delegate?r._delegate:r}class Ws{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Gs="[DEFAULT]";let AC=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new iC;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wC(e))try{this.getOrInitializeService({instanceIdentifier:Gs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Gs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gs){return this.instances.has(e)}getOptions(e=Gs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:bC(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Gs){return this.component?this.component.multipleInstances?e:Gs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function bC(r){return r===Gs?void 0:r}function wC(r){return r.instantiationMode==="EAGER"}class RC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new AC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const CC={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},IC=Me.INFO,DC={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},NC=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=DC[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rp{constructor(e){this.name=e,this._logLevel=IC,this._logHandler=NC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const OC=(r,e)=>e.some(n=>r instanceof n);let fE,dE;function xC(){return fE||(fE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MC(){return dE||(dE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const w0=new WeakMap,Bm=new WeakMap,R0=new WeakMap,Am=new WeakMap,Cp=new WeakMap;function VC(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(ts(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&w0.set(n,r)}).catch(()=>{}),Cp.set(e,r),e}function PC(r){if(Bm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Bm.set(r,e)}let qm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Bm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||R0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ts(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function LC(r){qm=r(qm)}function kC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(bm(this),e,...n);return R0.set(s,e.sort?e.sort():[e]),ts(s)}:MC().includes(r)?function(...e){return r.apply(bm(this),e),ts(w0.get(this))}:function(...e){return ts(r.apply(bm(this),e))}}function UC(r){return typeof r=="function"?kC(r):(r instanceof IDBTransaction&&PC(r),OC(r,xC())?new Proxy(r,qm):r)}function ts(r){if(r instanceof IDBRequest)return VC(r);if(Am.has(r))return Am.get(r);const e=UC(r);return e!==r&&(Am.set(r,e),Cp.set(e,r)),e}const bm=r=>Cp.get(r);function zC(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=ts(h);return s&&h.addEventListener("upgradeneeded",p=>{s(ts(h.result),p.oldVersion,p.newVersion,ts(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const jC=["get","getKey","getAll","getAllKeys","count"],BC=["put","add","delete","clear"],wm=new Map;function mE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(wm.get(e))return wm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=BC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||jC.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return wm.set(e,u),u}LC(r=>({...r,get:(e,n,s)=>mE(e,n)||r.get(e,n,s),has:(e,n)=>!!mE(e,n)||r.has(e,n)}));class qC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(HC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function HC(r){return r.getComponent()?.type==="VERSION"}const Hm="@firebase/app",pE="0.14.6";const ur=new Rp("@firebase/app"),FC="@firebase/app-compat",GC="@firebase/analytics-compat",QC="@firebase/analytics",KC="@firebase/app-check-compat",YC="@firebase/app-check",XC="@firebase/auth",$C="@firebase/auth-compat",JC="@firebase/database",ZC="@firebase/data-connect",WC="@firebase/database-compat",eI="@firebase/functions",tI="@firebase/functions-compat",nI="@firebase/installations",iI="@firebase/installations-compat",rI="@firebase/messaging",sI="@firebase/messaging-compat",aI="@firebase/performance",oI="@firebase/performance-compat",lI="@firebase/remote-config",uI="@firebase/remote-config-compat",cI="@firebase/storage",hI="@firebase/storage-compat",fI="@firebase/firestore",dI="@firebase/ai",mI="@firebase/firestore-compat",pI="firebase",gI="12.6.0";const Fm="[DEFAULT]",yI={[Hm]:"fire-core",[FC]:"fire-core-compat",[QC]:"fire-analytics",[GC]:"fire-analytics-compat",[YC]:"fire-app-check",[KC]:"fire-app-check-compat",[XC]:"fire-auth",[$C]:"fire-auth-compat",[JC]:"fire-rtdb",[ZC]:"fire-data-connect",[WC]:"fire-rtdb-compat",[eI]:"fire-fn",[tI]:"fire-fn-compat",[nI]:"fire-iid",[iI]:"fire-iid-compat",[rI]:"fire-fcm",[sI]:"fire-fcm-compat",[aI]:"fire-perf",[oI]:"fire-perf-compat",[lI]:"fire-rc",[uI]:"fire-rc-compat",[cI]:"fire-gcs",[hI]:"fire-gcs-compat",[fI]:"fire-fst",[mI]:"fire-fst-compat",[dI]:"fire-vertex","fire-js":"fire-js",[pI]:"fire-js-all"};const Eh=new Map,_I=new Map,Gm=new Map;function gE(r,e){try{r.container.addComponent(e)}catch(n){ur.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function co(r){const e=r.name;if(Gm.has(e))return ur.debug(`There were multiple attempts to register component ${e}.`),!1;Gm.set(e,r);for(const n of Eh.values())gE(n,r);for(const n of _I.values())gE(n,r);return!0}function Ip(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function ei(r){return r==null?!1:r.settings!==void 0}const vI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ns=new cu("app","Firebase",vI);class EI{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ns.create("app-deleted",{appName:this._name})}}const So=gI;function C0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Fm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ns.create("bad-app-name",{appName:String(o)});if(n||(n=T0()),!n)throw ns.create("no-options");const u=Eh.get(o);if(u){if(Zs(n,u.options)&&Zs(s,u.config))return u;throw ns.create("duplicate-app",{appName:o})}const h=new RC(o);for(const p of Gm.values())h.addComponent(p);const m=new EI(n,s,h);return Eh.set(o,m),m}function I0(r=Fm){const e=Eh.get(r);if(!e&&r===Fm&&T0())return C0();if(!e)throw ns.create("no-app",{appName:r});return e}function is(r,e,n){let s=yI[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ur.warn(h.join(" "));return}co(new Ws(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const TI="firebase-heartbeat-database",SI=1,Xl="firebase-heartbeat-store";let Rm=null;function D0(){return Rm||(Rm=zC(TI,SI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Xl)}catch(n){console.warn(n)}}}}).catch(r=>{throw ns.create("idb-open",{originalErrorMessage:r.message})})),Rm}async function AI(r){try{const n=(await D0()).transaction(Xl),s=await n.objectStore(Xl).get(N0(r));return await n.done,s}catch(e){if(e instanceof pr)ur.warn(e.message);else{const n=ns.create("idb-get",{originalErrorMessage:e?.message});ur.warn(n.message)}}}async function yE(r,e){try{const s=(await D0()).transaction(Xl,"readwrite");await s.objectStore(Xl).put(e,N0(r)),await s.done}catch(n){if(n instanceof pr)ur.warn(n.message);else{const s=ns.create("idb-set",{originalErrorMessage:n?.message});ur.warn(s.message)}}}function N0(r){return`${r.name}!${r.options.appId}`}const bI=1024,wI=30;class RI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new II(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=_E();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>wI){const o=DI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ur.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=_E(),{heartbeatsToSend:n,unsentEntries:s}=CI(this._heartbeatsCache.heartbeats),o=vh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ur.warn(e),""}}}function _E(){return new Date().toISOString().substring(0,10)}function CI(r,e=bI){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),vE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),vE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class II{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mC()?pC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await AI(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return yE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return yE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function vE(r){return vh(JSON.stringify({version:2,heartbeats:r})).length}function DI(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function NI(r){co(new Ws("platform-logger",e=>new qC(e),"PRIVATE")),co(new Ws("heartbeat",e=>new RI(e),"PRIVATE")),is(Hm,pE,r),is(Hm,pE,"esm2020"),is("fire-js","")}NI("");var OI="firebase",xI="12.6.0";is(OI,xI,"app");var EE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var rs,O0;(function(){var r;function e(C,b){function R(){}R.prototype=b.prototype,C.F=b.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(M,N,L){for(var I=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)I[rt-2]=arguments[rt];return b.prototype[N].apply(M,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,b,R){R||(R=0);const M=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)M[N]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(N=0;N<16;++N)M[N]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=C.g[0],R=C.g[1],N=C.g[2];let L=C.g[3],I;I=b+(L^R&(N^L))+M[0]+3614090360&4294967295,b=R+(I<<7&4294967295|I>>>25),I=L+(N^b&(R^N))+M[1]+3905402710&4294967295,L=b+(I<<12&4294967295|I>>>20),I=N+(R^L&(b^R))+M[2]+606105819&4294967295,N=L+(I<<17&4294967295|I>>>15),I=R+(b^N&(L^b))+M[3]+3250441966&4294967295,R=N+(I<<22&4294967295|I>>>10),I=b+(L^R&(N^L))+M[4]+4118548399&4294967295,b=R+(I<<7&4294967295|I>>>25),I=L+(N^b&(R^N))+M[5]+1200080426&4294967295,L=b+(I<<12&4294967295|I>>>20),I=N+(R^L&(b^R))+M[6]+2821735955&4294967295,N=L+(I<<17&4294967295|I>>>15),I=R+(b^N&(L^b))+M[7]+4249261313&4294967295,R=N+(I<<22&4294967295|I>>>10),I=b+(L^R&(N^L))+M[8]+1770035416&4294967295,b=R+(I<<7&4294967295|I>>>25),I=L+(N^b&(R^N))+M[9]+2336552879&4294967295,L=b+(I<<12&4294967295|I>>>20),I=N+(R^L&(b^R))+M[10]+4294925233&4294967295,N=L+(I<<17&4294967295|I>>>15),I=R+(b^N&(L^b))+M[11]+2304563134&4294967295,R=N+(I<<22&4294967295|I>>>10),I=b+(L^R&(N^L))+M[12]+1804603682&4294967295,b=R+(I<<7&4294967295|I>>>25),I=L+(N^b&(R^N))+M[13]+4254626195&4294967295,L=b+(I<<12&4294967295|I>>>20),I=N+(R^L&(b^R))+M[14]+2792965006&4294967295,N=L+(I<<17&4294967295|I>>>15),I=R+(b^N&(L^b))+M[15]+1236535329&4294967295,R=N+(I<<22&4294967295|I>>>10),I=b+(N^L&(R^N))+M[1]+4129170786&4294967295,b=R+(I<<5&4294967295|I>>>27),I=L+(R^N&(b^R))+M[6]+3225465664&4294967295,L=b+(I<<9&4294967295|I>>>23),I=N+(b^R&(L^b))+M[11]+643717713&4294967295,N=L+(I<<14&4294967295|I>>>18),I=R+(L^b&(N^L))+M[0]+3921069994&4294967295,R=N+(I<<20&4294967295|I>>>12),I=b+(N^L&(R^N))+M[5]+3593408605&4294967295,b=R+(I<<5&4294967295|I>>>27),I=L+(R^N&(b^R))+M[10]+38016083&4294967295,L=b+(I<<9&4294967295|I>>>23),I=N+(b^R&(L^b))+M[15]+3634488961&4294967295,N=L+(I<<14&4294967295|I>>>18),I=R+(L^b&(N^L))+M[4]+3889429448&4294967295,R=N+(I<<20&4294967295|I>>>12),I=b+(N^L&(R^N))+M[9]+568446438&4294967295,b=R+(I<<5&4294967295|I>>>27),I=L+(R^N&(b^R))+M[14]+3275163606&4294967295,L=b+(I<<9&4294967295|I>>>23),I=N+(b^R&(L^b))+M[3]+4107603335&4294967295,N=L+(I<<14&4294967295|I>>>18),I=R+(L^b&(N^L))+M[8]+1163531501&4294967295,R=N+(I<<20&4294967295|I>>>12),I=b+(N^L&(R^N))+M[13]+2850285829&4294967295,b=R+(I<<5&4294967295|I>>>27),I=L+(R^N&(b^R))+M[2]+4243563512&4294967295,L=b+(I<<9&4294967295|I>>>23),I=N+(b^R&(L^b))+M[7]+1735328473&4294967295,N=L+(I<<14&4294967295|I>>>18),I=R+(L^b&(N^L))+M[12]+2368359562&4294967295,R=N+(I<<20&4294967295|I>>>12),I=b+(R^N^L)+M[5]+4294588738&4294967295,b=R+(I<<4&4294967295|I>>>28),I=L+(b^R^N)+M[8]+2272392833&4294967295,L=b+(I<<11&4294967295|I>>>21),I=N+(L^b^R)+M[11]+1839030562&4294967295,N=L+(I<<16&4294967295|I>>>16),I=R+(N^L^b)+M[14]+4259657740&4294967295,R=N+(I<<23&4294967295|I>>>9),I=b+(R^N^L)+M[1]+2763975236&4294967295,b=R+(I<<4&4294967295|I>>>28),I=L+(b^R^N)+M[4]+1272893353&4294967295,L=b+(I<<11&4294967295|I>>>21),I=N+(L^b^R)+M[7]+4139469664&4294967295,N=L+(I<<16&4294967295|I>>>16),I=R+(N^L^b)+M[10]+3200236656&4294967295,R=N+(I<<23&4294967295|I>>>9),I=b+(R^N^L)+M[13]+681279174&4294967295,b=R+(I<<4&4294967295|I>>>28),I=L+(b^R^N)+M[0]+3936430074&4294967295,L=b+(I<<11&4294967295|I>>>21),I=N+(L^b^R)+M[3]+3572445317&4294967295,N=L+(I<<16&4294967295|I>>>16),I=R+(N^L^b)+M[6]+76029189&4294967295,R=N+(I<<23&4294967295|I>>>9),I=b+(R^N^L)+M[9]+3654602809&4294967295,b=R+(I<<4&4294967295|I>>>28),I=L+(b^R^N)+M[12]+3873151461&4294967295,L=b+(I<<11&4294967295|I>>>21),I=N+(L^b^R)+M[15]+530742520&4294967295,N=L+(I<<16&4294967295|I>>>16),I=R+(N^L^b)+M[2]+3299628645&4294967295,R=N+(I<<23&4294967295|I>>>9),I=b+(N^(R|~L))+M[0]+4096336452&4294967295,b=R+(I<<6&4294967295|I>>>26),I=L+(R^(b|~N))+M[7]+1126891415&4294967295,L=b+(I<<10&4294967295|I>>>22),I=N+(b^(L|~R))+M[14]+2878612391&4294967295,N=L+(I<<15&4294967295|I>>>17),I=R+(L^(N|~b))+M[5]+4237533241&4294967295,R=N+(I<<21&4294967295|I>>>11),I=b+(N^(R|~L))+M[12]+1700485571&4294967295,b=R+(I<<6&4294967295|I>>>26),I=L+(R^(b|~N))+M[3]+2399980690&4294967295,L=b+(I<<10&4294967295|I>>>22),I=N+(b^(L|~R))+M[10]+4293915773&4294967295,N=L+(I<<15&4294967295|I>>>17),I=R+(L^(N|~b))+M[1]+2240044497&4294967295,R=N+(I<<21&4294967295|I>>>11),I=b+(N^(R|~L))+M[8]+1873313359&4294967295,b=R+(I<<6&4294967295|I>>>26),I=L+(R^(b|~N))+M[15]+4264355552&4294967295,L=b+(I<<10&4294967295|I>>>22),I=N+(b^(L|~R))+M[6]+2734768916&4294967295,N=L+(I<<15&4294967295|I>>>17),I=R+(L^(N|~b))+M[13]+1309151649&4294967295,R=N+(I<<21&4294967295|I>>>11),I=b+(N^(R|~L))+M[4]+4149444226&4294967295,b=R+(I<<6&4294967295|I>>>26),I=L+(R^(b|~N))+M[11]+3174756917&4294967295,L=b+(I<<10&4294967295|I>>>22),I=N+(b^(L|~R))+M[2]+718787259&4294967295,N=L+(I<<15&4294967295|I>>>17),I=R+(L^(N|~b))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(N+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+L&4294967295}s.prototype.v=function(C,b){b===void 0&&(b=C.length);const R=b-this.blockSize,M=this.C;let N=this.h,L=0;for(;L<b;){if(N==0)for(;L<=R;)o(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<b;)if(M[N++]=C.charCodeAt(L++),N==this.blockSize){o(this,M),N=0;break}}else for(;L<b;)if(M[N++]=C[L++],N==this.blockSize){o(this,M),N=0;break}}this.h=N,this.o+=b},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)C[b++]=this.g[R]>>>M&255;return C};function u(C,b){var R=m;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=b(C)}function h(C,b){this.h=b;const R=[];let M=!0;for(let N=C.length-1;N>=0;N--){const L=C[N]|0;M&&L==b||(R[N]=L,M=!1)}this.g=R}var m={};function p(C){return-128<=C&&C<128?u(C,function(b){return new h([b|0],b<0?-1:0)}):new h([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return T;if(C<0)return B(g(-C));const b=[];let R=1;for(let M=0;C>=R;M++)b[M]=C/R|0,R*=4294967296;return new h(b,0)}function E(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return B(E(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(b,8));let M=T;for(let L=0;L<C.length;L+=8){var N=Math.min(8,C.length-L);const I=parseInt(C.substring(L,L+N),b);N<8?(N=g(Math.pow(b,N)),M=M.j(N).add(g(I))):(M=M.j(R),M=M.add(g(I)))}return M}var T=p(0),w=p(1),V=p(16777216);r=h.prototype,r.m=function(){if($(this))return-B(this).m();let C=0,b=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);C+=(M>=0?M:4294967296+M)*b,b*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(H(this))return"0";if($(this))return"-"+B(this).toString(C);const b=g(Math.pow(C,6));var R=this;let M="";for(;;){const N=le(R,b).g;R=Z(R,N.j(b));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=N,H(R))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function H(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function $(C){return C.h==-1}r.l=function(C){return C=Z(this,C),$(C)?-1:H(C)?0:1};function B(C){const b=C.g.length,R=[];for(let M=0;M<b;M++)R[M]=~C.g[M];return new h(R,~C.h).add(w)}r.abs=function(){return $(this)?B(this):this},r.add=function(C){const b=Math.max(this.g.length,C.g.length),R=[];let M=0;for(let N=0;N<=b;N++){let L=M+(this.i(N)&65535)+(C.i(N)&65535),I=(L>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);M=I>>>16,L&=65535,I&=65535,R[N]=I<<16|L}return new h(R,R[R.length-1]&-2147483648?-1:0)};function Z(C,b){return C.add(B(b))}r.j=function(C){if(H(this)||H(C))return T;if($(this))return $(C)?B(this).j(B(C)):B(B(this).j(C));if($(C))return B(this.j(B(C)));if(this.l(V)<0&&C.l(V)<0)return g(this.m()*C.m());const b=this.g.length+C.g.length,R=[];for(var M=0;M<2*b;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<C.g.length;N++){const L=this.i(M)>>>16,I=this.i(M)&65535,rt=C.i(N)>>>16,Dt=C.i(N)&65535;R[2*M+2*N]+=I*Dt,ie(R,2*M+2*N),R[2*M+2*N+1]+=L*Dt,ie(R,2*M+2*N+1),R[2*M+2*N+1]+=I*rt,ie(R,2*M+2*N+1),R[2*M+2*N+2]+=L*rt,ie(R,2*M+2*N+2)}for(C=0;C<b;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=b;C<2*b;C++)R[C]=0;return new h(R,0)};function ie(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function ee(C,b){this.g=C,this.h=b}function le(C,b){if(H(b))throw Error("division by zero");if(H(C))return new ee(T,T);if($(C))return b=le(B(C),b),new ee(B(b.g),B(b.h));if($(b))return b=le(C,B(b)),new ee(B(b.g),b.h);if(C.g.length>30){if($(C)||$(b))throw Error("slowDivide_ only works with positive integers.");for(var R=w,M=b;M.l(C)<=0;)R=fe(R),M=fe(M);var N=ge(R,1),L=ge(M,1);for(M=ge(M,2),R=ge(R,2);!H(M);){var I=L.add(M);I.l(C)<=0&&(N=N.add(R),L=I),M=ge(M,1),R=ge(R,1)}return b=Z(C,N.j(b)),new ee(N,b)}for(N=T;C.l(b)>=0;){for(R=Math.max(1,Math.floor(C.m()/b.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=g(R),I=L.j(b);$(I)||I.l(C)>0;)R-=M,L=g(R),I=L.j(b);H(L)&&(L=w),N=N.add(L),C=Z(C,I)}return new ee(N,C)}r.B=function(C){return le(this,C).h},r.and=function(C){const b=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)&C.i(M);return new h(R,this.h&C.h)},r.or=function(C){const b=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)|C.i(M);return new h(R,this.h|C.h)},r.xor=function(C){const b=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)^C.i(M);return new h(R,this.h^C.h)};function fe(C){const b=C.g.length+1,R=[];for(let M=0;M<b;M++)R[M]=C.i(M)<<1|C.i(M-1)>>>31;return new h(R,C.h)}function ge(C,b){const R=b>>5;b%=32;const M=C.g.length-R,N=[];for(let L=0;L<M;L++)N[L]=b>0?C.i(L+R)>>>b|C.i(L+R+1)<<32-b:C.i(L+R);return new h(N,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,O0=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,rs=h}).apply(typeof EE<"u"?EE:typeof self<"u"?self:typeof window<"u"?window:{});var Jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var x0,Ll,M0,lh,Qm,V0,P0,L0;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jc=="object"&&Jc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var k=c[A];if(!(k in v))break e;v=v[k]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&v.push([A,y[A]]);return v}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function T(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,k,F){for(var re=Array(arguments.length-2),we=2;we<arguments.length;we++)re[we-2]=arguments[we];return y.prototype[k].apply(A,re)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function V(c){const y=c.length;if(y>0){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function H(c,y){for(let A=1;A<arguments.length;A++){const k=arguments[A];var v=typeof k;if(v=v!="object"?v:k?Array.isArray(k)?"array":v:"null",v=="array"||v=="object"&&typeof k.length=="number"){v=c.length||0;const F=k.length||0;c.length=v+F;for(let re=0;re<F;re++)c[v+re]=k[re]}else c.push(k)}}class ${constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function B(c){h.setTimeout(()=>{throw c},0)}function Z(){var c=C;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ie{constructor(){this.h=this.g=null}add(y,v){const A=ee.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ee=new $(()=>new le,c=>c.reset());class le{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,ge=!1,C=new ie,b=()=>{const c=Promise.resolve(void 0);fe=()=>{c.then(R)}};function R(){for(var c;c=Z();){try{c.h.call(c.g)}catch(v){B(v)}var y=ee;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}ge=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};h.addEventListener("test",v,y),h.removeEventListener("test",v,y)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function rt(c,y){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(rt,N),rt.prototype.init=function(c,y){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&rt.Z.h.call(this)},rt.prototype.h=function(){rt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Dt="closure_listenable_"+(Math.random()*1e6|0),Y=0;function se(c,y,v,A,k){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=k,this.key=++Y,this.da=this.fa=!1}function ye(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ze(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function Ge(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function x(c){const y={};for(const v in c)y[v]=c[v];return y}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,y){let v,A;for(let k=1;k<arguments.length;k++){A=arguments[k];for(v in A)c[v]=A[v];for(let F=0;F<W.length;F++)v=W[F],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function ce(c){this.src=c,this.g={},this.h=0}ce.prototype.add=function(c,y,v,A,k){const F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);const re=Ce(c,y,A,k);return re>-1?(y=c[re],v||(y.fa=!1)):(y=new se(y,this.src,F,!!A,k),y.fa=v,c.push(y)),y};function Te(c,y){const v=y.type;if(v in c.g){var A=c.g[v],k=Array.prototype.indexOf.call(A,y,void 0),F;(F=k>=0)&&Array.prototype.splice.call(A,k,1),F&&(ye(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ce(c,y,v,A){for(let k=0;k<c.length;++k){const F=c[k];if(!F.da&&F.listener==y&&F.capture==!!v&&F.ha==A)return k}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),Nt={};function st(c,y,v,A,k){if(Array.isArray(y)){for(let F=0;F<y.length;F++)st(c,y[F],v,A,k);return null}return v=Oo(v),c&&c[Dt]?c.J(y,v,m(A)?!!A.capture:!1,k):ms(c,y,v,!1,A,k)}function ms(c,y,v,A,k,F){if(!y)throw Error("Invalid event type");const re=m(k)?!!k.capture:!!k;let we=ps(c);if(we||(c[ke]=we=new ce(c)),v=we.add(y,v,A,re,F),v.proxy)return v;if(A=ha(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)L||(k=re),k===void 0&&(k=!1),c.addEventListener(y.toString(),A,k);else if(c.attachEvent)c.attachEvent(oi(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ha(){function c(v){return y.call(c.src,c.listener,v)}const y=Do;return c}function fa(c,y,v,A,k){if(Array.isArray(y))for(var F=0;F<y.length;F++)fa(c,y[F],v,A,k);else A=m(A)?!!A.capture:!!A,v=Oo(v),c&&c[Dt]?(c=c.i,F=String(y).toString(),F in c.g&&(y=c.g[F],v=Ce(y,v,A,k),v>-1&&(ye(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[F],c.h--)))):c&&(c=ps(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ce(y,v,A,k)),(v=c>-1?y[c]:null)&&da(v))}function da(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Dt])Te(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(oi(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=ps(y))?(Te(v,c),v.h==0&&(v.src=null,y[ke]=null)):ye(c)}}}function oi(c){return c in Nt?Nt[c]:Nt[c]="on"+c}function Do(c,y){if(c.da)c=!0;else{y=new rt(y,this);const v=c.listener,A=c.ha||c.src;c.fa&&da(c),c=v.call(A,y)}return c}function ps(c){return c=c[ke],c instanceof ce?c:null}var No="__closure_events_fn_"+(Math.random()*1e9>>>0);function Oo(c){return typeof c=="function"?c:(c[No]||(c[No]=function(y){return c.handleEvent(y)}),c[No])}function yt(){M.call(this),this.i=new ce(this),this.M=this,this.G=null}T(yt,M),yt.prototype[Dt]=!0,yt.prototype.removeEventListener=function(c,y,v,A){fa(this,c,y,v,A)};function Ot(c,y){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new N(y,c);else if(y instanceof N)y.target=y.target||c;else{var k=y;y=new N(A,c),ae(y,k)}k=!0;let F,re;if(v)for(re=v.length-1;re>=0;re--)F=y.g=v[re],k=gr(F,A,!0,y)&&k;if(F=y.g=c,k=gr(F,A,!0,y)&&k,k=gr(F,A,!1,y)&&k,v)for(re=0;re<v.length;re++)F=y.g=v[re],k=gr(F,A,!1,y)&&k}yt.prototype.N=function(){if(yt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let A=0;A<v.length;A++)ye(v[A]);delete c.g[y],c.h--}}this.G=null},yt.prototype.J=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},yt.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function gr(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let k=!0;for(let F=0;F<y.length;++F){const re=y[F];if(re&&!re.da&&re.capture==v){const we=re.listener,dt=re.ha||re.src;re.fa&&Te(c.i,re),k=we.call(dt,A)!==!1&&k}}return k&&!A.defaultPrevented}function gf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Tu(c){c.g=gf(()=>{c.g=null,c.i&&(c.i=!1,Tu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class en extends M{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Tu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gs(c){M.call(this),this.h=c,this.g={}}T(gs,M);var xo=[];function Mo(c){ze(c.g,function(y,v){this.g.hasOwnProperty(v)&&da(y)},c),c.g={}}gs.prototype.N=function(){gs.Z.N.call(this),Mo(this)},gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yr=h.JSON.stringify,yf=h.JSON.parse,Su=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Au(){}function bu(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){N.call(this,"d")}T(zt,N);function Rn(){N.call(this,"c")}T(Rn,N);var ft={},wu=null;function ma(){return wu=wu||new yt}ft.Ia="serverreachability";function Ru(c){N.call(this,ft.Ia,c)}T(Ru,N);function li(c){const y=ma();Ot(y,new Ru(y))}ft.STAT_EVENT="statevent";function ys(c,y){N.call(this,ft.STAT_EVENT,c),this.stat=y}T(ys,N);function _t(c){const y=ma();Ot(y,new ys(y,c))}ft.Ja="timingevent";function ui(c,y){N.call(this,ft.Ja,c),this.size=y}T(ui,N);function ci(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function _f(c,y,v,A,k,F){c.info(function(){if(c.g)if(F){var re="",we=F.split("&");for(let qe=0;qe<we.length;qe++){var dt=we[qe].split("=");if(dt.length>1){const at=dt[0];dt=dt[1];const Nn=at.split("_");re=Nn.length>=2&&Nn[1]=="type"?re+(at+"="+dt+"&"):re+(at+"=redacted&")}}}else re=null;else re=F;return"XMLHTTP REQ ("+A+") [attempt "+k+"]: "+y+`
`+v+`
`+re})}function Cu(c,y,v,A,k,F,re){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+k+"]: "+y+`
`+v+`
`+F+" "+re})}function hi(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+vf(c,v)+(A?" "+A:"")})}function _s(c,y){c.info(function(){return"TIMEOUT: "+y})}Hn.prototype.info=function(){};function vf(c,y){if(!c.g)return y;if(!y)return null;try{const F=JSON.parse(y);if(F){for(c=0;c<F.length;c++)if(Array.isArray(F[c])){var v=F[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var k=A[0];if(k!="noop"&&k!="stop"&&k!="close")for(let re=1;re<A.length;re++)A[re]=""}}}}return yr(F)}catch{return y}}var vs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Vo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Po;function Es(){}T(Es,Au),Es.prototype.g=function(){return new XMLHttpRequest},Po=new Es;function ki(c){return encodeURIComponent(String(c))}function Iu(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function Fn(c,y,v,A){this.j=c,this.i=y,this.l=v,this.S=A||1,this.V=new gs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var vt={},Pt={};function fi(c,y,v){c.M=1,c.A=Ts(Tt(y)),c.u=v,c.R=!0,pa(c,null)}function pa(c,y){c.F=Date.now(),di(c),c.B=Tt(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),va(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Gn,c.g=Hu(c.j,v?y:null,!c.u),c.P>0&&(c.O=new en(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,A=c.ba;var k="readystatechange";Array.isArray(k)||(k&&(xo[0]=k.toString()),k=xo);for(let F=0;F<k.length;F++){const re=st(v,k[F],A||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=c.J?x(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),li(),_f(c.i,c.v,c.B,c.l,c.S,c.u)}Fn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Yn(c)==3?y.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)e:{const we=Yn(this.g),dt=this.g.ya(),qe=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||jt(this.g)))){this.K||we!=4||dt==7||(dt==8||qe<=0?li(3):li(2)),mi(this);var y=this.g.ca();this.X=y;var v=Ef(this);if(this.o=y==200,Cu(this.i,this.v,this.B,this.l,this.S,we,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,k=this.g;if((A=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var F=A;break t}}F=null}if(c=F)hi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pi(this,c);else{this.o=!1,this.m=3,_t(12),pn(this),Cn(this);break e}}if(this.R){c=!0;let at;for(;!this.K&&this.C<v.length;)if(at=Nu(this,v),at==Pt){we==4&&(this.m=4,_t(14),c=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(at==vt){this.m=4,_t(15),hi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else hi(this.i,this.l,at,null),pi(this,at);if(Du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||v.length!=0||this.h.h||(this.m=1,_t(16),c=!1),this.o=this.o&&c,!c)hi(this.i,this.l,v,"[Invalid Chunked Response]"),pn(this),Cn(this);else if(v.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),$o(re),re.P=!0,_t(11))}}else hi(this.i,this.l,v,null),pi(this,v);we==4&&pn(this),this.o&&!this.K&&(we==4?zu(this.j,this):(this.o=!1,di(this)))}else zi(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,_t(12)):(this.m=0,_t(13)),pn(this),Cn(this)}}}catch{}finally{}};function Ef(c){if(!Du(c))return c.g.la();const y=jt(c.g);if(y==="")return"";let v="";const A=y.length,k=Yn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return pn(c),Cn(c),"";c.h.i=new h.TextDecoder}for(let F=0;F<A;F++)c.h.h=!0,v+=c.h.i.decode(y[F],{stream:!(k&&F==A-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function Du(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Nu(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?Pt:(v=Number(y.substring(v,A)),isNaN(v)?vt:(A+=1,A+v>y.length?Pt:(y=y.slice(A,A+v),c.C=A+v,y)))}Fn.prototype.cancel=function(){this.K=!0,pn(this)};function di(c){c.T=Date.now()+c.H,ga(c,c.H)}function ga(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ci(g(c.aa,c),y)}function mi(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Fn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(_s(this.i,this.B),this.M!=2&&(li(),_t(17)),pn(this),this.m=2,Cn(this)):ga(this,this.T-c)};function Cn(c){c.j.I==0||c.K||zu(c.j,c)}function pn(c){mi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Mo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function pi(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||yi(v.h,c))){if(!c.L&&yi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var k=A;if(k[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ba(v),wr(v);else break e;Is(v),_t(18)}}else v.xa=k[1],0<v.xa-v.K&&k[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ci(g(v.Va,v),6e3));gi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ai(v,11)}else if((c.L||v.g==c)&&ba(v),!I(y))for(k=v.Ba.g.parse(y),y=0;y<k.length;y++){let qe=k[y];const at=qe[0];if(!(at<=v.K))if(v.K=at,qe=qe[1],v.I==2)if(qe[0]=="c"){v.M=qe[1],v.ba=qe[2];const Nn=qe[3];Nn!=null&&(v.ka=Nn,v.j.info("VER="+v.ka));const bi=qe[4];bi!=null&&(v.za=bi,v.j.info("SVER="+v.za));const Xn=qe[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(A=1.5*Xn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const $n=c.g;if($n){const Ds=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ds){var F=A.h;F.g||Ds.indexOf("spdy")==-1&&Ds.indexOf("quic")==-1&&Ds.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Uo(F,F.h),F.h=null))}if(A.G){const wa=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;wa&&(A.wa=wa,Qe(A.J,A.G,wa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var re=c;if(A.na=qu(A,A.L?A.ba:null,A.W),re.L){zo(A.h,re);var we=re,dt=A.O;dt&&(we.H=dt),we.D&&(mi(we),di(we)),A.g=re}else ku(A);v.i.length>0&&Si(v)}else qe[0]!="stop"&&qe[0]!="close"||Ai(v,7);else v.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Ai(v,7):Yo(v):qe[0]!="noop"&&v.l&&v.l.qa(qe),v.A=0)}}li(4)}catch{}}var Et=class{constructor(c,y){this.g=c,this.map=y}};function Lo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ko(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function gi(c){return c.h?1:c.g?c.g.size:0}function yi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Uo(c,y){c.g?c.g.add(y):c.h=y}function zo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Lo.prototype.cancel=function(){if(this.i=jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function jo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return V(c.i)}var Ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ya(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let k,F=null;A>=0?(k=c[v].substring(0,A),F=c[v].substring(A+1)):k=c[v],y(k,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function gn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof gn?(this.l=c.l,Lt(this,c.j),this.o=c.o,this.g=c.g,_r(this,c.u),this.h=c.h,Bo(this,Pu(c.i)),this.m=c.m):c&&(y=String(c).match(Ou))?(this.l=!1,Lt(this,y[1]||"",!0),this.o=_i(y[2]||""),this.g=_i(y[3]||"",!0),_r(this,y[4]),this.h=_i(y[5]||"",!0),Bo(this,y[6]||"",!0),this.m=_i(y[7]||"")):(this.l=!1,this.i=new Er(null,this.l))}gn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Ss(y,_a,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ss(y,_a,!0),"@"),c.push(ki(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ss(v,v.charAt(0)=="/"?qo:xu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ss(v,Mu)),c.join("")},gn.prototype.resolve=function(c){const y=Tt(this);let v=!!c.j;v?Lt(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var A=c.h;if(v)_r(y,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var k=y.h.lastIndexOf("/");k!=-1&&(A=y.h.slice(0,k+1)+A)}if(k=A,k==".."||k==".")A="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){A=k.lastIndexOf("/",0)==0,k=k.split("/");const F=[];for(let re=0;re<k.length;){const we=k[re++];we=="."?A&&re==k.length&&F.push(""):we==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),A&&re==k.length&&F.push("")):(F.push(we),A=!0)}A=F.join("/")}else A=k}return v?y.h=A:v=c.i.toString()!=="",v?Bo(y,Pu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function Tt(c){return new gn(c)}function Lt(c,y,v){c.j=v?_i(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function _r(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Bo(c,y,v){y instanceof Er?(c.i=y,Ea(c.i,c.l)):(v||(y=Ss(y,vr)),c.i=new Er(y,c.l))}function Qe(c,y,v){c.i.set(y,v)}function Ts(c){return Qe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function _i(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ss(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,an),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function an(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var _a=/[#\/\?@]/g,xu=/[#\?:]/g,qo=/[#\?]/g,vr=/[#\?@]/g,Mu=/#/g;function Er(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function on(c){c.g||(c.g=new Map,c.h=0,c.i&&ya(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Er.prototype,r.add=function(c,y){on(this),this.i=null,c=Tr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Vu(c,y){on(c),y=Tr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ho(c,y){return on(c),y=Tr(c,y),c.g.has(y)}r.forEach=function(c,y){on(this),this.g.forEach(function(v,A){v.forEach(function(k){c.call(y,k,A,this)},this)},this)};function Fo(c,y){on(c);let v=[];if(typeof y=="string")Ho(c,y)&&(v=v.concat(c.g.get(Tr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}r.set=function(c,y){return on(this),this.i=null,c=Tr(this,c),Ho(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=Fo(this,c),c.length>0?String(c[0]):y):y};function va(c,y,v){Vu(c,y),v.length>0&&(c.i=null,c.g.set(Tr(c,y),V(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var v=y[A];const k=ki(v);v=Fo(this,v);for(let F=0;F<v.length;F++){let re=k;v[F]!==""&&(re+="="+ki(v[F])),c.push(re)}}return this.i=c.join("&")};function Pu(c){const y=new Er;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Tr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ea(c,y){y&&!c.j&&(on(c),c.i=null,c.g.forEach(function(v,A){const k=A.toLowerCase();A!=k&&(Vu(this,A),va(this,k,v))},c)),c.j=y}function Qn(c,y){const v=new Hn;if(h.Image){const A=new Image;A.onload=E(In,v,"TestLoadImage: loaded",!0,y,A),A.onerror=E(In,v,"TestLoadImage: error",!1,y,A),A.onabort=E(In,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=E(In,v,"TestLoadImage: timeout",!1,y,A),h.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Go(c,y){const v=new Hn,A=new AbortController,k=setTimeout(()=>{A.abort(),In(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(F=>{clearTimeout(k),F.ok?In(v,"TestPingServer: ok",!0,y):In(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(k),In(v,"TestPingServer: error",!1,y)})}function In(c,y,v,A,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),A(v)}catch{}}function Sr(){this.g=new Su}function vi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(vi,Au),vi.prototype.g=function(){return new As(this.i,this.h)};function As(c,y){yt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(As,yt),r=As.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Kn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ar(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ta(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ta(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ar(this):Kn(this),this.readyState==3&&Ta(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Ar(this))},r.Na=function(c){this.g&&(this.response=c,Ar(this))},r.ga=function(){this.g&&Ar(this)};function Ar(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Kn(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Kn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(As.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Dn(c){let y="";return ze(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function bs(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Dn(v),typeof c=="string"?v!=null&&ki(v):Qe(c,y,v))}function Xe(c){yt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Xe,yt);var Ei=/^https?$/i,Qo=["POST","PUT"];r=Xe.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Po.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(F){ws(this,F);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var k in A)v.set(k,A[k]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const F of A.keys())v.set(F,A.get(F));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),k=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(Qo,y,void 0)>=0)||A||k||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,re]of v)this.g.setRequestHeader(F,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(F){ws(this,F)}};function ws(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Ko(c),Ui(c)}function Ko(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ot(this,"complete"),Ot(this,"abort"),Ui(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ui(this,!0)),Xe.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Rs(this):this.Xa())},r.Xa=function(){Rs(this)};function Rs(c){if(c.h&&typeof u<"u"){if(c.v&&Yn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ot(c,"readystatechange"),Yn(c)==4){c.h=!1;try{const F=c.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=F===0){let re=String(c.D).match(Ou)[1]||null;!re&&h.self&&h.self.location&&(re=h.self.location.protocol.slice(0,-1)),A=!Ei.test(re?re.toLowerCase():"")}v=A}if(v)Ot(c,"complete"),Ot(c,"success");else{c.o=6;try{var k=Yn(c)>2?c.g.statusText:""}catch{k=""}c.l=k+" ["+c.ca()+"]",Ko(c)}}finally{Ui(c)}}}}function Ui(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Ot(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Yn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),yf(y)}};function jt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function zi(c){const y={};c=(c.g&&Yn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(I(c[A]))continue;var v=Iu(c[A]);const k=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=y[k]||[];y[k]=F,F.push(v)}Ge(y,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function br(c){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ti("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ti("baseRetryDelayMs",5e3,c),this.Za=Ti("retryDelaySeedMs",1e4,c),this.Ta=Ti("forwardChannelMaxRetries",2,c),this.va=Ti("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Lo(c&&c.concurrentRequestLimit),this.Ba=new Sr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=br.prototype,r.ka=8,r.I=1,r.connect=function(c,y,v,A){_t(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=qu(this,null,this.W),Si(this)};function Yo(c){if(Sa(c),c.I==3){var y=c.V++,v=Tt(c.J);if(Qe(v,"SID",c.M),Qe(v,"RID",y),Qe(v,"TYPE","terminate"),Cs(c,v),y=new Fn(c,c.j,y),y.M=2,y.A=Ts(Tt(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=y.A,v=!0),v||(y.g=Hu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),di(y)}Bu(c)}function wr(c){c.g&&($o(c),c.g.cancel(),c.g=null)}function Sa(c){wr(c),c.v&&(h.clearTimeout(c.v),c.v=null),ba(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Si(c){if(!ko(c.h)&&!c.m){c.m=!0;var y=c.Ea;fe||b(),ge||(fe(),ge=!0),C.add(y,c),c.D=0}}function Aa(c,y){return gi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ci(g(c.Ea,c,y),ju(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const k=new Fn(this,this.j,c);let F=this.o;if(this.U&&(F?(F=x(F),ae(F,this.U)):F=this.U),this.u!==null||this.R||(k.J=F,F=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Lu(this,k,y),v=Tt(this.J),Qe(v,"RID",c),Qe(v,"CVER",22),this.G&&Qe(v,"X-HTTP-Session-Id",this.G),Cs(this,v),F&&(this.R?y="headers="+ki(Dn(F))+"&"+y:this.u&&bs(v,this.u,F)),Uo(this.h,k),this.Ra&&Qe(v,"TYPE","init"),this.S?(Qe(v,"$req",y),Qe(v,"SID","null"),k.U=!0,fi(k,v,null)):fi(k,v,y),this.I=2}}else this.I==3&&(c?Xo(this,c):this.i.length==0||ko(this.h)||Xo(this))};function Xo(c,y){var v;y?v=y.l:v=c.V++;const A=Tt(c.J);Qe(A,"SID",c.M),Qe(A,"RID",v),Qe(A,"AID",c.K),Cs(c,A),c.u&&c.o&&bs(A,c.u,c.o),v=new Fn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Lu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Uo(c.h,v),fi(v,A,y)}function Cs(c,y){c.H&&ze(c.H,function(v,A){Qe(y,A,v)}),c.l&&ze({},function(v,A){Qe(y,A,v)})}function Lu(c,y,v){v=Math.min(c.i.length,v);const A=c.l?g(c.l.Ka,c.l,c):null;e:{var k=c.i;let we=-1;for(;;){const dt=["count="+v];we==-1?v>0?(we=k[0].g,dt.push("ofs="+we)):we=0:dt.push("ofs="+we);let qe=!0;for(let at=0;at<v;at++){var F=k[at].g;const Nn=k[at].map;if(F-=we,F<0)we=Math.max(0,k[at].g-100),qe=!1;else try{F="req"+F+"_"||"";try{var re=Nn instanceof Map?Nn:Object.entries(Nn);for(const[bi,Xn]of re){let $n=Xn;m(Xn)&&($n=yr(Xn)),dt.push(F+bi+"="+encodeURIComponent($n))}}catch(bi){throw dt.push(F+"type="+encodeURIComponent("_badmap")),bi}}catch{A&&A(Nn)}}if(qe){re=dt.join("&");break e}}re=void 0}return c=c.i.splice(0,v),y.G=c,re}function ku(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;fe||b(),ge||(fe(),ge=!0),C.add(y,c),c.A=0}}function Is(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ci(g(c.Da,c),ju(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Uu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ci(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_t(10),wr(this),Uu(this))};function $o(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Uu(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Tt(c.na);Qe(y,"RID","rpc"),Qe(y,"SID",c.M),Qe(y,"AID",c.K),Qe(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qe(y,"TO",c.ia),Qe(y,"TYPE","xmlhttp"),Cs(c,y),c.u&&c.o&&bs(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Ts(Tt(y)),v.u=null,v.R=!0,pa(v,c)}r.Va=function(){this.C!=null&&(this.C=null,wr(this),Is(this),_t(19))};function ba(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function zu(c,y){var v=null;if(c.g==y){ba(c),$o(c),c.g=null;var A=2}else if(yi(c.h,y))v=y.G,zo(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var k=c.D;A=ma(),Ot(A,new ui(A,v)),Si(c)}else ku(c);else if(k=y.m,k==3||k==0&&y.X>0||!(A==1&&Aa(c,y)||A==2&&Is(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),k){case 1:Ai(c,5);break;case 4:Ai(c,10);break;case 3:Ai(c,6);break;default:Ai(c,2)}}}function ju(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Ai(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),A=c.Ua;const k=!A;A=new gn(A||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Lt(A,"https"),Ts(A),k?Qn(A.toString(),v):Go(A.toString(),v)}else _t(2);c.I=0,c.l&&c.l.pa(y),Bu(c),Sa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function Bu(c){if(c.I=0,c.ja=[],c.l){const y=jo(c.h);(y.length!=0||c.i.length!=0)&&(H(c.ja,y),H(c.ja,c.i),c.h.i.length=0,V(c.i),c.i.length=0),c.l.oa()}}function qu(c,y,v){var A=v instanceof gn?Tt(v):new gn(v);if(A.g!="")y&&(A.g=y+"."+A.g),_r(A,A.u);else{var k=h.location;A=k.protocol,y=y?y+"."+k.hostname:k.hostname,k=+k.port;const F=new gn(null);A&&Lt(F,A),y&&(F.g=y),k&&_r(F,k),v&&(F.h=v),A=F}return v=c.G,y=c.wa,v&&y&&Qe(A,v,y),Qe(A,"VER",c.ka),Cs(c,A),A}function Hu(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Xe(new vi({ab:v})):new Xe(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fu(){}r=Fu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Rr(){}Rr.prototype.g=function(c,y){return new tn(c,y)};function tn(c,y){yt.call(this),this.g=new br(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!I(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ji(this)}T(tn,yt),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Yo(this.g)},tn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=yr(c),c=v);y.i.push(new Et(y.Ya++,c)),y.I==3&&Si(y)},tn.prototype.N=function(){this.g.l=null,delete this.j,Yo(this.g),delete this.g,tn.Z.N.call(this)};function Gu(c){zt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(Gu,zt);function Qu(){Rn.call(this),this.status=1}T(Qu,Rn);function ji(c){this.g=c}T(ji,Fu),ji.prototype.ra=function(){Ot(this.g,"a")},ji.prototype.qa=function(c){Ot(this.g,new Gu(c))},ji.prototype.pa=function(c){Ot(this.g,new Qu)},ji.prototype.oa=function(){Ot(this.g,"b")},Rr.prototype.createWebChannel=Rr.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,L0=function(){return new Rr},P0=function(){return ma()},V0=ft,Qm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},vs.NO_ERROR=0,vs.TIMEOUT=8,vs.HTTP_ERROR=6,lh=vs,Vo.COMPLETE="complete",M0=Vo,bu.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",yt.prototype.listen=yt.prototype.J,Ll=bu,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,x0=Xe}).apply(typeof Jc<"u"?Jc:typeof self<"u"?self:typeof window<"u"?window:{});const TE="@firebase/firestore",SE="4.9.2";class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");let Ao="12.3.0";const ea=new Rp("@firebase/firestore");function to(){return ea.logLevel}function ue(r,...e){if(ea.logLevel<=Me.DEBUG){const n=e.map(Dp);ea.debug(`Firestore (${Ao}): ${r}`,...n)}}function cr(r,...e){if(ea.logLevel<=Me.ERROR){const n=e.map(Dp);ea.error(`Firestore (${Ao}): ${r}`,...n)}}function ho(r,...e){if(ea.logLevel<=Me.WARN){const n=e.map(Dp);ea.warn(`Firestore (${Ao}): ${r}`,...n)}}function Dp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function ve(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,k0(r,s,n)}function k0(r,e,n){let s=`FIRESTORE (${Ao}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw cr(s),new Error(s)}function Fe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||k0(e,o,s)}function be(r,e){return r}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends pr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class U0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Jt.UNAUTHENTICATED)))}shutdown(){}}class VI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class PI{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Xs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Xs,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Xs)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new U0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class LI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new LI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class AE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ei(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new AE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new AE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function zI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Np{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=zI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function Km(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Cm(o)===Cm(u)?Ve(o,u):Cm(o)?1:-1}return Ve(r.length,e.length)}const jI=55296,BI=57343;function Cm(r){const e=r.charCodeAt(0);return e>=jI&&e<=BI}function fo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const bE="__name__";class Di{constructor(e,n,s){n===void 0?n=0:n>e.length&&ve(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ve(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Di.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Di?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Di.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=Di.isNumericId(e),o=Di.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Di.extractNumericId(e).compare(Di.extractNumericId(n)):Km(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return rs.fromString(e.substring(4,e.length-2))}}class et extends Di{construct(e,n,s){return new et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new et(n)}static emptyPath(){return new et([])}}const qI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Di{construct(e,n,s){return new Kt(e,n,s)}static isValidIdentifier(e){return qI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bE}static keyField(){return new Kt([bE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new oe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new oe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new oe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new oe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(et.fromString(e))}static fromName(e){return new pe(et.fromString(e).popFirst(5))}static empty(){return new pe(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new et(e.slice()))}}function z0(r,e,n){if(!n)throw new oe(te.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function HI(r,e,n,s){if(e===!0&&s===!0)throw new oe(te.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function wE(r){if(!pe.isDocumentKey(r))throw new oe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function RE(r){if(pe.isDocumentKey(r))throw new oe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function j0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Kh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ve(12329,{type:typeof r})}function ql(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new oe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kh(r);throw new oe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function It(r,e){const n={typeString:r};return e&&(n.value=e),n}function fu(r,e){if(!j0(r))throw new oe(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new oe(te.INVALID_ARGUMENT,n);return!0}const CE=-62135596800,IE=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*IE);return new it(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<CE)throw new oe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/IE}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fu(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-CE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:It("string",it._jsonSchemaVersion),seconds:It("number"),nanoseconds:It("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new it(0,0))}static max(){return new Se(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const $l=-1;function FI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new it(n+1,0):new it(n,s));return new as(o,pe.empty(),e)}function GI(r){return new as(r.readTime,r.key,$l)}class as{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new as(Se.min(),pe.empty(),$l)}static max(){return new as(Se.max(),pe.empty(),$l)}}function QI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}const KI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function bo(r){if(r.code!==te.FAILED_PRECONDITION||r.message!==KI)throw r;ue("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{h[g]=E,++m,m===u&&s(h)}),(E=>o(E)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function XI(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wo(r){return r.name==="IndexedDbTransactionError"}class Yh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Yh.ce=-1;const Op=-1;function Xh(r){return r==null}function Th(r){return r===0&&1/r==-1/0}function $I(r){return typeof r=="number"&&Number.isInteger(r)&&!Th(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const B0="";function JI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=DE(e)),e=ZI(r.get(n),e);return DE(e)}function ZI(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case B0:n+="";break;default:n+=u}}return n}function DE(r){return r+B0+""}function NE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function aa(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function q0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ut{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zc(this.root,e,this.comparator,!0)}}class Zc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new OE(this.data.getIterator())}getIteratorFrom(e){return new OE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class OE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ni{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new ni([])}unionWith(e){let n=new Vt(Kt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ni(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class H0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new H0("Invalid base64 string: "+u):u}})(e);return new Yt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const WI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const n=WI.exec(r);if(Fe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(r.seconds),nanos:gt(r.nanos)}}function gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ls(r){return typeof r=="string"?Yt.fromBase64String(r):Yt.fromUint8Array(r)}const F0="server_timestamp",G0="__type__",Q0="__previous_value__",K0="__local_write_time__";function xp(r){return(r?.mapValue?.fields||{})[G0]?.stringValue===F0}function $h(r){const e=r.mapValue.fields[Q0];return xp(e)?$h(e):e}function Jl(r){const e=os(r.mapValue.fields[K0].timestampValue);return new it(e.seconds,e.nanos)}class e2{constructor(e,n,s,o,u,h,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Sh="(default)";class Zl{constructor(e,n){this.projectId=e,this.database=n||Sh}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===Sh}isEqual(e){return e instanceof Zl&&e.projectId===this.projectId&&e.database===this.database}}const Y0="__type__",t2="__max__",Wc={mapValue:{}},X0="__vector__",Ah="value";function us(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?xp(r)?4:i2(r)?9007199254740991:n2(r)?10:11:ve(28295,{value:r})}function Pi(r,e){if(r===e)return!0;const n=us(r);if(n!==us(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Jl(r).isEqual(Jl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=os(o.timestampValue),m=os(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return ls(o.bytesValue).isEqual(ls(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=gt(o.doubleValue),m=gt(u.doubleValue);return h===m?Th(h)===Th(m):isNaN(h)&&isNaN(m)}return!1})(r,e);case 9:return fo(r.arrayValue.values||[],e.arrayValue.values||[],Pi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(NE(h)!==NE(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Pi(h[p],m[p])))return!1;return!0})(r,e);default:return ve(52216,{left:r})}}function Wl(r,e){return(r.values||[]).find((n=>Pi(n,e)))!==void 0}function mo(r,e){if(r===e)return 0;const n=us(r),s=us(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=gt(u.integerValue||u.doubleValue),p=gt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return xE(r.timestampValue,e.timestampValue);case 4:return xE(Jl(r),Jl(e));case 5:return Km(r.stringValue,e.stringValue);case 6:return(function(u,h){const m=ls(u),p=ls(h);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ve(m[g],p[g]);if(E!==0)return E}return Ve(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Ve(gt(u.latitude),gt(h.latitude));return m!==0?m:Ve(gt(u.longitude),gt(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return ME(r.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},g=m[Ah]?.arrayValue,E=p[Ah]?.arrayValue,T=Ve(g?.values?.length||0,E?.values?.length||0);return T!==0?T:ME(g,E)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===Wc.mapValue&&h===Wc.mapValue)return 0;if(u===Wc.mapValue)return 1;if(h===Wc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const w=Km(p[T],E[T]);if(w!==0)return w;const V=mo(m[p[T]],g[E[T]]);if(V!==0)return V}return Ve(p.length,E.length)})(r.mapValue,e.mapValue);default:throw ve(23264,{he:n})}}function xE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=os(r),s=os(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function ME(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=mo(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function po(r){return Ym(r)}function Ym(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=os(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ls(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return pe.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Ym(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Ym(n.fields[h])}`;return o+"}"})(r.mapValue):ve(61005,{value:r})}function uh(r){switch(us(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$h(r);return e?16+uh(e):16;case 5:return 2*r.stringValue.length;case 6:return ls(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+uh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return aa(s.fields,((u,h)=>{o+=u.length+uh(h)})),o})(r.mapValue);default:throw ve(13486,{value:r})}}function VE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Xm(r){return!!r&&"integerValue"in r}function Mp(r){return!!r&&"arrayValue"in r}function PE(r){return!!r&&"nullValue"in r}function LE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ch(r){return!!r&&"mapValue"in r}function n2(r){return(r?.mapValue?.fields||{})[Y0]?.stringValue===X0}function Hl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return aa(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Hl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hl(r.arrayValue.values[n]);return e}return{...r}}function i2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===t2}class zn{constructor(e){this.value=e}static empty(){return new zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ch(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(n)}setAll(e){let n=Kt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=Hl(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());ch(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Pi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];ch(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){aa(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new zn(Hl(this.value))}}function $0(r){const e=[];return aa(r.fields,((n,s)=>{const o=new Kt([n]);if(ch(s)){const u=$0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new ni(e)}class Zt{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,Se.min(),Se.min(),Se.min(),zn.empty(),0)}static newFoundDocument(e,n,s,o){return new Zt(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,Se.min(),Se.min(),zn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Se.min(),Se.min(),zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class bh{constructor(e,n){this.position=e,this.inclusive=n}}function kE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(h.referenceValue),n.key):s=mo(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function UE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Pi(r.position[n],e.position[n]))return!1;return!0}class eu{constructor(e,n="asc"){this.field=e,this.dir=n}}function r2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class J0{}class Ct extends J0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new a2(e,n,s):n==="array-contains"?new u2(e,s):n==="in"?new c2(e,s):n==="not-in"?new h2(e,s):n==="array-contains-any"?new f2(e,s):new Ct(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new o2(e,s):new l2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(mo(n,this.value)):n!==null&&us(this.value)===us(n)&&this.matchesComparison(mo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends J0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new si(e,n)}matches(e){return Z0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Z0(r){return r.op==="and"}function W0(r){return s2(r)&&Z0(r)}function s2(r){for(const e of r.filters)if(e instanceof si)return!1;return!0}function $m(r){if(r instanceof Ct)return r.field.canonicalString()+r.op.toString()+po(r.value);if(W0(r))return r.filters.map((e=>$m(e))).join(",");{const e=r.filters.map((n=>$m(n))).join(",");return`${r.op}(${e})`}}function eS(r,e){return r instanceof Ct?(function(s,o){return o instanceof Ct&&s.op===o.op&&s.field.isEqual(o.field)&&Pi(s.value,o.value)})(r,e):r instanceof si?(function(s,o){return o instanceof si&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&eS(h,o.filters[m])),!0):!1})(r,e):void ve(19439)}function tS(r){return r instanceof Ct?(function(n){return`${n.field.canonicalString()} ${n.op} ${po(n.value)}`})(r):r instanceof si?(function(n){return n.op.toString()+" {"+n.getFilters().map(tS).join(" ,")+"}"})(r):"Filter"}class a2 extends Ct{constructor(e,n,s){super(e,n,s),this.key=pe.fromName(s.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class o2 extends Ct{constructor(e,n){super(e,"in",n),this.keys=nS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class l2 extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=nS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function nS(r,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class u2 extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Mp(n)&&Wl(n.arrayValue,this.value)}}class c2 extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wl(this.value.arrayValue,n)}}class h2 extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Wl(this.value.arrayValue,n)}}class f2 extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Mp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Wl(this.value.arrayValue,s)))}}class d2{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function zE(r,e=null,n=[],s=[],o=null,u=null,h=null){return new d2(r,e,n,s,o,u,h)}function Vp(r){const e=be(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>$m(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Xh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>po(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>po(s))).join(",")),e.Te=n}return e.Te}function Pp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!r2(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!eS(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!UE(r.startAt,e.startAt)&&UE(r.endAt,e.endAt)}function Jm(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Ro{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function m2(r,e,n,s,o,u,h,m){return new Ro(r,e,n,s,o,u,h,m)}function Lp(r){return new Ro(r)}function jE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function iS(r){return r.collectionGroup!==null}function Fl(r){const e=be(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Vt(Kt.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new eu(u,s))})),n.has(Kt.keyField().canonicalString())||e.Ie.push(new eu(Kt.keyField(),s))}return e.Ie}function Ni(r){const e=be(r);return e.Ee||(e.Ee=p2(e,Fl(r))),e.Ee}function p2(r,e){if(r.limitType==="F")return zE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new eu(o.field,u)}));const n=r.endAt?new bh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new bh(r.startAt.position,r.startAt.inclusive):null;return zE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Zm(r,e){const n=r.filters.concat([e]);return new Ro(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Wm(r,e,n){return new Ro(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Jh(r,e){return Pp(Ni(r),Ni(e))&&r.limitType===e.limitType}function rS(r){return`${Vp(Ni(r))}|lt:${r.limitType}`}function no(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>tS(o))).join(", ")}]`),Xh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>po(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>po(o))).join(",")),`Target(${s})`})(Ni(r))}; limitType=${r.limitType})`}function Zh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Fl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=kE(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,Fl(s),o)||s.endAt&&!(function(h,m,p){const g=kE(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,Fl(s),o))})(r,e)}function g2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function sS(r){return(e,n)=>{let s=!1;for(const o of Fl(r)){const u=y2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function y2(r,e,n){const s=r.field.isKeyField()?pe.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?mo(p,g):ve(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ve(19790,{direction:r.dir})}}class oa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){aa(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return q0(this.inner)}size(){return this.innerSize}}const _2=new ut(pe.comparator);function hr(){return _2}const aS=new ut(pe.comparator);function kl(...r){let e=aS;for(const n of r)e=e.insert(n.key,n);return e}function oS(r){let e=aS;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ks(){return Gl()}function lS(){return Gl()}function Gl(){return new oa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const v2=new ut(pe.comparator),E2=new Vt(pe.comparator);function Pe(...r){let e=E2;for(const n of r)e=e.add(n);return e}const T2=new Vt(Ve);function S2(){return T2}function kp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Th(e)?"-0":e}}function uS(r){return{integerValue:""+r}}function A2(r,e){return $I(e)?uS(e):kp(r,e)}class Wh{constructor(){this._=void 0}}function b2(r,e,n){return r instanceof tu?(function(o,u){const h={fields:{[G0]:{stringValue:F0},[K0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&xp(u)&&(u=$h(u)),u&&(h.fields[Q0]=u),{mapValue:h}})(n,e):r instanceof nu?hS(r,e):r instanceof iu?fS(r,e):(function(o,u){const h=cS(o,u),m=BE(h)+BE(o.Ae);return Xm(h)&&Xm(o.Ae)?uS(m):kp(o.serializer,m)})(r,e)}function w2(r,e,n){return r instanceof nu?hS(r,e):r instanceof iu?fS(r,e):n}function cS(r,e){return r instanceof wh?(function(s){return Xm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class tu extends Wh{}class nu extends Wh{constructor(e){super(),this.elements=e}}function hS(r,e){const n=dS(e);for(const s of r.elements)n.some((o=>Pi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class iu extends Wh{constructor(e){super(),this.elements=e}}function fS(r,e){let n=dS(e);for(const s of r.elements)n=n.filter((o=>!Pi(o,s)));return{arrayValue:{values:n}}}class wh extends Wh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function BE(r){return gt(r.integerValue||r.doubleValue)}function dS(r){return Mp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class R2{constructor(e,n){this.field=e,this.transform=n}}function C2(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof nu&&o instanceof nu||s instanceof iu&&o instanceof iu?fo(s.elements,o.elements,Pi):s instanceof wh&&o instanceof wh?Pi(s.Ae,o.Ae):s instanceof tu&&o instanceof tu})(r.transform,e.transform)}class I2{constructor(e,n){this.version=e,this.transformResults=n}}class ar{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ar}static exists(e){return new ar(void 0,e)}static updateTime(e){return new ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class ef{}function mS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new gS(r.key,ar.none()):new du(r.key,r.data,ar.none());{const n=r.data,s=zn.empty();let o=new Vt(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new la(r.key,s,new ni(o.toArray()),ar.none())}}function D2(r,e,n){r instanceof du?(function(o,u,h){const m=o.value.clone(),p=HE(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,n):r instanceof la?(function(o,u,h){if(!hh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=HE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(pS(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function Ql(r,e,n,s){return r instanceof du?(function(u,h,m,p){if(!hh(u.precondition,h))return m;const g=u.value.clone(),E=FE(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof la?(function(u,h,m,p){if(!hh(u.precondition,h))return m;const g=FE(u.fieldTransforms,p,h),E=h.data;return E.setAll(pS(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,h,m){return hh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(r,e,n)}function N2(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=cS(s.transform,o||null);u!=null&&(n===null&&(n=zn.empty()),n.set(s.field,u))}return n||null}function qE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&fo(s,o,((u,h)=>C2(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class du extends ef{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class la extends ef{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function pS(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function HE(r,e,n){const s=new Map;Fe(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,w2(h,m,n[o]))}return s}function FE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,b2(u,h,e))}return s}class gS extends ef{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class O2 extends ef{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class x2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&D2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ql(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ql(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=lS();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=mS(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Se.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&fo(this.mutations,e.mutations,((n,s)=>qE(n,s)))&&fo(this.baseMutations,e.baseMutations,((n,s)=>qE(n,s)))}}class Up{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return v2})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Up(e,n,s,o)}}class M2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class V2{constructor(e,n){this.count=e,this.unchangedNames=n}}var Rt,Ue;function P2(r){switch(r){case te.OK:return ve(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return ve(15467,{code:r})}}function yS(r){if(r===void 0)return cr("GRPC error has no .code"),te.UNKNOWN;switch(r){case Rt.OK:return te.OK;case Rt.CANCELLED:return te.CANCELLED;case Rt.UNKNOWN:return te.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return te.INTERNAL;case Rt.UNAVAILABLE:return te.UNAVAILABLE;case Rt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Rt.NOT_FOUND:return te.NOT_FOUND;case Rt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Rt.ABORTED:return te.ABORTED;case Rt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Rt.DATA_LOSS:return te.DATA_LOSS;default:return ve(39323,{code:r})}}(Ue=Rt||(Rt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";function L2(){return new TextEncoder}const k2=new rs([4294967295,4294967295],0);function GE(r){const e=L2().encode(r),n=new O0;return n.update(e),new Uint8Array(n.digest())}function QE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new rs([n,s],0),new rs([o,u],0)]}class zp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ul(`Invalid padding: ${n}`);if(s<0)throw new Ul(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ul(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ul(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=rs.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(rs.fromNumber(s)));return o.compare(k2)===1&&(o=new rs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=GE(e),[s,o]=QE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new zp(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=GE(e),[s,o]=QE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class tf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,mu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new tf(Se.min(),o,new ut(Ve),hr(),Pe())}}class mu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new mu(s,n,Pe(),Pe(),Pe())}}class fh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class _S{constructor(e,n){this.targetId=e,this.Ce=n}}class vS{constructor(e,n,s=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class KE{constructor(){this.ve=0,this.Fe=YE(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),s=Pe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ve(38017,{changeType:u})}})),new mu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=YE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class U2{constructor(e){this.Ge=e,this.ze=new Map,this.je=hr(),this.Je=eh(),this.He=eh(),this.Ye=new ut(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Jm(u))if(s===0){const h=new pe(u.path);this.et(n,h,Zt.newNoDocument(h,Se.min()))}else Fe(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=ls(s).toUint8Array()}catch(p){if(p instanceof H0)return ho("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new zp(h,o,u)}catch(p){return ho(p instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&Jm(m.target)){const p=new pe(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,Zt.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=Pe();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new tf(e,n,this.Ye,this.je,s);return this.je=hr(),this.Je=eh(),this.He=eh(),this.Ye=new ut(Ve),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new KE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Vt(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Vt(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new KE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function eh(){return new ut(pe.comparator)}function YE(){return new ut(pe.comparator)}const z2={asc:"ASCENDING",desc:"DESCENDING"},j2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B2={and:"AND",or:"OR"};class q2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ep(r,e){return r.useProto3Json||Xh(e)?e:{value:e}}function Rh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ES(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function H2(r,e){return Rh(r,e.toTimestamp())}function Oi(r){return Fe(!!r,49232),Se.fromTimestamp((function(n){const s=os(n);return new it(s.seconds,s.nanos)})(r))}function jp(r,e){return tp(r,e).canonicalString()}function tp(r,e){const n=(function(o){return new et(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function TS(r){const e=et.fromString(r);return Fe(RS(e),10190,{key:e.toString()}),e}function np(r,e){return jp(r.databaseId,e.path)}function Im(r,e){const n=TS(e);if(n.get(1)!==r.databaseId.projectId)throw new oe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new oe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pe(AS(n))}function SS(r,e){return jp(r.databaseId,e)}function F2(r){const e=TS(r);return e.length===4?et.emptyPath():AS(e)}function ip(r){return new et(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function AS(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function XE(r,e,n){return{name:np(r,e),fields:n.value.mapValue.fields}}function G2(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ve(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Fe(E===void 0||typeof E=="string",58123),Yt.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Yt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const E=g.code===void 0?te.UNKNOWN:yS(g.code);return new oe(E,g.message||"")})(h);n=new vS(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Im(r,s.document.name),u=Oi(s.document.updateTime),h=s.document.createTime?Oi(s.document.createTime):Se.min(),m=new zn({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new fh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Im(r,s.document),u=s.readTime?Oi(s.readTime):Se.min(),h=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new fh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Im(r,s.document),u=s.removedTargetIds||[];n=new fh([],u,o,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new V2(o,u),m=s.targetId;n=new _S(m,h)}}return n}function Q2(r,e){let n;if(e instanceof du)n={update:XE(r,e.key,e.value)};else if(e instanceof gS)n={delete:np(r,e.key)};else if(e instanceof la)n={update:XE(r,e.key,e.data),updateMask:tD(e.fieldMask)};else{if(!(e instanceof O2))return ve(16599,{Vt:e.type});n={verify:np(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof tu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof nu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof iu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof wh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw ve(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:H2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ve(27497)})(r,e.precondition)),n}function K2(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map((n=>(function(o,u){let h=o.updateTime?Oi(o.updateTime):Oi(u);return h.isEqual(Se.min())&&(h=Oi(u)),new I2(h,o.transformResults||[])})(n,e)))):[]}function Y2(r,e){return{documents:[SS(r,e.path)]}}function X2(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=SS(r,o);const u=(function(g){if(g.length!==0)return wS(si.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((E=>(function(w){return{field:io(w.field),direction:Z2(w.dir)}})(E)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=ep(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function $2(r){let e=F2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const w=bS(T);return w instanceof si&&W0(w)?w.getFilters():[w]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((w=>(function(H){return new eu(ro(H.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let w;return w=typeof T=="object"?T.value:T,Xh(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(T){const w=!!T.before,V=T.values||[];return new bh(V,w)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const w=!T.before,V=T.values||[];return new bh(V,w)})(n.endAt)),m2(e,o,h,u,m,"F",p,g)}function J2(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function bS(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ro(n.unaryFilter.field);return Ct.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ro(n.unaryFilter.field);return Ct.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ro(n.unaryFilter.field);return Ct.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ro(n.unaryFilter.field);return Ct.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Ct.create(ro(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return si.create(n.compositeFilter.filters.map((s=>bS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(n.compositeFilter.op))})(r):ve(30097,{filter:r})}function Z2(r){return z2[r]}function W2(r){return j2[r]}function eD(r){return B2[r]}function io(r){return{fieldPath:r.canonicalString()}}function ro(r){return Kt.fromServerFormat(r.fieldPath)}function wS(r){return r instanceof Ct?(function(n){if(n.op==="=="){if(LE(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NAN"}};if(PE(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(LE(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NAN"}};if(PE(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(n.field),op:W2(n.op),value:n.value}}})(r):r instanceof si?(function(n){const s=n.getFilters().map((o=>wS(o)));return s.length===1?s[0]:{compositeFilter:{op:eD(n.op),filters:s}}})(r):ve(54877,{filter:r})}function tD(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function RS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Wr{constructor(e,n,s,o,u=Se.min(),h=Se.min(),m=Yt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Wr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class nD{constructor(e){this.yt=e}}function iD(r){const e=$2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Wm(e,e.limit,"L"):e}class rD{constructor(){this.Cn=new sD}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(as.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(as.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class sD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Vt(et.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Vt(et.comparator)).toArray()}}const $E={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},CS=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(CS,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class go{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new go(0)}static cr(){return new go(-1)}}const JE="LruGarbageCollector",aD=1048576;function ZE([r,e],[n,s]){const o=Ve(r,n);return o===0?Ve(e,s):o}class oD{constructor(e){this.Ir=e,this.buffer=new Vt(ZE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();ZE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class lD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(JE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wo(n)?ue(JE,"Ignoring IndexedDB error during garbage collection: ",n):await bo(n)}await this.Vr(3e5)}))}}class uD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(Yh.ce);const s=new oD(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve($E)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$E):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),to()<=Me.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function cD(r,e){return new uD(r,e)}class hD{constructor(){this.changes=new oa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class fD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class dD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Ql(s.mutation,o,ni.empty(),it.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Pe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Pe()){const o=Ks();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=kl();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=Ks();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Pe())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=hr();const h=Gl(),m=(function(){return Gl()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof la)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),Ql(E.mutation,g,E.mutation.getFieldMask(),it.now())):h.set(g.key,ni.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>h.set(g,E))),n.forEach(((g,E)=>m.set(g,new fD(E,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Gl();let o=new ut(((h,m)=>h-m)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||ni.empty();E=m.applyToLocalView(g,E),s.set(p,E);const T=(o.get(m.batchId)||Pe()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=lS();E.forEach((w=>{if(!u.has(w)){const V=mS(n.get(w),s.get(w));V!==null&&T.set(w,V),u=u.add(w)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ne.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return pe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(Ks());let m=$l,p=u;return h.next((g=>ne.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?ne.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{p=p.insert(E,w)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Pe()))).next((E=>({batchId:m,changes:oS(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((s=>{let o=kl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=kl();return this.indexManager.getCollectionParents(e,u).next((m=>ne.forEach(m,(p=>{const g=(function(T,w){return new Ro(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((T,w)=>{h=h.insert(T,w)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,Zt.newInvalidDocument(E)))}));let m=kl();return h.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&Ql(E.mutation,g,ni.empty(),it.now()),Zh(n,g)&&(m=m.insert(p,g))})),m}))}}class mD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Oi(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:iD(o.bundledQuery),readTime:Oi(o.readTime)}})(n)),ne.resolve()}}class pD{constructor(){this.overlays=new ut(pe.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ks();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=Ks(),u=n.length+1,h=new pe(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ut(((g,E)=>g-E));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Ks(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Ks(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return ne.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new M2(n,s));let u=this.qr.get(n);u===void 0&&(u=Pe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class gD{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}class Bp{constructor(){this.Qr=new Vt(Ut.$r),this.Ur=new Vt(Ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Ut(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Ut(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new pe(new et([])),s=new Ut(n,e),o=new Ut(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new et([])),s=new Ut(n,e),o=new Ut(n,e+1);let u=Pe();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Ut(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ut{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}class yD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Vt(Ut.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new x2(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new Ut(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Op:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ut(n,0),o=new Ut(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Vt(Ve);return n.forEach((o=>{const u=new Ut(o,0),h=new Ut(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{s=s.add(m.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const h=new Ut(new pe(u),0);let m=new Vt(Ve);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),h),ne.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Fe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(n.mutations,(o=>{const u=new Ut(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Ut(n,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class _D{constructor(e){this.ri=e,this.docs=(function(){return new ut(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=hr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=hr();const h=n.path,m=new pe(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||QI(GI(E),s)<=0||(o.has(E.key)||Zh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ve(9500)}ii(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new vD(this)}getSize(e){return ne.resolve(this.size)}}class vD extends hD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class ED{constructor(e){this.persistence=e,this.si=new oa((n=>Vp(n)),Pp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new Bp,this.targetCount=0,this.ai=go.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new go(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}class IS{constructor(e,n){this.ui={},this.overlays={},this.ci=new Yh(0),this.li=!1,this.li=!0,this.hi=new gD,this.referenceDelegate=e(this),this.Pi=new ED(this),this.indexManager=new rD,this.remoteDocumentCache=(function(o){return new _D(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new nD(n),this.Ii=new mD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new yD(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new TD(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class TD extends YI{constructor(e){super(),this.currentSequenceNumber=e}}class qp{constructor(e){this.persistence=e,this.Ri=new Bp,this.Vi=null}static mi(e){return new qp(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=pe.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Se.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ch{constructor(e,n){this.persistence=e,this.pi=new oa((s=>JI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=cD(this,n)}static mi(e,n){return new Ch(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(s++,u.removeEntry(h,Se.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=uh(e.data.value)),n}br(e,n,s){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Hp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Hp(e,n.fromCache,s,o)}}class SD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class AD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return dC()?8:XI(Wt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new SD;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(to()<=Me.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",no(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(to()<=Me.DEBUG&&ue("QueryEngine","Query:",no(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(to()<=Me.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",no(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ni(n))):ne.resolve())}ys(e,n){if(jE(n))return ne.resolve(null);let s=Ni(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Wm(n,null,"F"),s=Ni(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Pe(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,h,p.readTime)?this.ys(e,Wm(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return jE(n)||o.isEqual(Se.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?ne.resolve(null):(to()<=Me.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),no(n)),this.vs(e,h,n,FI(o,$l)).next((m=>m)))}))}Ds(e,n){let s=new Vt(sS(e));return n.forEach(((o,u)=>{Zh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return to()<=Me.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",no(n)),this.ps.getDocumentsMatchingQuery(e,n,as.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const Fp="LocalStore",bD=3e8;class wD{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ut(Ve),this.xs=new oa((u=>Vp(u)),Pp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function RD(r,e,n,s){return new wD(r,e,n,s)}async function DS(r,e){const n=be(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=Pe();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function CD(r,e){const n=be(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,w=T.keys();let V=ne.resolve();return w.forEach((H=>{V=V.next((()=>E.getEntry(p,H))).next(($=>{const B=g.docVersions.get(H);Fe(B!==null,48541),$.version.compareTo(B)<0&&(T.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),E.addEntry($)))}))})),V.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Pe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function NS(r){const e=be(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function ID(r,e){const n=be(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const w=o.get(T);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let V=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?V=V.withResumeToken(Yt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,s)),o=o.insert(T,V),(function($,B,Z){return $.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=bD?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(w,V,E)&&m.push(n.Pi.updateTargetData(u,V))}));let p=hr(),g=Pe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(DD(u,h,e.documentUpdates).next((E=>{p=E.ks,g=E.qs}))),!s.isEqual(Se.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ne.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function DD(r,e,n){let s=Pe(),o=Pe();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let h=hr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):ue(Fp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function ND(r,e){const n=be(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Op),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function OD(r,e){const n=be(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new Wr(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function rp(r,e,n){const s=be(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!wo(h))throw h;ue(Fp,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function WE(r,e,n){const s=be(r);let o=Se.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,E){const T=be(p),w=T.xs.get(E);return w!==void 0?ne.resolve(T.Ms.get(w)):T.Pi.getTargetData(g,E)})(s,h,Ni(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:Se.min(),n?u:Pe()))).next((m=>(xD(s,g2(e),m),{documents:m,Qs:u})))))}function xD(r,e,n){let s=r.Os.get(e)||Se.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class eT{constructor(){this.activeTargetIds=S2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MD{constructor(){this.Mo=new eT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new eT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class VD{Oo(e){}shutdown(){}}const tT="ConnectivityMonitor";class nT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(tT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(tT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let th=null;function sp(){return th===null?th=(function(){return 268435456+Math.round(2147483648*Math.random())})():th++,"0x"+th.toString(16)}const Dm="RestConnection",PD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Sh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=sp(),m=this.zo(e,n.toUriEncodedString());ue(Dm,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=To(g);return this.Jo(e,m,p,s,E).then((T=>(ue(Dm,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw ho(Dm,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ao})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=PD[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class kD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const $t="WebChannelConnection";class UD extends LD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=sp();return new Promise(((m,p)=>{const g=new x0;g.setWithCredentials(!0),g.listenOnce(M0.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case lh.NO_ERROR:const T=g.getResponseJson();ue($t,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case lh.TIMEOUT:ue($t,`RPC '${e}' ${h} timed out`),p(new oe(te.DEADLINE_EXCEEDED,"Request time out"));break;case lh.HTTP_ERROR:const w=g.getStatus();if(ue($t,`RPC '${e}' ${h} failed with status:`,w,"response text:",g.getResponseText()),w>0){let V=g.getResponseJson();Array.isArray(V)&&(V=V[0]);const H=V?.error;if(H&&H.status&&H.message){const $=(function(Z){const ie=Z.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(ie)>=0?ie:te.UNKNOWN})(H.status);p(new oe($,H.message))}else p(new oe(te.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new oe(te.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ue($t,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);ue($t,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=sp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=L0(),m=P0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ue($t,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=h.createWebChannel(E,p);this.I_(T);let w=!1,V=!1;const H=new kD({Yo:B=>{V?ue($t,`Not sending because RPC '${e}' stream ${o} is closed:`,B):(w||(ue($t,`Opening RPC '${e}' stream ${o} transport.`),T.open(),w=!0),ue($t,`RPC '${e}' stream ${o} sending:`,B),T.send(B))},Zo:()=>T.close()}),$=(B,Z,ie)=>{B.listen(Z,(ee=>{try{ie(ee)}catch(le){setTimeout((()=>{throw le}),0)}}))};return $(T,Ll.EventType.OPEN,(()=>{V||(ue($t,`RPC '${e}' stream ${o} transport opened.`),H.o_())})),$(T,Ll.EventType.CLOSE,(()=>{V||(V=!0,ue($t,`RPC '${e}' stream ${o} transport closed`),H.a_(),this.E_(T))})),$(T,Ll.EventType.ERROR,(B=>{V||(V=!0,ho($t,`RPC '${e}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),H.a_(new oe(te.UNAVAILABLE,"The operation could not be completed")))})),$(T,Ll.EventType.MESSAGE,(B=>{if(!V){const Z=B.data[0];Fe(!!Z,16349);const ie=Z,ee=ie?.error||ie[0]?.error;if(ee){ue($t,`RPC '${e}' stream ${o} received error:`,ee);const le=ee.status;let fe=(function(b){const R=Rt[b];if(R!==void 0)return yS(R)})(le),ge=ee.message;fe===void 0&&(fe=te.INTERNAL,ge="Unknown error status: "+le+" with message "+ee.message),V=!0,H.a_(new oe(fe,ge)),T.close()}else ue($t,`RPC '${e}' stream ${o} received:`,Z),H.u_(Z)}})),$(m,V0.STAT_EVENT,(B=>{B.stat===Qm.PROXY?ue($t,`RPC '${e}' stream ${o} detected buffering proxy`):B.stat===Qm.NOPROXY&&ue($t,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{H.__()}),0),H}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Nm(){return typeof document<"u"?document:null}function nf(r){return new q2(r,!0)}class OS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const iT="PersistentStream";class xS{constructor(e,n,s,o,u,h,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new OS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(cr(n.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new oe(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(iT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ue(iT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zD extends xS{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=G2(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Se.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Se.min():h.readTime?Oi(h.readTime):Se.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=ip(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=Jm(p)?{documents:Y2(u,p)}:{query:X2(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=ES(u,h.resumeToken);const g=ep(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Se.min())>0){m.readTime=Rh(u,h.snapshotVersion.toTimestamp());const g=ep(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=J2(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=ip(this.serializer),n.removeTarget=e,this.q_(n)}}class jD extends xS{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=K2(e.writeResults,e.commitTime),s=Oi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=ip(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>Q2(this.serializer,s)))};this.q_(n)}}class BD{}class qD extends BD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,tp(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(te.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,tp(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new oe(te.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class HD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cr(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ta="RemoteStore";class FD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{ua(this)&&(ue(ta,"Restarting streams for network reachability change."),await(async function(p){const g=be(p);g.Ea.add(4),await pu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await rf(g)})(this))}))})),this.Ra=new HD(s,o)}}async function rf(r){if(ua(r))for(const e of r.da)await e(!0)}async function pu(r){for(const e of r.da)await e(!1)}function MS(r,e){const n=be(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Yp(n)?Kp(n):Co(n).O_()&&Qp(n,e))}function Gp(r,e){const n=be(r),s=Co(n);n.Ia.delete(e),s.O_()&&VS(n,e),n.Ia.size===0&&(s.O_()?s.L_():ua(n)&&n.Ra.set("Unknown"))}function Qp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Co(r).Y_(e)}function VS(r,e){r.Va.Ue(e),Co(r).Z_(e)}function Kp(r){r.Va=new U2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Co(r).start(),r.Ra.ua()}function Yp(r){return ua(r)&&!Co(r).x_()&&r.Ia.size>0}function ua(r){return be(r).Ea.size===0}function PS(r){r.Va=void 0}async function GD(r){r.Ra.set("Online")}async function QD(r){r.Ia.forEach(((e,n)=>{Qp(r,e)}))}async function KD(r,e){PS(r),Yp(r)?(r.Ra.ha(e),Kp(r)):r.Ra.set("Unknown")}async function YD(r,e,n){if(r.Ra.set("Online"),e instanceof vS&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){ue(ta,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ih(r,s)}else if(e instanceof fh?r.Va.Ze(e):e instanceof _S?r.Va.st(e):r.Va.tt(e),!n.isEqual(Se.min()))try{const s=await NS(r.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Yt.EMPTY_BYTE_STRING,E.snapshotVersion)),VS(u,p);const T=new Wr(E.target,p,g,E.sequenceNumber);Qp(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ue(ta,"Failed to raise snapshot:",s),await Ih(r,s)}}async function Ih(r,e,n){if(!wo(e))throw e;r.Ea.add(1),await pu(r),r.Ra.set("Offline"),n||(n=()=>NS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ue(ta,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await rf(r)}))}function LS(r,e){return e().catch((n=>Ih(r,n,e)))}async function sf(r){const e=be(r),n=cs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Op;for(;XD(e);)try{const o=await ND(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,$D(e,o)}catch(o){await Ih(e,o)}kS(e)&&US(e)}function XD(r){return ua(r)&&r.Ta.length<10}function $D(r,e){r.Ta.push(e);const n=cs(r);n.O_()&&n.X_&&n.ea(e.mutations)}function kS(r){return ua(r)&&!cs(r).x_()&&r.Ta.length>0}function US(r){cs(r).start()}async function JD(r){cs(r).ra()}async function ZD(r){const e=cs(r);for(const n of r.Ta)e.ea(n.mutations)}async function WD(r,e,n){const s=r.Ta.shift(),o=Up.from(s,e,n);await LS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await sf(r)}async function eN(r,e){e&&cs(r).X_&&await(async function(s,o){if((function(h){return P2(h)&&h!==te.ABORTED})(o.code)){const u=s.Ta.shift();cs(s).B_(),await LS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await sf(s)}})(r,e),kS(r)&&US(r)}async function rT(r,e){const n=be(r);n.asyncQueue.verifyOperationInProgress(),ue(ta,"RemoteStore received new credentials");const s=ua(n);n.Ea.add(3),await pu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await rf(n)}async function tN(r,e){const n=be(r);e?(n.Ea.delete(2),await rf(n)):e||(n.Ea.add(2),await pu(n),n.Ra.set("Unknown"))}function Co(r){return r.ma||(r.ma=(function(n,s,o){const u=be(n);return u.sa(),new zD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:GD.bind(null,r),t_:QD.bind(null,r),r_:KD.bind(null,r),H_:YD.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Yp(r)?Kp(r):r.Ra.set("Unknown")):(await r.ma.stop(),PS(r))}))),r.ma}function cs(r){return r.fa||(r.fa=(function(n,s,o){const u=be(n);return u.sa(),new jD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:JD.bind(null,r),r_:eN.bind(null,r),ta:ZD.bind(null,r),na:WD.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await sf(r)):(await r.fa.stop(),r.Ta.length>0&&(ue(ta,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Xp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new Xp(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $p(r,e){if(cr("AsyncQueue",`${e}: ${r}`),wo(r))return new oe(te.UNAVAILABLE,`${e}: ${r}`);throw r}class so{static emptySet(e){return new so(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||pe.comparator(n.key,s.key):(n,s)=>pe.comparator(n.key,s.key),this.keyedMap=kl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof so)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new so;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class sT{constructor(){this.ga=new ut(pe.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class yo{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new yo(e,n,so.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class nN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class iN{constructor(){this.queries=aT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=be(n),u=o.queries;o.queries=aT(),u.forEach(((h,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new oe(te.ABORTED,"Firestore shutting down"))}}function aT(){return new oa((r=>rS(r)),Jh)}async function rN(r,e){const n=be(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new nN,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=$p(h,`Initialization of query '${no(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Jp(n)}async function sN(r,e){const n=be(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function aN(r,e){const n=be(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&Jp(n)}function oN(r,e,n){const s=be(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Jp(r){r.Ca.forEach((e=>{e.next()}))}var ap,oT;(oT=ap||(ap={})).Ma="default",oT.Cache="cache";class lN{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new yo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ap.Cache}}class zS{constructor(e){this.key=e}}class jS{constructor(e){this.key=e}}class uN{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=sS(e),this.tu=new so(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new sT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const w=o.get(E),V=Zh(this.query,T)?T:null,H=!!w&&this.mutatedKeys.has(w.key),$=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let B=!1;w&&V?w.data.isEqual(V.data)?H!==$&&(s.track({type:3,doc:V}),B=!0):this.su(w,V)||(s.track({type:2,doc:V}),B=!0,(p&&this.eu(V,p)>0||g&&this.eu(V,g)<0)&&(m=!0)):!w&&V?(s.track({type:0,doc:V}),B=!0):w&&!V&&(s.track({type:1,doc:w}),B=!0,(p||g)&&(m=!0)),B&&(V?(h=h.add(V),u=$?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,T)=>(function(V,H){const $=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:B})}};return $(V)-$(H)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new yo(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new jS(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new zS(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return yo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Zp="SyncEngine";class cN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class hN{constructor(e){this.key=e,this.hu=!1}}class fN{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new oa((m=>rS(m)),Jh),this.Iu=new Map,this.Eu=new Set,this.du=new ut(pe.comparator),this.Au=new Map,this.Ru=new Bp,this.Vu={},this.mu=new Map,this.fu=go.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dN(r,e,n=!0){const s=QS(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await BS(s,e,n,!0),o}async function mN(r,e){const n=QS(r);await BS(n,e,!0,!1)}async function BS(r,e,n,s){const o=await OD(r.localStore,Ni(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await pN(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&MS(r.remoteStore,o),m}async function pN(r,e,n,s,o){r.pu=(T,w,V)=>(async function($,B,Z,ie){let ee=B.view.ru(Z);ee.Cs&&(ee=await WE($.localStore,B.query,!1).then((({documents:C})=>B.view.ru(C,ee))));const le=ie&&ie.targetChanges.get(B.targetId),fe=ie&&ie.targetMismatches.get(B.targetId)!=null,ge=B.view.applyChanges(ee,$.isPrimaryClient,le,fe);return uT($,B.targetId,ge.au),ge.snapshot})(r,T,w,V);const u=await WE(r.localStore,e,!0),h=new uN(e,u.Qs),m=h.ru(u.documents),p=mu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=h.applyChanges(m,r.isPrimaryClient,p);uT(r,n,g.au);const E=new cN(e,n,h);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function gN(r,e,n){const s=be(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!Jh(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await rp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Gp(s.remoteStore,o.targetId),op(s,o.targetId)})).catch(bo)):(op(s,o.targetId),await rp(s.localStore,o.targetId,!0))}async function yN(r,e){const n=be(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Gp(n.remoteStore,s.targetId))}async function _N(r,e,n){const s=wN(r);try{const o=await(function(h,m){const p=be(h),g=it.now(),E=m.reduce(((V,H)=>V.add(H.key)),Pe());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let H=hr(),$=Pe();return p.Ns.getEntries(V,E).next((B=>{H=B,H.forEach(((Z,ie)=>{ie.isValidDocument()||($=$.add(Z))}))})).next((()=>p.localDocuments.getOverlayedDocuments(V,H))).next((B=>{T=B;const Z=[];for(const ie of m){const ee=N2(ie,T.get(ie.key).overlayedDocument);ee!=null&&Z.push(new la(ie.key,ee,$0(ee.value.mapValue),ar.exists(!0)))}return p.mutationQueue.addMutationBatch(V,g,Z,m)})).next((B=>{w=B;const Z=B.applyToLocalDocumentSet(T,$);return p.documentOverlayCache.saveOverlays(V,B.batchId,Z)}))})).then((()=>({batchId:w.batchId,changes:oS(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new ut(Ve)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g})(s,o.batchId,n),await gu(s,o.changes),await sf(s.remoteStore)}catch(o){const u=$p(o,"Failed to persist write");n.reject(u)}}async function qS(r,e){const n=be(r);try{const s=await ID(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Fe(h.hu,14607):o.removedDocuments.size>0&&(Fe(h.hu,42227),h.hu=!1))})),await gu(n,s,e)}catch(s){await bo(s)}}function lT(r,e,n){const s=be(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=be(h);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const w of T.Sa)w.va(m)&&(g=!0)})),g&&Jp(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function vN(r,e,n){const s=be(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ut(pe.comparator);h=h.insert(u,Zt.newNoDocument(u,Se.min()));const m=Pe().add(u),p=new tf(Se.min(),new Map,new ut(Ve),h,m);await qS(s,p),s.du=s.du.remove(u),s.Au.delete(e),Wp(s)}else await rp(s.localStore,e,!1).then((()=>op(s,e,n))).catch(bo)}async function EN(r,e){const n=be(r),s=e.batch.batchId;try{const o=await CD(n.localStore,e);FS(n,s,null),HS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await gu(n,o)}catch(o){await bo(o)}}async function TN(r,e,n){const s=be(r);try{const o=await(function(h,m){const p=be(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Fe(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);FS(s,e,n),HS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await gu(s,o)}catch(o){await bo(o)}}function HS(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function FS(r,e,n){const s=be(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function op(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||GS(r,s)}))}function GS(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Gp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Wp(r))}function uT(r,e,n){for(const s of n)s instanceof zS?(r.Ru.addReference(s.key,e),SN(r,s)):s instanceof jS?(ue(Zp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||GS(r,s.key)):ve(19791,{wu:s})}function SN(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ue(Zp,"New document in limbo: "+n),r.Eu.add(s),Wp(r))}function Wp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new pe(et.fromString(e)),s=r.fu.next();r.Au.set(s,new hN(n)),r.du=r.du.insert(n,s),MS(r.remoteStore,new Wr(Ni(Lp(n.path)),s,"TargetPurposeLimboResolution",Yh.ce))}}async function gu(r,e,n){const s=be(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Hp.As(p.targetId,g);u.push(E)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(p,g){const E=be(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ne.forEach(g,(w=>ne.forEach(w.Es,(V=>E.persistence.referenceDelegate.addReference(T,w.targetId,V))).next((()=>ne.forEach(w.ds,(V=>E.persistence.referenceDelegate.removeReference(T,w.targetId,V)))))))))}catch(T){if(!wo(T))throw T;ue(Fp,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const V=E.Ms.get(w),H=V.snapshotVersion,$=V.withLastLimboFreeSnapshotVersion(H);E.Ms=E.Ms.insert(w,$)}}})(s.localStore,u))}async function AN(r,e){const n=be(r);if(!n.currentUser.isEqual(e)){ue(Zp,"User change. New user:",e.toKey());const s=await DS(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new oe(te.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await gu(n,s.Ls)}}function bN(r,e){const n=be(r),s=n.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let o=Pe();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function QS(r){const e=be(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=qS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vN.bind(null,e),e.Pu.H_=aN.bind(null,e.eventManager),e.Pu.yu=oN.bind(null,e.eventManager),e}function wN(r){const e=be(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TN.bind(null,e),e}class Dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return RD(this.persistence,new AD,e.initialUser,this.serializer)}Cu(e){return new IS(qp.mi,this.serializer)}Du(e){return new MD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dh.provider={build:()=>new Dh};class RN extends Dh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof Ch,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new lD(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new IS((s=>Ch.mi(s,n)),this.serializer)}}class lp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>lT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=AN.bind(null,this.syncEngine),await tN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new iN})()}createDatastore(e){const n=nf(e.databaseInfo.databaseId),s=(function(u){return new UD(u)})(e.databaseInfo);return(function(u,h,m,p){return new qD(u,h,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new FD(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>lT(this.syncEngine,n,0)),(function(){return nT.v()?new nT:new VD})())}createSyncEngine(e,n){return(function(o,u,h,m,p,g,E){const T=new fN(o,u,h,m,p,g);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=be(n);ue(ta,"RemoteStore shutting down."),s.Ea.add(5),await pu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}lp.provider={build:()=>new lp};class CN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):cr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const hs="FirestoreClient";class IN{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=Np.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{ue(hs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(ue(hs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=$p(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Om(r,e){r.asyncQueue.verifyOperationInProgress(),ue(hs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await DS(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function cT(r,e){r.asyncQueue.verifyOperationInProgress();const n=await DN(r);ue(hs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>rT(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>rT(e.remoteStore,o))),r._onlineComponents=e}async function DN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(hs,"Using user provided OfflineComponentProvider");try{await Om(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ho("Error using user provided cache. Falling back to memory cache: "+n),await Om(r,new Dh)}}else ue(hs,"Using default OfflineComponentProvider"),await Om(r,new RN(void 0));return r._offlineComponents}async function KS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(hs,"Using user provided OnlineComponentProvider"),await cT(r,r._uninitializedComponentsProvider._online)):(ue(hs,"Using default OnlineComponentProvider"),await cT(r,new lp))),r._onlineComponents}function NN(r){return KS(r).then((e=>e.syncEngine))}async function hT(r){const e=await KS(r),n=e.eventManager;return n.onListen=dN.bind(null,e.syncEngine),n.onUnlisten=gN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=mN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=yN.bind(null,e.syncEngine),n}function YS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const fT=new Map;const XS="firestore.googleapis.com",dT=!0;class mT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XS,this.ssl=dT}else this.host=e.host,this.ssl=e.ssl??dT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=CS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aD)throw new oe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class af{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new MI;switch(s.type){case"firstParty":return new kI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=fT.get(n);s&&(ue("ComponentProvider","Removing Datastore"),fT.delete(n),s.terminate())})(this),Promise.resolve()}}function ON(r,e,n,s={}){r=ql(r,af);const o=To(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(A0(`https://${m}`),b0("Firestore",!0)),u.host!==XS&&u.host!==m&&ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!Zs(p,h)&&(r._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Jt.MOCK_USER;else{g=rC(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new oe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Jt(T)}r._authCredentials=new VI(new U0(g,E))}}class ca{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ca(this.firestore,e,this._query)}}class Mt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(fu(n,Mt._jsonSchema))return new Mt(e,s||null,new pe(et.fromString(n.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:It("string",Mt._jsonSchemaVersion),referencePath:It("string")};class ss extends ca{constructor(e,n,s){super(e,n,Lp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new pe(e))}withConverter(e){return new ss(this.firestore,e,this._path)}}function pT(r,e,...n){if(r=rn(r),z0("collection","path",e),r instanceof af){const s=et.fromString(e,...n);return RE(s),new ss(r,null,s)}{if(!(r instanceof Mt||r instanceof ss))throw new oe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return RE(s),new ss(r.firestore,null,s)}}function xN(r,e,...n){if(r=rn(r),arguments.length===1&&(e=Np.newId()),z0("doc","path",e),r instanceof af){const s=et.fromString(e,...n);return wE(s),new Mt(r,null,new pe(s))}{if(!(r instanceof Mt||r instanceof ss))throw new oe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return wE(s),new Mt(r.firestore,r instanceof ss?r.converter:null,new pe(s))}}const gT="AsyncQueue";class yT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new OS(this,"async_queue_retry"),this._c=()=>{const s=Nm();s&&ue(gT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Nm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Nm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Xs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!wo(e))throw e;ue(gT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,cr("INTERNAL UNHANDLED ERROR: ",_T(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Xp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:_T(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function _T(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function vT(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class Nh extends af{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new yT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yT(e),this._firestoreClient=void 0,await e}}}function MN(r,e){const n=typeof r=="object"?r:I0(),s=typeof r=="string"?r:Sh,o=Ip(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=nC("firestore");u&&ON(o,...u)}return o}function $S(r){if(r._terminated)throw new oe(te.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||VN(r),r._firestoreClient}function VN(r){const e=r._freezeSettings(),n=(function(o,u,h,m){return new e2(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,YS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new IN(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jn(Yt.fromBase64String(e))}catch(n){throw new oe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new jn(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fu(e,jn._jsonSchema))return jn.fromBase64String(e.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:It("string",jn._jsonSchemaVersion),bytes:It("string")};class eg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class tg{constructor(e){this._methodName=e}}class xi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xi._jsonSchemaVersion}}static fromJSON(e){if(fu(e,xi._jsonSchema))return new xi(e.latitude,e.longitude)}}xi._jsonSchemaVersion="firestore/geoPoint/1.0",xi._jsonSchema={type:It("string",xi._jsonSchemaVersion),latitude:It("number"),longitude:It("number")};class Mi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fu(e,Mi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Mi(e.vectorValues);throw new oe(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mi._jsonSchemaVersion="firestore/vectorValue/1.0",Mi._jsonSchema={type:It("string",Mi._jsonSchemaVersion),vectorValues:It("object")};const PN=/^__.*__$/;class LN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new la(e,this.data,this.fieldMask,n,this.fieldTransforms):new du(e,this.data,n,this.fieldTransforms)}}function JS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:r})}}class ng{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ng({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Oh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(JS(this.Ac)&&PN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class kN{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||nf(e)}Cc(e,n,s,o=!1){return new ng({Ac:e,methodName:n,Dc:s,path:Kt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ZS(r){const e=r._freezeSettings(),n=nf(r._databaseId);return new kN(r._databaseId,!!e.ignoreUndefinedProperties,n)}function UN(r,e,n,s,o,u={}){const h=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);tA("Data must be an object, but it was:",h,s);const m=WS(s,h);let p,g;if(u.merge)p=new ni(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const w=jN(e,T,n);if(!h.contains(w))throw new oe(te.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);qN(E,w)||E.push(w)}p=new ni(E),g=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=h.fieldTransforms;return new LN(new zn(m),p,g)}class ig extends tg{_toFieldTransform(e){return new R2(e.path,new tu)}isEqual(e){return e instanceof ig}}function zN(r,e,n,s=!1){return rg(n,r.Cc(s?4:3,e))}function rg(r,e){if(eA(r=rn(r)))return tA("Unsupported field value:",e,r),WS(r,e);if(r instanceof tg)return(function(s,o){if(!JS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=rg(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=rn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return A2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=it.fromDate(s);return{timestampValue:Rh(o.serializer,u)}}if(s instanceof it){const u=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Rh(o.serializer,u)}}if(s instanceof xi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof jn)return{bytesValue:ES(o.serializer,s._byteString)};if(s instanceof Mt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:jp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Mi)return(function(h,m){return{mapValue:{fields:{[Y0]:{stringValue:X0},[Ah]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return kp(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Kh(s)}`)})(r,e)}function WS(r,e){const n={};return q0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):aa(r,((s,o)=>{const u=rg(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function eA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof it||r instanceof xi||r instanceof jn||r instanceof Mt||r instanceof tg||r instanceof Mi)}function tA(r,e,n){if(!eA(n)||!j0(n)){const s=Kh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function jN(r,e,n){if((e=rn(e))instanceof eg)return e._internalPath;if(typeof e=="string")return nA(r,e);throw Oh("Field path arguments must be of type string or ",r,!1,void 0,n)}const BN=new RegExp("[~\\*/\\[\\]]");function nA(r,e,n){if(e.search(BN)>=0)throw Oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new eg(...e.split("."))._internalPath}catch{throw Oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Oh(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new oe(te.INVALID_ARGUMENT,m+r+p)}function qN(r,e){return r.some((n=>n.isEqual(e)))}class iA{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(of("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class HN extends iA{data(){return super.data()}}function of(r,e){return typeof e=="string"?nA(r,e):e instanceof eg?e._internalPath:e._delegate._internalPath}function FN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new oe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sg{}class rA extends sg{}function GN(r,e,...n){let s=[];e instanceof sg&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((p=>p instanceof ag)).length,m=u.filter((p=>p instanceof lf)).length;if(h>1||h>0&&m>0)throw new oe(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class lf extends rA{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new lf(e,n,s)}_apply(e){const n=this._parse(e);return sA(e._query,n),new ca(e.firestore,e.converter,Zm(e._query,n))}_parse(e){const n=ZS(e.firestore);return(function(u,h,m,p,g,E,T){let w;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new oe(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){TT(T,E);const H=[];for(const $ of T)H.push(ET(p,u,$));w={arrayValue:{values:H}}}else w=ET(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||TT(T,E),w=zN(m,h,T,E==="in"||E==="not-in");return Ct.create(g,E,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function QN(r,e,n){const s=e,o=of("where",r);return lf._create(o,s,n)}class ag extends sg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ag(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:si.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)sA(h,p),h=Zm(h,p)})(e._query,n),new ca(e.firestore,e.converter,Zm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class og extends rA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new og(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new oe(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new eu(u,h)})(e._query,this._field,this._direction);return new ca(e.firestore,e.converter,(function(o,u){const h=o.explicitOrderBy.concat([u]);return new Ro(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function KN(r,e="asc"){const n=e,s=of("orderBy",r);return og._create(s,n)}function ET(r,e,n){if(typeof(n=rn(n))=="string"){if(n==="")throw new oe(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iS(e)&&n.indexOf("/")!==-1)throw new oe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(et.fromString(n));if(!pe.isDocumentKey(s))throw new oe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return VE(r,new pe(s))}if(n instanceof Mt)return VE(r,n._key);throw new oe(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kh(n)}.`)}function TT(r,e){if(!Array.isArray(r)||r.length===0)throw new oe(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sA(r,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class YN{convertValue(e,n="none"){switch(us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return aa(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Ah].arrayValue?.values?.map((s=>gt(s.doubleValue)));return new Mi(n)}convertGeoPoint(e){return new xi(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=$h(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const n=os(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=et.fromString(e);Fe(RS(s),9688,{name:e});const o=new Zl(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(n)||cr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function XN(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class zl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $s extends iA{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(of("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=$s._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}$s._jsonSchemaVersion="firestore/documentSnapshot/1.0",$s._jsonSchema={type:It("string",$s._jsonSchemaVersion),bundleSource:It("string","DocumentSnapshot"),bundleName:It("string"),bundle:It("string")};class dh extends $s{data(e={}){return super.data(e)}}class ao{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new zl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new dh(this._firestore,this._userDataWriter,s.key,s,new zl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new dh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new zl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new dh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new zl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:$N(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ao._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Np.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $N(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:r})}}ao._jsonSchemaVersion="firestore/querySnapshot/1.0",ao._jsonSchema={type:It("string",ao._jsonSchemaVersion),bundleSource:It("string","QuerySnapshot"),bundleName:It("string"),bundle:It("string")};class aA extends YN{constructor(e){super(),this.firestore=e}convertBytes(e){return new jn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,n)}}function JN(r,e){const n=ql(r.firestore,Nh),s=xN(r),o=XN(r.converter,e);return WN(n,[UN(ZS(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ar.exists(!1))]).then((()=>s))}function ZN(r,...e){r=rn(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||vT(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(vT(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,h,m;if(r instanceof Mt)h=ql(r.firestore,Nh),m=Lp(r._key.path),u={next:p=>{e[s]&&e[s](eO(h,r,p))},error:e[s+1],complete:e[s+2]};else{const p=ql(r,ca);h=ql(p.firestore,Nh),m=p._query;const g=new aA(h);u={next:E=>{e[s]&&e[s](new ao(h,g,p,E))},error:e[s+1],complete:e[s+2]},FN(r._query)}return(function(g,E,T,w){const V=new CN(w),H=new lN(E,V,T);return g.asyncQueue.enqueueAndForget((async()=>rN(await hT(g),H))),()=>{V.Nu(),g.asyncQueue.enqueueAndForget((async()=>sN(await hT(g),H)))}})($S(h),m,o,u)}function WN(r,e){return(function(s,o){const u=new Xs;return s.asyncQueue.enqueueAndForget((async()=>_N(await NN(s),o,u))),u.promise})($S(r),e)}function eO(r,e,n){const s=n.docs.get(e._key),o=new aA(r);return new $s(r,o,e._key,s,new zl(n.hasPendingWrites,n.fromCache),e.converter)}function tO(){return new ig("serverTimestamp")}(function(e,n=!0){(function(o){Ao=o})(So),co(new Ws("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Nh(new PI(s.getProvider("auth-internal")),new UI(h,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new oe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(g.options.projectId,E)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),is(TE,SE,e),is(TE,SE,"esm2020")})();function oA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nO=oA,lA=new cu("auth","Firebase",oA());const xh=new Rp("@firebase/auth");function iO(r,...e){xh.logLevel<=Me.WARN&&xh.warn(`Auth (${So}): ${r}`,...e)}function mh(r,...e){xh.logLevel<=Me.ERROR&&xh.error(`Auth (${So}): ${r}`,...e)}function Li(r,...e){throw ug(r,...e)}function ri(r,...e){return ug(r,...e)}function lg(r,e,n){const s={...nO(),[e]:n};return new cu("auth","Firebase",s).create(e,{appName:r.name})}function Js(r){return lg(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rO(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Li(r,"argument-error"),lg(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ug(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return lA.create(r,...e)}function Ee(r,e,...n){if(!r)throw ug(e,...n)}function ir(r){const e="INTERNAL ASSERTION FAILED: "+r;throw mh(e),new Error(e)}function fr(r,e){r||ir(e)}function up(){return typeof self<"u"&&self.location?.href||""}function sO(){return ST()==="http:"||ST()==="https:"}function ST(){return typeof self<"u"&&self.location?.protocol||null}function aO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sO()||cC()||"connection"in navigator)?navigator.onLine:!0}function oO(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class yu{constructor(e,n){this.shortDelay=e,this.longDelay=n,fr(n>e,"Short delay should be less than long delay!"),this.isMobile=oC()||hC()}get(){return aO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function cg(r,e){fr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class uA{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const lO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const uO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cO=new yu(3e4,6e4);function hg(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Io(r,e,n,s,o={}){return cA(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=hu({key:r.config.apiKey,...h}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return uC()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&To(r.emulatorConfig.host)&&(g.credentials="include"),uA.fetch()(await hA(r,r.config.apiHost,n,m),g)})}async function cA(r,e,n){r._canInitEmulator=!1;const s={...lO,...e};try{const o=new fO(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw nh(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw nh(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw nh(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw nh(r,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw lg(r,E,g);Li(r,E)}}catch(o){if(o instanceof pr)throw o;Li(r,"network-request-failed",{message:String(o)})}}async function hO(r,e,n,s,o={}){const u=await Io(r,e,n,s,o);return"mfaPendingCredential"in u&&Li(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function hA(r,e,n,s){const o=`${e}${n}?${s}`,u=r,h=u.config.emulator?cg(r.config,o):`${r.config.apiScheme}://${o}`;return uO.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}class fO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ri(this.auth,"network-request-failed")),cO.get())})}}function nh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ri(r,e,s);return o.customData._tokenResponse=n,o}async function dO(r,e){return Io(r,"POST","/v1/accounts:delete",e)}async function Mh(r,e){return Io(r,"POST","/v1/accounts:lookup",e)}function Kl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mO(r,e=!1){const n=rn(r),s=await n.getIdToken(e),o=fg(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:Kl(xm(o.auth_time)),issuedAtTime:Kl(xm(o.iat)),expirationTime:Kl(xm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function xm(r){return Number(r)*1e3}function fg(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return mh("JWT malformed, contained fewer than 3 sections"),null;try{const o=v0(n);return o?JSON.parse(o):(mh("Failed to decode base64 JWT payload"),null)}catch(o){return mh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function AT(r){const e=fg(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ru(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof pr&&pO(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function pO({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class gO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class cp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kl(this.lastLoginAt),this.creationTime=Kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Vh(r){const e=r.auth,n=await r.getIdToken(),s=await ru(r,Mh(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?fA(o.providerUserInfo):[],h=_O(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!h?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new cp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function yO(r){const e=rn(r);await Vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _O(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function fA(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function vO(r,e){const n=await cA(r,{},async()=>{const s=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await hA(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&To(r.emulatorConfig.host)&&(p.credentials="include"),uA.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function EO(r,e){return Io(r,"POST","/v2/accounts:revokeToken",hg(r,e))}class oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):AT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=AT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await vO(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new oo;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oo,this.toJSON())}_performRefresh(){return ir("not implemented")}}function Xr(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ii{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new gO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new cp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ru(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return mO(this,e)}reload(){return yO(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ii({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Vh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(Js(this.auth));const e=await this.getIdToken();return await ru(this,dO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:V,providerData:H,stsTokenManager:$}=n;Ee(T&&$,e,"internal-error");const B=oo.fromJSON(this.name,$);Ee(typeof T=="string",e,"internal-error"),Xr(s,e.name),Xr(o,e.name),Ee(typeof w=="boolean",e,"internal-error"),Ee(typeof V=="boolean",e,"internal-error"),Xr(u,e.name),Xr(h,e.name),Xr(m,e.name),Xr(p,e.name),Xr(g,e.name),Xr(E,e.name);const Z=new ii({uid:T,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:V,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:B,createdAt:g,lastLoginAt:E});return H&&Array.isArray(H)&&(Z.providerData=H.map(ie=>({...ie}))),p&&(Z._redirectEventId=p),Z}static async _fromIdTokenResponse(e,n,s=!1){const o=new oo;o.updateFromServerResponse(n);const u=new ii({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Vh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?fA(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new oo;m.updateFromIdToken(s);const p=new ii({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new cp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const bT=new Map;function rr(r){fr(r instanceof Function,"Expected a class definition");let e=bT.get(r);return e?(fr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,bT.set(r,e),e)}class dA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}dA.type="NONE";const wT=dA;function ph(r,e,n){return`firebase:${r}:${e}:${n}`}class lo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ph(this.userKey,o.apiKey,u),this.fullPersistenceKey=ph("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Mh(this.auth,{idToken:e}).catch(()=>{});return n?ii._fromGetAccountInfoResponse(this.auth,n,e):null}return ii._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new lo(rr(wT),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||rr(wT);const h=ph(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(h);if(E){let T;if(typeof E=="string"){const w=await Mh(e,{idToken:E}).catch(()=>{});if(!w)break;T=await ii._fromGetAccountInfoResponse(e,w,E)}else T=ii._fromJSON(e,E);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new lo(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new lo(u,e,s))}}function RT(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vA(e))return"Blackberry";if(EA(e))return"Webos";if(pA(e))return"Safari";if((e.includes("chrome/")||gA(e))&&!e.includes("edge/"))return"Chrome";if(_A(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function mA(r=Wt()){return/firefox\//i.test(r)}function pA(r=Wt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gA(r=Wt()){return/crios\//i.test(r)}function yA(r=Wt()){return/iemobile/i.test(r)}function _A(r=Wt()){return/android/i.test(r)}function vA(r=Wt()){return/blackberry/i.test(r)}function EA(r=Wt()){return/webos/i.test(r)}function dg(r=Wt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function TO(r=Wt()){return dg(r)&&!!window.navigator?.standalone}function SO(){return fC()&&document.documentMode===10}function TA(r=Wt()){return dg(r)||_A(r)||EA(r)||vA(r)||/windows phone/i.test(r)||yA(r)}function SA(r,e=[]){let n;switch(r){case"Browser":n=RT(Wt());break;case"Worker":n=`${RT(Wt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${So}/${s}`}class AO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function bO(r,e={}){return Io(r,"GET","/v2/passwordPolicy",hg(r,e))}const wO=6;class RO{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??wO,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class CO{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CT(this),this.idTokenSubscription=new CT(this),this.beforeStateQueue=new AO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=rr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await lo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Mh(this,{idToken:e}),s=await ii._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ei(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ei(this.app))return Promise.reject(Js(this));const n=e?rn(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(Js(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ei(this.app)?Promise.reject(Js(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bO(this),n=new RO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await EO(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&rr(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await lo.create(this,[rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&iO(`Error while retrieving App Check token: ${e.error}`),e?.token}}function uf(r){return rn(r)}class CT{constructor(e){this.auth=e,this.observer=null,this.addObserver=EC(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let mg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IO(r){mg=r}function DO(r){return mg.loadJS(r)}function NO(){return mg.gapiScript}function OO(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function xO(r,e){const n=Ip(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Zs(u,e??{}))return o;Li(o,"already-initialized")}return n.initialize({options:e})}function MO(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(rr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function VO(r,e,n){const s=uf(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=AA(e),{host:h,port:m}=PO(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(Zs(g,s.config.emulator)&&Zs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,To(h)?(A0(`${u}//${h}${p}`),b0("Auth",!0)):LO()}function AA(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function PO(r){const e=AA(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:IT(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:IT(h)}}}function IT(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function LO(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class bA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ir("not implemented")}_getIdTokenResponse(e){return ir("not implemented")}_linkToIdToken(e,n){return ir("not implemented")}_getReauthenticationResolver(e){return ir("not implemented")}}async function uo(r,e){return hO(r,"POST","/v1/accounts:signInWithIdp",hg(r,e))}const kO="http://localhost";class na extends bA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new na(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Li("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new na(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return uo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,uo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,uo(e,n)}buildRequest(){const e={requestUri:kO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hu(n)}return e}}class pg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class _u extends pg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class $r extends _u{constructor(){super("facebook.com")}static credential(e){return na._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $r.credential(e.oauthAccessToken)}catch{return null}}}$r.FACEBOOK_SIGN_IN_METHOD="facebook.com";$r.PROVIDER_ID="facebook.com";class nr extends _u{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return na._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return nr.credential(n,s)}catch{return null}}}nr.GOOGLE_SIGN_IN_METHOD="google.com";nr.PROVIDER_ID="google.com";class Jr extends _u{constructor(){super("github.com")}static credential(e){return na._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.GITHUB_SIGN_IN_METHOD="github.com";Jr.PROVIDER_ID="github.com";class Zr extends _u{constructor(){super("twitter.com")}static credential(e,n){return na._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Zr.credential(n,s)}catch{return null}}}Zr.TWITTER_SIGN_IN_METHOD="twitter.com";Zr.PROVIDER_ID="twitter.com";class _o{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ii._fromIdTokenResponse(e,s,o),h=DT(s);return new _o({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=DT(s);return new _o({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function DT(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Ph extends pr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ph.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Ph(e,n,s,o)}}function wA(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ph._fromErrorAndOperation(r,u,e,s):u})}async function UO(r,e,n=!1){const s=await ru(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return _o._forOperation(r,"link",s)}async function zO(r,e,n=!1){const{auth:s}=r;if(ei(s.app))return Promise.reject(Js(s));const o="reauthenticate";try{const u=await ru(r,wA(s,o,e,r),n);Ee(u.idToken,s,"internal-error");const h=fg(u.idToken);Ee(h,s,"internal-error");const{sub:m}=h;return Ee(r.uid===m,s,"user-mismatch"),_o._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Li(s,"user-mismatch"),u}}async function jO(r,e,n=!1){if(ei(r.app))return Promise.reject(Js(r));const s="signIn",o=await wA(r,s,e),u=await _o._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function BO(r,e,n,s){return rn(r).onIdTokenChanged(e,n,s)}function qO(r,e,n){return rn(r).beforeAuthStateChanged(e,n)}function HO(r,e,n,s){return rn(r).onAuthStateChanged(e,n,s)}function FO(r){return rn(r).signOut()}const Lh="__sak";class RA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lh,"1"),this.storage.removeItem(Lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const GO=1e3,QO=10;class CA extends RA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=TA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);SO()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,QO):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},GO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}CA.type="LOCAL";const KO=CA;class IA extends RA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}IA.type="SESSION";const DA=IA;function YO(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class cf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new cf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await YO(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cf.receivers=[];function gg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class XO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=gg("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Vi(){return window}function $O(r){Vi().location.href=r}function NA(){return typeof Vi().WorkerGlobalScope<"u"&&typeof Vi().importScripts=="function"}async function JO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZO(){return navigator?.serviceWorker?.controller||null}function WO(){return NA()?self:null}const OA="firebaseLocalStorageDb",ex=1,kh="firebaseLocalStorage",xA="fbase_key";class vu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hf(r,e){return r.transaction([kh],e?"readwrite":"readonly").objectStore(kh)}function tx(){const r=indexedDB.deleteDatabase(OA);return new vu(r).toPromise()}function hp(){const r=indexedDB.open(OA,ex);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(kh,{keyPath:xA})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(kh)?e(s):(s.close(),await tx(),e(await hp()))})})}async function NT(r,e,n){const s=hf(r,!0).put({[xA]:e,value:n});return new vu(s).toPromise()}async function nx(r,e){const n=hf(r,!1).get(e),s=await new vu(n).toPromise();return s===void 0?null:s.value}function OT(r,e){const n=hf(r,!0).delete(e);return new vu(n).toPromise()}const ix=800,rx=3;class MA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>rx)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cf._getInstance(WO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await JO(),!this.activeServiceWorker)return;this.sender=new XO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ZO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hp();return await NT(e,Lh,"1"),await OT(e,Lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>NT(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>nx(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>OT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=hf(o,!1).getAll();return new vu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ix)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}MA.type="LOCAL";const sx=MA;new yu(3e4,6e4);function VA(r,e){return e?rr(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class yg extends bA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return uo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ax(r){return jO(r.auth,new yg(r),r.bypassAuthState)}function ox(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),zO(n,new yg(r),r.bypassAuthState)}async function lx(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),UO(n,new yg(r),r.bypassAuthState)}class PA{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ax;case"linkViaPopup":case"linkViaRedirect":return lx;case"reauthViaPopup":case"reauthViaRedirect":return ox;default:Li(this.auth,"internal-error")}}resolve(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ux=new yu(2e3,1e4);async function cx(r,e,n){if(ei(r.app))return Promise.reject(ri(r,"operation-not-supported-in-this-environment"));const s=uf(r);rO(r,e,pg);const o=VA(s,n);return new Ys(s,"signInViaPopup",e,o).executeNotNull()}class Ys extends PA{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ys.currentPopupAction&&Ys.currentPopupAction.cancel(),Ys.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){fr(this.filter.length===1,"Popup operations only handle one event");const e=gg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ys.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ux.get())};e()}}Ys.currentPopupAction=null;const hx="pendingRedirect",gh=new Map;class fx extends PA{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=gh.get(this.auth._key());if(!e){try{const s=await dx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}gh.set(this.auth._key(),e)}return this.bypassAuthState||gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dx(r,e){const n=gx(e),s=px(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function mx(r,e){gh.set(r._key(),e)}function px(r){return rr(r._redirectPersistence)}function gx(r){return ph(hx,r.config.apiKey,r.name)}async function yx(r,e,n=!1){if(ei(r.app))return Promise.reject(Js(r));const s=uf(r),o=VA(s,e),h=await new fx(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const _x=600*1e3;class vx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ex(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!LA(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ri(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_x&&this.cachedEventUids.clear(),this.cachedEventUids.has(xT(e))}saveEventToCache(e){this.cachedEventUids.add(xT(e)),this.lastProcessedEventTime=Date.now()}}function xT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function LA({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function Ex(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LA(r);default:return!1}}async function Tx(r,e={}){return Io(r,"GET","/v1/projects",e)}const Sx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ax=/^https?/;async function bx(r){if(r.config.emulator)return;const{authorizedDomains:e}=await Tx(r);for(const n of e)try{if(wx(n))return}catch{}Li(r,"unauthorized-domain")}function wx(r){const e=up(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!Ax.test(n))return!1;if(Sx.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const Rx=new yu(3e4,6e4);function MT(){const r=Vi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function Cx(r){return new Promise((e,n)=>{function s(){MT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{MT(),n(ri(r,"network-request-failed"))},timeout:Rx.get()})}if(Vi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Vi().gapi?.load)s();else{const o=OO("iframefcb");return Vi()[o]=()=>{gapi.load?s():n(ri(r,"network-request-failed"))},DO(`${NO()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw yh=null,e})}let yh=null;function Ix(r){return yh=yh||Cx(r),yh}const Dx=new yu(5e3,15e3),Nx="__/auth/iframe",Ox="emulator/auth/iframe",xx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vx(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?cg(e,Ox):`https://${r.config.authDomain}/${Nx}`,s={apiKey:e.apiKey,appName:r.name,v:So},o=Mx.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${hu(s).slice(1)}`}async function Px(r){const e=await Ix(r),n=Vi().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:Vx(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xx,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=ri(r,"network-request-failed"),m=Vi().setTimeout(()=>{u(h)},Dx.get());function p(){Vi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}const Lx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kx=500,Ux=600,zx="_blank",jx="http://localhost";class VT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Bx(r,e,n,s=kx,o=Ux){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...Lx,width:s.toString(),height:o.toString(),top:u,left:h},g=Wt().toLowerCase();n&&(m=gA(g)?zx:n),mA(g)&&(e=e||jx,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[V,H])=>`${w}${V}=${H},`,"");if(TO(g)&&m!=="_self")return qx(e||"",m),new VT(null);const T=window.open(e||"",m,E);Ee(T,r,"popup-blocked");try{T.focus()}catch{}return new VT(T)}function qx(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const Hx="__/auth/handler",Fx="emulator/auth/handler",Gx=encodeURIComponent("fac");async function PT(r,e,n,s,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:So,eventId:o};if(e instanceof pg){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",vC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))h[E]=T}if(e instanceof _u){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${Gx}=${encodeURIComponent(p)}`:"";return`${Qx(r)}?${hu(m).slice(1)}${g}`}function Qx({config:r}){return r.emulator?cg(r,Fx):`https://${r.authDomain}/${Hx}`}const Mm="webStorageSupport";class Kx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DA,this._completeRedirectFn=yx,this._overrideRedirectResult=mx}async _openPopup(e,n,s,o){fr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await PT(e,n,s,up(),o);return Bx(e,u,gg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await PT(e,n,s,up(),o);return $O(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(fr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await Px(e),s=new vx(e);return n.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mm,{type:Mm},o=>{const u=o?.[0]?.[Mm];u!==void 0&&n(!!u),Li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bx(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return TA()||pA()||dg()}}const Yx=Kx;var LT="@firebase/auth",kT="1.11.1";class Xx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function $x(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Jx(r){co(new Ws("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SA(r)},g=new CO(s,o,u,p);return MO(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),co(new Ws("auth-internal",e=>{const n=uf(e.getProvider("auth").getImmediate());return(s=>new Xx(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),is(LT,kT,$x(r)),is(LT,kT,"esm2020")}const Zx=300,Wx=S0("authIdTokenMaxAge")||Zx;let UT=null;const eM=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Wx)return;const o=n?.token;UT!==o&&(UT=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function tM(r=I0()){const e=Ip(r,"auth");if(e.isInitialized())return e.getImmediate();const n=xO(r,{popupRedirectResolver:Yx,persistence:[sx,KO,DA]}),s=S0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=eM(u.toString());qO(n,h,()=>h(n.currentUser)),BO(n,m=>h(m))}}const o=E0("auth");return o&&VO(n,`http://${o}`),n}function nM(){return document.getElementsByTagName("head")?.[0]??document}IO({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=ri("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",nM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Jx("Browser");const iM={apiKey:"AIzaSyD5Wi5YIeAkH_Hh85djXD55_nNtaYVaI20",authDomain:"ruche-journal.firebaseapp.com",projectId:"ruche-journal",storageBucket:"ruche-journal.firebasestorage.app",messagingSenderId:"841423963680",appId:"1:841423963680:web:c3740547c6374e63d91e45",measurementId:"G-9K31P52B1J"},kA=C0(iM),_g=tM(kA),rM=new nr,UA=async()=>{try{await cx(_g,rM),alert("Logged in with Google!")}catch(r){console.log(r)}},sM=async()=>{try{await FO(_g),alert("Signed out successfully!")}catch(r){console.error("Error signing out:",r)}},zT=MN(kA);var Vm={exports:{}},Pm={};var jT;function aM(){if(jT)return Pm;jT=1;var r=Hh();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:e,s=r.useSyncExternalStore,o=r.useRef,u=r.useEffect,h=r.useMemo,m=r.useDebugValue;return Pm.useSyncExternalStoreWithSelector=function(p,g,E,T,w){var V=o(null);if(V.current===null){var H={hasValue:!1,value:null};V.current=H}else H=V.current;V=h(function(){function B(fe){if(!Z){if(Z=!0,ie=fe,fe=T(fe),w!==void 0&&H.hasValue){var ge=H.value;if(w(ge,fe))return ee=ge}return ee=fe}if(ge=ee,n(ie,fe))return ge;var C=T(fe);return w!==void 0&&w(ge,C)?(ie=fe,ge):(ie=fe,ee=C)}var Z=!1,ie,ee,le=E===void 0?null:E;return[function(){return B(g())},le===null?void 0:function(){return B(le())}]},[g,E,T,w]);var $=s(p,V[0],V[1]);return u(function(){H.hasValue=!0,H.value=$},[$]),m($),$},Pm}var BT;function oM(){return BT||(BT=1,Vm.exports=aM()),Vm.exports}var lM=oM();function uM(r){r()}function cM(){let r=null,e=null;return{clear(){r=null,e=null},notify(){uM(()=>{let n=r;for(;n;)n.callback(),n=n.next})},get(){const n=[];let s=r;for(;s;)n.push(s),s=s.next;return n},subscribe(n){let s=!0;const o=e={callback:n,next:null,prev:e};return o.prev?o.prev.next=o:r=o,function(){!s||r===null||(s=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:r=o.next)}}}}var qT={notify(){},get:()=>[]};function hM(r,e){let n,s=qT,o=0,u=!1;function h($){E();const B=s.subscribe($);let Z=!1;return()=>{Z||(Z=!0,B(),T())}}function m(){s.notify()}function p(){H.onStateChange&&H.onStateChange()}function g(){return u}function E(){o++,n||(n=r.subscribe(p),s=cM())}function T(){o--,n&&o===0&&(n(),n=void 0,s.clear(),s=qT)}function w(){u||(u=!0,E())}function V(){u&&(u=!1,T())}const H={addNestedSub:h,notifyNestedSubs:m,handleChangeWrapper:p,isSubscribed:g,trySubscribe:w,tryUnsubscribe:V,getListeners:()=>s};return H}var fM=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dM=fM(),mM=()=>typeof navigator<"u"&&navigator.product==="ReactNative",pM=mM(),gM=()=>dM||pM?U.useLayoutEffect:U.useEffect,yM=gM(),_M=Symbol.for("react-redux-context"),vM=typeof globalThis<"u"?globalThis:{};function EM(){if(!U.createContext)return{};const r=vM[_M]??=new Map;let e=r.get(U.createContext);return e||(e=U.createContext(null),r.set(U.createContext,e)),e}var fs=EM();function TM(r){const{children:e,context:n,serverState:s,store:o}=r,u=U.useMemo(()=>{const p=hM(o);return{store:o,subscription:p,getServerState:s?()=>s:void 0}},[o,s]),h=U.useMemo(()=>o.getState(),[o]);yM(()=>{const{subscription:p}=u;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),h!==o.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[u,h]);const m=n||fs;return U.createElement(m.Provider,{value:u},e)}var SM=TM;function vg(r=fs){return function(){return U.useContext(r)}}var zA=vg();function jA(r=fs){const e=r===fs?zA:vg(r),n=()=>{const{store:s}=e();return s};return Object.assign(n,{withTypes:()=>n}),n}var AM=jA();function bM(r=fs){const e=r===fs?AM:jA(r),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var wM=bM(),RM=(r,e)=>r===e;function CM(r=fs){const e=r===fs?zA:vg(r),n=(s,o={})=>{const{equalityFn:u=RM}=typeof o=="function"?{equalityFn:o}:o,h=e(),{store:m,subscription:p,getServerState:g}=h;U.useRef(!0);const E=U.useCallback({[s.name](w){return s(w)}}[s.name],[s]),T=lM.useSyncExternalStoreWithSelector(p.addNestedSub,m.getState,g||m.getState,E,u);return U.useDebugValue(T),T};return Object.assign(n,{withTypes:()=>n}),n}var BA=CM();function Gt(r){return`Minified Redux error #${r}; visit https://redux.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var IM=typeof Symbol=="function"&&Symbol.observable||"@@observable",HT=IM,Lm=()=>Math.random().toString(36).substring(7).split("").join("."),DM={INIT:`@@redux/INIT${Lm()}`,REPLACE:`@@redux/REPLACE${Lm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Lm()}`},Uh=DM;function Eg(r){if(typeof r!="object"||r===null)return!1;let e=r;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e||Object.getPrototypeOf(r)===null}function qA(r,e,n){if(typeof r!="function")throw new Error(Gt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Gt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Gt(1));return n(qA)(r,e)}let s=r,o=e,u=new Map,h=u,m=0,p=!1;function g(){h===u&&(h=new Map,u.forEach((B,Z)=>{h.set(Z,B)}))}function E(){if(p)throw new Error(Gt(3));return o}function T(B){if(typeof B!="function")throw new Error(Gt(4));if(p)throw new Error(Gt(5));let Z=!0;g();const ie=m++;return h.set(ie,B),function(){if(Z){if(p)throw new Error(Gt(6));Z=!1,g(),h.delete(ie),u=null}}}function w(B){if(!Eg(B))throw new Error(Gt(7));if(typeof B.type>"u")throw new Error(Gt(8));if(typeof B.type!="string")throw new Error(Gt(17));if(p)throw new Error(Gt(9));try{p=!0,o=s(o,B)}finally{p=!1}return(u=h).forEach(ie=>{ie()}),B}function V(B){if(typeof B!="function")throw new Error(Gt(10));s=B,w({type:Uh.REPLACE})}function H(){const B=T;return{subscribe(Z){if(typeof Z!="object"||Z===null)throw new Error(Gt(11));function ie(){const le=Z;le.next&&le.next(E())}return ie(),{unsubscribe:B(ie)}},[HT](){return this}}}return w({type:Uh.INIT}),{dispatch:w,subscribe:T,getState:E,replaceReducer:V,[HT]:H}}function NM(r){Object.keys(r).forEach(e=>{const n=r[e];if(typeof n(void 0,{type:Uh.INIT})>"u")throw new Error(Gt(12));if(typeof n(void 0,{type:Uh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Gt(13))})}function OM(r){const e=Object.keys(r),n={};for(let u=0;u<e.length;u++){const h=e[u];typeof r[h]=="function"&&(n[h]=r[h])}const s=Object.keys(n);let o;try{NM(n)}catch(u){o=u}return function(h={},m){if(o)throw o;let p=!1;const g={};for(let E=0;E<s.length;E++){const T=s[E],w=n[T],V=h[T],H=w(V,m);if(typeof H>"u")throw m&&m.type,new Error(Gt(14));g[T]=H,p=p||H!==V}return p=p||s.length!==Object.keys(h).length,p?g:h}}function zh(...r){return r.length===0?e=>e:r.length===1?r[0]:r.reduce((e,n)=>(...s)=>e(n(...s)))}function xM(...r){return e=>(n,s)=>{const o=e(n,s);let u=()=>{throw new Error(Gt(15))};const h={getState:o.getState,dispatch:(p,...g)=>u(p,...g)},m=r.map(p=>p(h));return u=zh(...m)(o.dispatch),{...o,dispatch:u}}}function MM(r){return Eg(r)&&"type"in r&&typeof r.type=="string"}var HA=Symbol.for("immer-nothing"),FT=Symbol.for("immer-draftable"),wn=Symbol.for("immer-state");function ti(r,...e){throw new Error(`[Immer] minified error nr: ${r}. Full error at: https://bit.ly/3cXEKWf`)}var su=Object.getPrototypeOf;function ia(r){return!!r&&!!r[wn]}function dr(r){return r?FA(r)||Array.isArray(r)||!!r[FT]||!!r.constructor?.[FT]||Eu(r)||df(r):!1}var VM=Object.prototype.constructor.toString(),GT=new WeakMap;function FA(r){if(!r||typeof r!="object")return!1;const e=Object.getPrototypeOf(r);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let s=GT.get(n);return s===void 0&&(s=Function.toString.call(n),GT.set(n,s)),s===VM}function jh(r,e,n=!0){ff(r)===0?(n?Reflect.ownKeys(r):Object.keys(r)).forEach(o=>{e(o,r[o],r)}):r.forEach((s,o)=>e(o,s,r))}function ff(r){const e=r[wn];return e?e.type_:Array.isArray(r)?1:Eu(r)?2:df(r)?3:0}function fp(r,e){return ff(r)===2?r.has(e):Object.prototype.hasOwnProperty.call(r,e)}function GA(r,e,n){const s=ff(r);s===2?r.set(e,n):s===3?r.add(n):r[e]=n}function PM(r,e){return r===e?r!==0||1/r===1/e:r!==r&&e!==e}function Eu(r){return r instanceof Map}function df(r){return r instanceof Set}function Qs(r){return r.copy_||r.base_}function dp(r,e){if(Eu(r))return new Map(r);if(df(r))return new Set(r);if(Array.isArray(r))return Array.prototype.slice.call(r);const n=FA(r);if(e===!0||e==="class_only"&&!n){const s=Object.getOwnPropertyDescriptors(r);delete s[wn];let o=Reflect.ownKeys(s);for(let u=0;u<o.length;u++){const h=o[u],m=s[h];m.writable===!1&&(m.writable=!0,m.configurable=!0),(m.get||m.set)&&(s[h]={configurable:!0,writable:!0,enumerable:m.enumerable,value:r[h]})}return Object.create(su(r),s)}else{const s=su(r);if(s!==null&&n)return{...r};const o=Object.create(s);return Object.assign(o,r)}}function Tg(r,e=!1){return mf(r)||ia(r)||!dr(r)||(ff(r)>1&&Object.defineProperties(r,{set:ih,add:ih,clear:ih,delete:ih}),Object.freeze(r),e&&Object.values(r).forEach(n=>Tg(n,!0))),r}function LM(){ti(2)}var ih={value:LM};function mf(r){return r===null||typeof r!="object"?!0:Object.isFrozen(r)}var kM={};function ra(r){const e=kM[r];return e||ti(0,r),e}var au;function QA(){return au}function UM(r,e){return{drafts_:[],parent_:r,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function QT(r,e){e&&(ra("Patches"),r.patches_=[],r.inversePatches_=[],r.patchListener_=e)}function mp(r){pp(r),r.drafts_.forEach(zM),r.drafts_=null}function pp(r){r===au&&(au=r.parent_)}function KT(r){return au=UM(au,r)}function zM(r){const e=r[wn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function YT(r,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return r!==void 0&&r!==n?(n[wn].modified_&&(mp(e),ti(4)),dr(r)&&(r=Bh(e,r),e.parent_||qh(e,r)),e.patches_&&ra("Patches").generateReplacementPatches_(n[wn].base_,r,e.patches_,e.inversePatches_)):r=Bh(e,n,[]),mp(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),r!==HA?r:void 0}function Bh(r,e,n){if(mf(e))return e;const s=r.immer_.shouldUseStrictIteration(),o=e[wn];if(!o)return jh(e,(u,h)=>XT(r,o,e,u,h,n),s),e;if(o.scope_!==r)return e;if(!o.modified_)return qh(r,o.base_,!0),o.base_;if(!o.finalized_){o.finalized_=!0,o.scope_.unfinalizedDrafts_--;const u=o.copy_;let h=u,m=!1;o.type_===3&&(h=new Set(u),u.clear(),m=!0),jh(h,(p,g)=>XT(r,o,u,p,g,n,m),s),qh(r,u,!1),n&&r.patches_&&ra("Patches").generatePatches_(o,n,r.patches_,r.inversePatches_)}return o.copy_}function XT(r,e,n,s,o,u,h){if(o==null||typeof o!="object"&&!h)return;const m=mf(o);if(!(m&&!h)){if(ia(o)){const p=u&&e&&e.type_!==3&&!fp(e.assigned_,s)?u.concat(s):void 0,g=Bh(r,o,p);if(GA(n,s,g),ia(g))r.canAutoFreeze_=!1;else return}else h&&n.add(o);if(dr(o)&&!m){if(!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||e&&e.base_&&e.base_[s]===o&&m)return;Bh(r,o),(!e||!e.scope_.parent_)&&typeof s!="symbol"&&(Eu(n)?n.has(s):Object.prototype.propertyIsEnumerable.call(n,s))&&qh(r,o)}}}function qh(r,e,n=!1){!r.parent_&&r.immer_.autoFreeze_&&r.canAutoFreeze_&&Tg(e,n)}function jM(r,e){const n=Array.isArray(r),s={type_:n?1:0,scope_:e?e.scope_:QA(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=s,u=Sg;n&&(o=[s],u=ou);const{revoke:h,proxy:m}=Proxy.revocable(o,u);return s.draft_=m,s.revoke_=h,m}var Sg={get(r,e){if(e===wn)return r;const n=Qs(r);if(!fp(n,e))return BM(r,n,e);const s=n[e];return r.finalized_||!dr(s)?s:s===km(r.base_,e)?(Um(r),r.copy_[e]=yp(s,r)):s},has(r,e){return e in Qs(r)},ownKeys(r){return Reflect.ownKeys(Qs(r))},set(r,e,n){const s=KA(Qs(r),e);if(s?.set)return s.set.call(r.draft_,n),!0;if(!r.modified_){const o=km(Qs(r),e),u=o?.[wn];if(u&&u.base_===n)return r.copy_[e]=n,r.assigned_[e]=!1,!0;if(PM(n,o)&&(n!==void 0||fp(r.base_,e)))return!0;Um(r),gp(r)}return r.copy_[e]===n&&(n!==void 0||e in r.copy_)||Number.isNaN(n)&&Number.isNaN(r.copy_[e])||(r.copy_[e]=n,r.assigned_[e]=!0),!0},deleteProperty(r,e){return km(r.base_,e)!==void 0||e in r.base_?(r.assigned_[e]=!1,Um(r),gp(r)):delete r.assigned_[e],r.copy_&&delete r.copy_[e],!0},getOwnPropertyDescriptor(r,e){const n=Qs(r),s=Reflect.getOwnPropertyDescriptor(n,e);return s&&{writable:!0,configurable:r.type_!==1||e!=="length",enumerable:s.enumerable,value:n[e]}},defineProperty(){ti(11)},getPrototypeOf(r){return su(r.base_)},setPrototypeOf(){ti(12)}},ou={};jh(Sg,(r,e)=>{ou[r]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});ou.deleteProperty=function(r,e){return ou.set.call(this,r,e,void 0)};ou.set=function(r,e,n){return Sg.set.call(this,r[0],e,n,r[0])};function km(r,e){const n=r[wn];return(n?Qs(n):r)[e]}function BM(r,e,n){const s=KA(e,n);return s?"value"in s?s.value:s.get?.call(r.draft_):void 0}function KA(r,e){if(!(e in r))return;let n=su(r);for(;n;){const s=Object.getOwnPropertyDescriptor(n,e);if(s)return s;n=su(n)}}function gp(r){r.modified_||(r.modified_=!0,r.parent_&&gp(r.parent_))}function Um(r){r.copy_||(r.copy_=dp(r.base_,r.scope_.immer_.useStrictShallowCopy_))}var qM=class{constructor(r){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,s)=>{if(typeof e=="function"&&typeof n!="function"){const u=n;n=e;const h=this;return function(p=u,...g){return h.produce(p,E=>n.call(this,E,...g))}}typeof n!="function"&&ti(6),s!==void 0&&typeof s!="function"&&ti(7);let o;if(dr(e)){const u=KT(this),h=yp(e,void 0);let m=!0;try{o=n(h),m=!1}finally{m?mp(u):pp(u)}return QT(u,s),YT(o,u)}else if(!e||typeof e!="object"){if(o=n(e),o===void 0&&(o=e),o===HA&&(o=void 0),this.autoFreeze_&&Tg(o,!0),s){const u=[],h=[];ra("Patches").generateReplacementPatches_(e,o,u,h),s(u,h)}return o}else ti(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(h,...m)=>this.produceWithPatches(h,p=>e(p,...m));let s,o;return[this.produce(e,n,(h,m)=>{s=h,o=m}),s,o]},typeof r?.autoFreeze=="boolean"&&this.setAutoFreeze(r.autoFreeze),typeof r?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(r.useStrictShallowCopy),typeof r?.useStrictIteration=="boolean"&&this.setUseStrictIteration(r.useStrictIteration)}createDraft(r){dr(r)||ti(8),ia(r)&&(r=HM(r));const e=KT(this),n=yp(r,void 0);return n[wn].isManual_=!0,pp(e),n}finishDraft(r,e){const n=r&&r[wn];(!n||!n.isManual_)&&ti(9);const{scope_:s}=n;return QT(s,e),YT(void 0,s)}setAutoFreeze(r){this.autoFreeze_=r}setUseStrictShallowCopy(r){this.useStrictShallowCopy_=r}setUseStrictIteration(r){this.useStrictIteration_=r}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(r,e){let n;for(n=e.length-1;n>=0;n--){const o=e[n];if(o.path.length===0&&o.op==="replace"){r=o.value;break}}n>-1&&(e=e.slice(n+1));const s=ra("Patches").applyPatches_;return ia(r)?s(r,e):this.produce(r,o=>s(o,e))}};function yp(r,e){const n=Eu(r)?ra("MapSet").proxyMap_(r,e):df(r)?ra("MapSet").proxySet_(r,e):jM(r,e);return(e?e.scope_:QA()).drafts_.push(n),n}function HM(r){return ia(r)||ti(10,r),YA(r)}function YA(r){if(!dr(r)||mf(r))return r;const e=r[wn];let n,s=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=dp(r,e.scope_.immer_.useStrictShallowCopy_),s=e.scope_.immer_.shouldUseStrictIteration()}else n=dp(r,!0);return jh(n,(o,u)=>{GA(n,o,YA(u))},s),e&&(e.finalized_=!1),n}var _p=new qM,XA=_p.produce,FM=_p.setUseStrictIteration.bind(_p);function $A(r){return({dispatch:n,getState:s})=>o=>u=>typeof u=="function"?u(n,s,r):o(u)}var GM=$A(),QM=$A,KM=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?zh:zh.apply(null,arguments)};function $T(r,e){function n(...s){if(e){let o=e(...s);if(!o)throw new Error(or(0));return{type:r,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:r,payload:s[0]}}return n.toString=()=>`${r}`,n.type=r,n.match=s=>MM(s)&&s.type===r,n}var JA=class jl extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,jl.prototype)}static get[Symbol.species](){return jl}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new jl(...e[0].concat(this)):new jl(...e.concat(this))}};function JT(r){return dr(r)?XA(r,()=>{}):r}function rh(r,e,n){return r.has(e)?r.get(e):r.set(e,n(e)).get(e)}function YM(r){return typeof r=="boolean"}var XM=()=>function(e){const{thunk:n=!0,immutableCheck:s=!0,serializableCheck:o=!0,actionCreatorCheck:u=!0}=e??{};let h=new JA;return n&&(YM(n)?h.push(GM):h.push(QM(n.extraArgument))),h},$M="RTK_autoBatch",ZT=r=>e=>{setTimeout(e,r)},JM=(r={type:"raf"})=>e=>(...n)=>{const s=e(...n);let o=!0,u=!1,h=!1;const m=new Set,p=r.type==="tick"?queueMicrotask:r.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:ZT(10):r.type==="callback"?r.queueNotification:ZT(r.timeout),g=()=>{h=!1,u&&(u=!1,m.forEach(E=>E()))};return Object.assign({},s,{subscribe(E){const T=()=>o&&E(),w=s.subscribe(T);return m.add(E),()=>{w(),m.delete(E)}},dispatch(E){try{return o=!E?.meta?.[$M],u=!o,u&&(h||(h=!0,p(g))),s.dispatch(E)}finally{o=!0}}})},ZM=r=>function(n){const{autoBatch:s=!0}=n??{};let o=new JA(r);return s&&o.push(JM(typeof s=="object"?s:void 0)),o};function WM(r){const e=XM(),{reducer:n=void 0,middleware:s,devTools:o=!0,preloadedState:u=void 0,enhancers:h=void 0}=r||{};let m;if(typeof n=="function")m=n;else if(Eg(n))m=OM(n);else throw new Error(or(1));let p;typeof s=="function"?p=s(e):p=e();let g=zh;o&&(g=KM({trace:!1,...typeof o=="object"&&o}));const E=xM(...p),T=ZM(E);let w=typeof h=="function"?h(T):T();const V=g(...w);return qA(m,u,V)}function ZA(r){const e={},n=[];let s;const o={addCase(u,h){const m=typeof u=="string"?u:u.type;if(!m)throw new Error(or(28));if(m in e)throw new Error(or(29));return e[m]=h,o},addAsyncThunk(u,h){return h.pending&&(e[u.pending.type]=h.pending),h.rejected&&(e[u.rejected.type]=h.rejected),h.fulfilled&&(e[u.fulfilled.type]=h.fulfilled),h.settled&&n.push({matcher:u.settled,reducer:h.settled}),o},addMatcher(u,h){return n.push({matcher:u,reducer:h}),o},addDefaultCase(u){return s=u,o}};return r(o),[e,n,s]}FM(!1);function e4(r){return typeof r=="function"}function t4(r,e){let[n,s,o]=ZA(e),u;if(e4(r))u=()=>JT(r());else{const m=JT(r);u=()=>m}function h(m=u(),p){let g=[n[p.type],...s.filter(({matcher:E})=>E(p)).map(({reducer:E})=>E)];return g.filter(E=>!!E).length===0&&(g=[o]),g.reduce((E,T)=>{if(T)if(ia(E)){const V=T(E,p);return V===void 0?E:V}else{if(dr(E))return XA(E,w=>T(w,p));{const w=T(E,p);if(w===void 0){if(E===null)return E;throw Error("A case reducer on a non-draftable value must not return undefined")}return w}}return E},m)}return h.getInitialState=u,h}var n4=Symbol.for("rtk-slice-createasyncthunk");function i4(r,e){return`${r}/${e}`}function r4({creators:r}={}){const e=r?.asyncThunk?.[n4];return function(s){const{name:o,reducerPath:u=o}=s;if(!o)throw new Error(or(11));const h=(typeof s.reducers=="function"?s.reducers(o4()):s.reducers)||{},m=Object.keys(h),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(ee,le){const fe=typeof ee=="string"?ee:ee.type;if(!fe)throw new Error(or(12));if(fe in p.sliceCaseReducersByType)throw new Error(or(13));return p.sliceCaseReducersByType[fe]=le,g},addMatcher(ee,le){return p.sliceMatchers.push({matcher:ee,reducer:le}),g},exposeAction(ee,le){return p.actionCreators[ee]=le,g},exposeCaseReducer(ee,le){return p.sliceCaseReducersByName[ee]=le,g}};m.forEach(ee=>{const le=h[ee],fe={reducerName:ee,type:i4(o,ee),createNotation:typeof s.reducers=="function"};u4(le)?h4(fe,le,g,e):l4(fe,le,g)});function E(){const[ee={},le=[],fe=void 0]=typeof s.extraReducers=="function"?ZA(s.extraReducers):[s.extraReducers],ge={...ee,...p.sliceCaseReducersByType};return t4(s.initialState,C=>{for(let b in ge)C.addCase(b,ge[b]);for(let b of p.sliceMatchers)C.addMatcher(b.matcher,b.reducer);for(let b of le)C.addMatcher(b.matcher,b.reducer);fe&&C.addDefaultCase(fe)})}const T=ee=>ee,w=new Map,V=new WeakMap;let H;function $(ee,le){return H||(H=E()),H(ee,le)}function B(){return H||(H=E()),H.getInitialState()}function Z(ee,le=!1){function fe(C){let b=C[ee];return typeof b>"u"&&le&&(b=rh(V,fe,B)),b}function ge(C=T){const b=rh(w,le,()=>new WeakMap);return rh(b,C,()=>{const R={};for(const[M,N]of Object.entries(s.selectors??{}))R[M]=s4(N,C,()=>rh(V,C,B),le);return R})}return{reducerPath:ee,getSelectors:ge,get selectors(){return ge(fe)},selectSlice:fe}}const ie={name:o,reducer:$,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:B,...Z(u),injectInto(ee,{reducerPath:le,...fe}={}){const ge=le??u;return ee.inject({reducerPath:ge,reducer:$},fe),{...ie,...Z(ge,!0)}}};return ie}}function s4(r,e,n,s){function o(u,...h){let m=e(u);return typeof m>"u"&&s&&(m=n()),r(m,...h)}return o.unwrapped=r,o}var a4=r4();function o4(){function r(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return r.withTypes=()=>r,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:r}}function l4({type:r,reducerName:e,createNotation:n},s,o){let u,h;if("reducer"in s){if(n&&!c4(s))throw new Error(or(17));u=s.reducer,h=s.prepare}else u=s;o.addCase(r,u).exposeCaseReducer(e,u).exposeAction(e,h?$T(r,h):$T(r))}function u4(r){return r._reducerDefinitionType==="asyncThunk"}function c4(r){return r._reducerDefinitionType==="reducerWithPrepare"}function h4({type:r,reducerName:e},n,s,o){if(!o)throw new Error(or(18));const{payloadCreator:u,fulfilled:h,pending:m,rejected:p,settled:g,options:E}=n,T=o(r,u,E);s.exposeAction(e,T),h&&s.addCase(T.fulfilled,h),m&&s.addCase(T.pending,m),p&&s.addCase(T.rejected,p),g&&s.addMatcher(T.settled,g),s.exposeCaseReducer(e,{fulfilled:h||sh,pending:m||sh,rejected:p||sh,settled:g||sh})}function sh(){}function or(r){return`Minified Redux Toolkit error #${r}; visit https://redux-toolkit.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}const f4={value:null},WA=a4({name:"user",initialState:f4,reducers:{setUser:(r,e)=>{r.value=e.payload}}}),d4=r=>({uid:r?.uid,email:r?.email,displayName:r?.displayName,photoURL:r?.photoURL}),{setUser:WT}=WA.actions,m4=WA.reducer,p4=U.lazy(()=>sn(()=>import("./profile-img-B4brBjy0.js"),[]));function g4(){const[r,e]=U.useState(!1),n=BA(m=>m.user.value),s=wM(),o=()=>{sM(),s(WT(null))},u=()=>{UA(),e(!1)};U.useEffect(()=>{const m=HO(_g,p=>{s(WT(p?d4(p):null))});return()=>m()},[]);const h=U.useRef(null);return U.useEffect(()=>{function m(p){h.current&&!h.current.contains(p.target)&&e(!1)}return document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[]),n?G.jsxs("div",{className:"relative",ref:h,children:[G.jsx("button",{className:"cursor-pointer",onClick:()=>e(!r),children:G.jsx(p4,{src:n.photoURL,width:40,alt:"user icon",className:"rounded-full shadow-lg transition-all duration-300 ease-in-out"})}),r&&G.jsxs("div",{className:"absolute right-0 top-15 bg-gray-900 p-2 px-1 rounded shadow-lg text-gray-100",children:[G.jsx("p",{className:"text-center font-bold mb-4",children:n.displayName}),G.jsx("hr",{className:"mx-auto border-t border-gray-600 my-2 w-3/4 align-center"}),G.jsx(MR,{className:"fill-gray-900 text-gray-900 absolute left-34",style:{top:-18}}),G.jsxs("button",{className:"p-2 cursor-pointer top-16 hover:pl-3 hover:pr-1 transition-all duration-300 ease-in-out flex","aria-label":"authentication",onClick:o,children:[G.jsx(CR,{}),G.jsx("span",{className:"ml-3 text-nowrap",children:"Se dÃ©connecter"})]})]})]}):G.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 transition-colors cursor-pointer","aria-label":"authentication",onClick:u,children:G.jsx(wR,{className:"w-5 h-5 text-gray-700"})})}const y4=Object.freeze(Object.defineProperty({__proto__:null,default:g4},Symbol.toStringTag,{value:"Module"}));async function pf(){try{const r=await fetch("/ruche-journal/data.json");if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return await r.json()}catch(r){console.error("Error loading JSON:",r)}}async function k4({tag_id:r,author_id:e,category_id:n}={}){let s=(await pf()).articles;return r&&(s=s.filter(o=>o.tags?.some(u=>u.id===r))),e&&(s=s.filter(o=>o.author_id===e)),n&&(s=s.filter(o=>o.category_id===n)),s}async function U4(r){return(await pf()).articles.find(n=>n.slug===r)}async function z4(r){return(await pf()).categories.find(n=>n.slug===r)}async function j4(r,e){let n=(await pf()).articles;return n=n.filter(s=>s.category?.id===r),n.sort((s,o)=>new Date(o.created_at).getTime()-new Date(s.created_at).getTime()).slice(0,e)}function B4(r){return new Promise(e=>setTimeout(e,r))}const _4=r=>typeof r=="number"?new Date(r*1e3).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}):new Date(r).toLocaleDateString("fr-FR",{month:"long",day:"numeric",year:"numeric"}),v4="/ruche-journal/signin-google.png",e0=U.lazy(()=>sn(()=>import("./profile-img-B4brBjy0.js"),[]));function q4({article_id:r}){const{slug:e}=dw();if(!e)return G.jsx(Cw,{to:"/"});const[n,s]=U.useState([]),o=BA(p=>p.user.value),[u,h]=U.useState(""),m=async()=>{if(u.trim())try{await JN(pT(zT,"comments"),{article_id:r,name:o.displayName,avatar:o.photoURL,date:tO(),text:u}),h("")}catch(p){console.error("Error adding comment: ",p)}};return U.useEffect(()=>{const p=GN(pT(zT,"comments"),QN("article_id","==",r),KN("date","desc")),g=ZN(p,E=>{s(E.docs.map(T=>({id:T.id,...T.data()})))});return()=>g()},[]),G.jsxs("div",{className:"mt-10 border-t pt-8 border-gray-300",children:[G.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Commentaires"}),o?G.jsxs("div",{className:"flex items-start gap-3 mb-8",children:[G.jsx(e0,{src:o.photoURL,alt:"User avatar",className:"w-10 h-10 rounded-full"}),G.jsxs("div",{className:"flex-1",children:[G.jsx("textarea",{className:"w-full p-3 border rounded-lg focus:outline-none focus:ring focus:ring-blue-300",placeholder:"Ã‰crire un commentaire...",value:u,onChange:p=>h(p.target.value)}),G.jsx("button",{onClick:m,type:"submit",className:"px-8 py-3 bg-gray-100 text-gray-900 rounded-lg font-semibold hover:bg-gray-300 transition-colors hover:cursor-pointer shadow-md",children:"Publier"})]})]}):G.jsxs("div",{className:"px-4 p-2 mb-8 border rounded-lg bg-gray-50 flex gap-4 items-center justify-between text-center",children:[G.jsx("p",{className:"text-gray-700 font-medium",children:G.jsx("small",{children:"Vous devez Ãªtre connectÃ© pour publier un commentaire."})}),G.jsx("button",{className:"p-2 rounded cursor-pointer border border-gray-300 hover:bg-gray-100 transition-all",onClick:UA,children:G.jsx("img",{src:v4,width:30,height:30})})]}),G.jsx("div",{className:"space-y-6",children:n.map(p=>G.jsxs("div",{className:"flex gap-4",children:[G.jsx(e0,{src:p.avatar,alt:"avatar",className:"w-12 h-12 rounded-full"}),G.jsxs("div",{className:"flex-1",children:[G.jsxs("div",{className:"flex items-center justify-between",children:[G.jsx("h4",{className:"font-semibold",children:p.name}),G.jsx("span",{className:"text-sm text-gray-400",children:_4(p.date?.seconds)})]}),G.jsx("p",{className:"mt-1 text-gray-700",children:p.text})]})]},p.id))})]})}const E4=U.lazy(()=>sn(()=>import("./Home-C-bb_iRQ.js"),[])),T4=U.lazy(()=>sn(()=>import("./About-D8o6aHuh.js"),[])),S4=U.lazy(()=>sn(()=>import("./Contact-DfpQ58ki.js"),[])),A4=U.lazy(()=>sn(()=>import("./RedirectArticle-6ftr_GIM.js"),[])),b4=U.lazy(()=>sn(()=>import("./ArticleDetail-DastjaTn.js"),__vite__mapDeps([2,3,1,4]))),w4=U.lazy(()=>sn(()=>import("./RedirectCategory-Dtw3zqlp.js"),[])),R4=U.lazy(()=>sn(()=>import("./Category-D9cMu0-K.js"),[])),C4=U.lazy(()=>sn(()=>import("./PrivacyAndPolicy-DwReqi5I.js"),[])),I4=U.lazy(()=>sn(()=>import("./TermsOfService-DiCCErvG.js"),[])),D4=U.lazy(()=>sn(()=>import("./CookiePolicy-CDyB63Ha.js"),[]));function N4(){return G.jsxs(G.Fragment,{children:[G.jsx(KR,{}),G.jsx(Nw,{children:G.jsxs(dn,{element:G.jsx(FR,{}),children:[G.jsx(dn,{index:!0,element:G.jsx(E4,{})}),G.jsx(dn,{path:"about",element:G.jsx(T4,{})}),G.jsx(dn,{path:"contact",element:G.jsx(S4,{})}),G.jsxs(dn,{path:"article",children:[G.jsx(dn,{index:!0,element:G.jsx(A4,{})}),G.jsx(dn,{path:":slug",element:G.jsx(b4,{})})]}),G.jsxs(dn,{path:"category",children:[G.jsx(dn,{index:!0,element:G.jsx(w4,{})}),G.jsx(dn,{path:":slug",element:G.jsx(R4,{})})]}),G.jsx(dn,{path:"privacy-policy",element:G.jsx(C4,{})}),G.jsx(dn,{path:"terms-of-service",element:G.jsx(I4,{})}),G.jsx(dn,{path:"cookies-policy",element:G.jsx(D4,{})})]})})]})}const O4=WM({reducer:{user:m4}}),x4=pR.createRoot(document.getElementById("root"));x4.render(G.jsx(Ww,{children:G.jsx(V1.StrictMode,{children:G.jsx(SM,{store:O4,children:G.jsx(N4,{})})})}));export{V4 as A,oE as C,es as L,Cw as N,PR as U,sn as _,M4 as a,j4 as b,ds as c,U4 as d,q4 as e,_4 as f,z4 as g,k4 as h,G as j,pf as l,U as r,B4 as s,dw as u};
